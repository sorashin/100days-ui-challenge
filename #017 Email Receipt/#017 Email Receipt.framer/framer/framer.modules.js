require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"LottieLayer":[function(require,module,exports){

/*
LottieLayer
-
Implementation of Hernan Torrisi & AirBnb "Lottie-Web", for Framer.
by @72mena
 */
var insertScript,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

insertScript = function(localScript, webScript, name) {
  var e, head, lib, script;
  if (name == null) {
    name = 'JavaScript Library';
  }
  try {
    lib = Utils.domLoadDataSync(localScript);
    console.log("%c" + name + " Successfully Included Locally", "background: #DDFFE3; color: #007814");
  } catch (error) {
    e = error;
    try {
      lib = Utils.domLoadDataSync(webScript);
      console.log("%c" + name + " Successfully Included from Web", "background: #DDFFE3; color: #007814");
    } catch (error) {
      e = error;
      throw Error("Sorry, I couldn't load " + name);
    }
  }
  script = document.createElement("script");
  script.type = "text/javascript";
  script.innerHTML = lib;
  head = document.getElementsByTagName("head")[0];
  head.appendChild(script);
  return script;
};

insertScript("modules/lottie.min.js", "https://raw.githubusercontent.com/airbnb/lottie-web/master/build/player/lottie.min.js", "lottie-web");

exports.LottieLayer = (function(superClass) {
  extend(LottieLayer, superClass);

  LottieLayer.define("speed", {
    get: function() {
      return this._properties["speed"];
    },
    set: function(value) {
      this._properties["speed"] = value;
      if (this.built) {
        this.setSpeed(value);
      }
      return this.emit("change:speed");
    }
  });

  LottieLayer.define("direction", {
    get: function() {
      return this._properties["direction"];
    },
    set: function(value) {
      this._properties["direction"] = value;
      if (this.built) {
        this.setDirection(value);
      }
      return this.emit("change:direction");
    }
  });

  LottieLayer.define("path", {
    get: function() {
      return this._properties["path"];
    },
    set: function(value) {
      this._properties["path"] = value;
      if (this.built) {
        this.setSettings();
      }
      return this.emit("change:path");
    }
  });

  function LottieLayer(options) {
    var base, base1, base2, base3, base4, base5, base6;
    this.options = options != null ? options : {};
    if ((base = this.options).backgroundColor == null) {
      base.backgroundColor = null;
    }
    if ((base1 = this.options).path == null) {
      base1.path = null;
    }
    if ((base2 = this.options).autoplay == null) {
      base2.autoplay = true;
    }
    if ((base3 = this.options).loop == null) {
      base3.loop = true;
    }
    if ((base4 = this.options).speed == null) {
      base4.speed = 1;
    }
    if ((base5 = this.options).direction == null) {
      base5.direction = 1;
    }
    if ((base6 = this.options).renderer == null) {
      base6.renderer = "svg";
    }
    LottieLayer.__super__.constructor.call(this, this.options);
    if (this.options.path === null) {
      print("From LottieLayer: Setting a path to your json file is required.");
    }
    if (this.name === "") {
      print("From LottieLayer: The 'name' attribute is required.");
    }
    this.autoplay = this.options.autoplay;
    this.loop = this.options.loop;
    this.renderer = this.options.renderer;
    this.built = false;
    this._animationLayer = null;
    this.build();
  }

  LottieLayer.prototype.build = function() {
    this.html = '<div id=' + ("" + this.name) + '></div>';
    this.setSettings();
    return this.built = true;
  };

  LottieLayer.prototype.setSettings = function() {
    var _container, lottieSettings;
    _container = document.getElementById(this.name);
    _container.innerHTML = "";
    lottieSettings = {
      container: _container,
      path: this.path,
      renderer: this.renderer,
      autoplay: this.autoplay,
      loop: this.loop
    };
    this._animationLayer = lottie.loadAnimation(lottieSettings);
    this.setSpeed();
    return this.setDirection();
  };

  LottieLayer.prototype.play = function() {
    return this._animationLayer.play();
  };

  LottieLayer.prototype.stop = function() {
    return this._animationLayer.stop();
  };

  LottieLayer.prototype.pause = function() {
    return this._animationLayer.pause();
  };

  LottieLayer.prototype.goToAndPlay = function(value, isFrame) {
    if (isFrame == null) {
      isFrame = true;
    }
    return this._animationLayer.goToAndPlay(value, isFrame);
  };

  LottieLayer.prototype.goToAndStop = function(value, isFrame) {
    if (isFrame == null) {
      isFrame = true;
    }
    return this._animationLayer.goToAndStop(value, isFrame);
  };

  LottieLayer.prototype.playSegments = function(segments, forceFlag) {
    if (forceFlag == null) {
      forceFlag = true;
    }
    return this._animationLayer.playSegments(segments, forceFlag);
  };

  LottieLayer.prototype.setSpeed = function(speed) {
    if (speed == null) {
      speed = this.speed;
    }
    return this._animationLayer.setSpeed(speed);
  };

  LottieLayer.prototype.setDirection = function(direction) {
    if (direction == null) {
      direction = this.direction;
    }
    return this._animationLayer.setDirection(direction);
  };

  LottieLayer.prototype.onComplete = function(callback) {
    if (this.loop) {
      return this._animationLayer.addEventListener("loopComplete", callback);
    } else {
      return this._animationLayer.addEventListener("complete", callback);
    }
  };

  return LottieLayer;

})(Layer);


},{}],"lottie-min":[function(require,module,exports){
!function(t,e){"function"==typeof define&&define.amd?define(function(){return e(t)}):"object"==typeof module&&module.exports?module.exports=e(t):(t.lottie=e(t),t.bodymovin=t.lottie)}(window||{},function(window){function ProjectInterface(){return{}}function roundValues(t){bm_rnd=t?Math.round:function(t){return t}}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin=t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility=t.style.webkitBackfaceVisibility="visible",t.style.transformStyle=t.style.webkitTransformStyle=t.style.mozTransformStyle="preserve-3d"}function styleUnselectableDiv(t){t.style.userSelect="none",t.style.MozUserSelect="none",t.style.webkitUserSelect="none",t.style.oUserSelect="none"}function BMEnterFrameEvent(t,e,r,s){this.type=t,this.currentTime=e,this.totalTime=r,this.direction=0>s?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=0>e?-1:1}function BMCompleteLoopEvent(t,e,r,s){this.type=t,this.currentLoop=e,this.totalLoops=r,this.direction=0>s?-1:1}function BMSegmentStartEvent(t,e,r){this.type=t,this.firstFrame=e,this.totalFrames=r}function BMDestroyEvent(t,e){this.type=t,this.target=e}function _addEventListener(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)}function _removeEventListener(t,e){if(e){if(this._cbs[t]){for(var r=0,s=this._cbs[t].length;s>r;)this._cbs[t][r]===e&&(this._cbs[t].splice(r,1),r-=1,s-=1),r+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}function _triggerEvent(t,e){if(this._cbs[t])for(var r=this._cbs[t].length,s=0;r>s;s++)this._cbs[t][s](e)}function randomString(t,e){void 0===e&&(e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890");var r,s="";for(r=t;r>0;--r)s+=e[Math.round(Math.random()*(e.length-1))];return s}function HSVtoRGB(t,e,r){var s,i,a,n,o,h,l,p;switch(1===arguments.length&&(e=t.s,r=t.v,t=t.h),n=Math.floor(6*t),o=6*t-n,h=r*(1-e),l=r*(1-o*e),p=r*(1-(1-o)*e),n%6){case 0:s=r,i=p,a=h;break;case 1:s=l,i=r,a=h;break;case 2:s=h,i=r,a=p;break;case 3:s=h,i=l,a=r;break;case 4:s=p,i=h,a=r;break;case 5:s=r,i=h,a=l}return[s,i,a]}function RGBtoHSV(t,e,r){1===arguments.length&&(e=t.g,r=t.b,t=t.r);var s,i=Math.max(t,e,r),a=Math.min(t,e,r),n=i-a,o=0===i?0:n/i,h=i/255;switch(i){case a:s=0;break;case t:s=e-r+n*(r>e?6:0),s/=6*n;break;case e:s=r-t+2*n,s/=6*n;break;case r:s=t-e+4*n,s/=6*n}return[s,o,h]}function addSaturationToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[1]+=e,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[2]+=e,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[0]+=e/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}function createElement(t,e,r){if(!e){var s=Object.create(t.prototype,r),i={};return s&&"[object Function]"===i.toString.call(s.init)&&s.init(),s}e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype._parent=t.prototype}function extendPrototype(t,e){for(var r in t.prototype)t.prototype.hasOwnProperty(r)&&(e.prototype[r]=t.prototype[r])}function bezFunction(){function t(t,e,r,s,i,a){var n=t*s+e*i+r*a-i*s-a*t-r*e;return n>-1e-4&&1e-4>n}function e(e,r,s,i,a,n,o,h,l){if(0===s&&0===n&&0===l)return t(e,r,i,a,o,h);var p,m=Math.sqrt(Math.pow(i-e,2)+Math.pow(a-r,2)+Math.pow(n-s,2)),f=Math.sqrt(Math.pow(o-e,2)+Math.pow(h-r,2)+Math.pow(l-s,2)),c=Math.sqrt(Math.pow(o-i,2)+Math.pow(h-a,2)+Math.pow(l-n,2));return p=m>f?m>c?m-f-c:c-f-m:c>f?c-f-m:f-m-c,p>-1e-4&&1e-4>p}function r(t){var e,r=t.c,s=t.v,i=t.o,a=t.i,n=t._length,o=[],h=0;for(e=0;n-1>e;e+=1)o[e]=l(s[e],s[e+1],i[e],a[e+1]),h+=o[e].addedLength;return r&&(o[e]=l(s[e],s[0],i[e],a[0]),h+=o[e].addedLength),{lengths:o,totalLength:h}}function s(t){this.segmentLength=0,this.points=new Array(t)}function i(t,e){this.partialLength=t,this.point=e}function a(t,e){var r=e.segments,s=r.length,i=bm_floor((s-1)*t),a=t*e.addedLength,n=0;if(a==r[i].l)return r[i].p;for(var o=r[i].l>a?-1:1,h=!0;h;)r[i].l<=a&&r[i+1].l>a?(n=(a-r[i].l)/(r[i+1].l-r[i].l),h=!1):i+=o,(0>i||i>=s-1)&&(h=!1);return r[i].p+(r[i+1].p-r[i].p)*n}function n(){this.pt1=new Array(2),this.pt2=new Array(2),this.pt3=new Array(2),this.pt4=new Array(2)}function o(t,e,r,s,i,n){var o=a(i,n),h=1-o,l=Math.round(1e3*(h*h*h*t[0]+(o*h*h+h*o*h+h*h*o)*r[0]+(o*o*h+h*o*o+o*h*o)*s[0]+o*o*o*e[0]))/1e3,p=Math.round(1e3*(h*h*h*t[1]+(o*h*h+h*o*h+h*h*o)*r[1]+(o*o*h+h*o*o+o*h*o)*s[1]+o*o*o*e[1]))/1e3;return[l,p]}function h(t,e,r,s,i,o,h){var l=new n;i=0>i?0:i>1?1:i;var p=a(i,h);o=o>1?1:o;var m,f=a(o,h),c=t.length,d=1-p,u=1-f;for(m=0;c>m;m+=1)l.pt1[m]=Math.round(1e3*(d*d*d*t[m]+(p*d*d+d*p*d+d*d*p)*r[m]+(p*p*d+d*p*p+p*d*p)*s[m]+p*p*p*e[m]))/1e3,l.pt3[m]=Math.round(1e3*(d*d*u*t[m]+(p*d*u+d*p*u+d*d*f)*r[m]+(p*p*u+d*p*f+p*d*f)*s[m]+p*p*f*e[m]))/1e3,l.pt4[m]=Math.round(1e3*(d*u*u*t[m]+(p*u*u+d*f*u+d*u*f)*r[m]+(p*f*u+d*f*f+p*u*f)*s[m]+p*f*f*e[m]))/1e3,l.pt2[m]=Math.round(1e3*(u*u*u*t[m]+(f*u*u+u*f*u+u*u*f)*r[m]+(f*f*u+u*f*f+f*u*f)*s[m]+f*f*f*e[m]))/1e3;return l}var l=(Math,function(){function t(t,e){this.l=t,this.p=e}return function(e,r,s,i){var a,n,o,h,l,p,m=defaultCurveSegments,f=0,c=[],d=[],u={addedLength:0,segments:Array.apply(null,{length:m})};for(o=s.length,a=0;m>a;a+=1){for(l=a/(m-1),p=0,n=0;o>n;n+=1)h=bm_pow(1-l,3)*e[n]+3*bm_pow(1-l,2)*l*s[n]+3*(1-l)*bm_pow(l,2)*i[n]+bm_pow(l,3)*r[n],c[n]=h,null!==d[n]&&(p+=bm_pow(c[n]-d[n],2)),d[n]=c[n];p&&(p=bm_sqrt(p),f+=p),u.segments[a]=new t(f,l)}return u.addedLength=f,u}}()),p=function(){var e={};return function(r){var a=r.s,n=r.e,o=r.to,h=r.ti,l=(a.join("_")+"_"+n.join("_")+"_"+o.join("_")+"_"+h.join("_")).replace(/\./g,"p");if(e[l])return void(r.bezierData=e[l]);var p,m,f,c,d,u,y,g=defaultCurveSegments,v=0,b=null;2===a.length&&(a[0]!=n[0]||a[1]!=n[1])&&t(a[0],a[1],n[0],n[1],a[0]+o[0],a[1]+o[1])&&t(a[0],a[1],n[0],n[1],n[0]+h[0],n[1]+h[1])&&(g=2);var E=new s(g);for(f=o.length,p=0;g>p;p+=1){for(y=new Array(f),d=p/(g-1),u=0,m=0;f>m;m+=1)c=bm_pow(1-d,3)*a[m]+3*bm_pow(1-d,2)*d*(a[m]+o[m])+3*(1-d)*bm_pow(d,2)*(n[m]+h[m])+bm_pow(d,3)*n[m],y[m]=c,null!==b&&(u+=bm_pow(y[m]-b[m],2));u=bm_sqrt(u),v+=u,E.points[p]=new i(u,y),b=y}E.segmentLength=v,r.bezierData=E,e[l]=E}}();return{getBezierLength:l,getSegmentsLength:r,getNewSegment:h,getPointInSegment:o,buildBezierData:p,pointOnLine2D:t,pointOnLine3D:e}}function dataFunctionManager(){function t(i,a,o){var h,l,p,m,f,c,d,u,y=i.length;for(m=0;y>m;m+=1)if(h=i[m],"ks"in h&&!h.completed){if(h.completed=!0,h.tt&&(i[m-1].td=h.tt),l=[],p=-1,h.hasMask){var g=h.masksProperties;for(c=g.length,f=0;c>f;f+=1)if(g[f].pt.k.i)s(g[f].pt.k);else for(u=g[f].pt.k.length,d=0;u>d;d+=1)g[f].pt.k[d].s&&s(g[f].pt.k[d].s[0]),g[f].pt.k[d].e&&s(g[f].pt.k[d].e[0])}0===h.ty?(h.layers=e(h.refId,a),t(h.layers,a,o)):4===h.ty?r(h.shapes):5==h.ty&&n(h,o)}}function e(t,e){for(var r=0,s=e.length;s>r;){if(e[r].id===t)return e[r].layers.__used?JSON.parse(JSON.stringify(e[r].layers)):(e[r].layers.__used=!0,e[r].layers);r+=1}}function r(t){var e,i,a,n=t.length,o=!1;for(e=n-1;e>=0;e-=1)if("sh"==t[e].ty){if(t[e].ks.k.i)s(t[e].ks.k);else for(a=t[e].ks.k.length,i=0;a>i;i+=1)t[e].ks.k[i].s&&s(t[e].ks.k[i].s[0]),t[e].ks.k[i].e&&s(t[e].ks.k[i].e[0]);o=!0}else"gr"==t[e].ty&&r(t[e].it)}function s(t){var e,r=t.i.length;for(e=0;r>e;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function i(t,e){var r=e?e.split("."):[100,100,100];return t[0]>r[0]?!0:r[0]>t[0]?!1:t[1]>r[1]?!0:r[1]>t[1]?!1:t[2]>r[2]?!0:r[2]>t[2]?!1:void 0}function a(e,r){e.__complete||(l(e),o(e),h(e),p(e),t(e.layers,e.assets,r),e.__complete=!0)}function n(t,e){0!==t.t.a.length||"m"in t.t.p||(t.singleShape=!0)}var o=function(){function t(t){var e=t.t.d;t.t.d={k:[{s:e,t:0}]}}function e(e){var r,s=e.length;for(r=0;s>r;r+=1)5===e[r].ty&&t(e[r])}var r=[4,4,14];return function(t){if(i(r,t.v)&&(e(t.layers),t.assets)){var s,a=t.assets.length;for(s=0;a>s;s+=1)t.assets[s].layers&&e(t.assets[s].layers)}}}(),h=function(){var t=[4,7,99];return function(e){if(e.chars&&!i(t,e.v)){var r,a,n,o,h,l=e.chars.length;for(r=0;l>r;r+=1)if(e.chars[r].data&&e.chars[r].data.shapes)for(h=e.chars[r].data.shapes[0].it,n=h.length,a=0;n>a;a+=1)o=h[a].ks.k,o.__converted||(s(h[a].ks.k),o.__converted=!0)}}}(),l=function(){function t(e){var r,s,i,a=e.length;for(r=0;a>r;r+=1)if("gr"===e[r].ty)t(e[r].it);else if("fl"===e[r].ty||"st"===e[r].ty)if(e[r].c.k&&e[r].c.k[0].i)for(i=e[r].c.k.length,s=0;i>s;s+=1)e[r].c.k[s].s&&(e[r].c.k[s].s[0]/=255,e[r].c.k[s].s[1]/=255,e[r].c.k[s].s[2]/=255,e[r].c.k[s].s[3]/=255),e[r].c.k[s].e&&(e[r].c.k[s].e[0]/=255,e[r].c.k[s].e[1]/=255,e[r].c.k[s].e[2]/=255,e[r].c.k[s].e[3]/=255);else e[r].c.k[0]/=255,e[r].c.k[1]/=255,e[r].c.k[2]/=255,e[r].c.k[3]/=255}function e(e){var r,s=e.length;for(r=0;s>r;r+=1)4===e[r].ty&&t(e[r].shapes)}var r=[4,1,9];return function(t){if(i(r,t.v)&&(e(t.layers),t.assets)){var s,a=t.assets.length;for(s=0;a>s;s+=1)t.assets[s].layers&&e(t.assets[s].layers)}}}(),p=function(){function t(e){var r,s,i,a=e.length,n=!1;for(r=a-1;r>=0;r-=1)if("sh"==e[r].ty){if(e[r].ks.k.i)e[r].ks.k.c=e[r].closed;else for(i=e[r].ks.k.length,s=0;i>s;s+=1)e[r].ks.k[s].s&&(e[r].ks.k[s].s[0].c=e[r].closed),e[r].ks.k[s].e&&(e[r].ks.k[s].e[0].c=e[r].closed);n=!0}else"gr"==e[r].ty&&t(e[r].it)}function e(e){var r,s,i,a,n,o,h=e.length;for(s=0;h>s;s+=1){if(r=e[s],r.hasMask){var l=r.masksProperties;for(a=l.length,i=0;a>i;i+=1)if(l[i].pt.k.i)l[i].pt.k.c=l[i].cl;else for(o=l[i].pt.k.length,n=0;o>n;n+=1)l[i].pt.k[n].s&&(l[i].pt.k[n].s[0].c=l[i].cl),l[i].pt.k[n].e&&(l[i].pt.k[n].e[0].c=l[i].cl)}4===r.ty&&t(r.shapes)}}var r=[4,4,18];return function(t){if(i(r,t.v)&&(e(t.layers),t.assets)){var s,a=t.assets.length;for(s=0;a>s;s+=1)t.assets[s].layers&&e(t.assets[s].layers)}}}(),m={};return m.completeData=a,m}function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=Array.apply(null,{length:this._maxLength}),this.o=Array.apply(null,{length:this._maxLength}),this.i=Array.apply(null,{length:this._maxLength})}function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=Array.apply(null,{length:this._maxLength})}function DashProperty(t,e,r,s){this.elem=t,this.frameId=-1,this.dataProps=Array.apply(null,{length:e.length}),this.renderer=r,this.mdf=!1,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length-1),this.dashoffset=createTypedArray("float32",1);var i,a,n=e.length;for(i=0;n>i;i+=1)a=PropertyFactory.getProp(t,e[i].v,0,0,s),this.k=a.k?!0:this.k,this.dataProps[i]={n:e[i].n,p:a};this.k?s.push(this):this.getValue(!0)}function GradientProperty(t,e,r){this.prop=PropertyFactory.getProp(t,e.k,1,null,[]),this.data=e,this.k=this.prop.k,this.c=createTypedArray("uint8c",4*e.p);var s=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",s),this.cmdf=!1,this.omdf=!1,this.prop.k&&r.push(this),this.getValue(!0)}function TextAnimatorProperty(t,e,r){this.mdf=!1,this._firstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._dynamicProperties=[],this._textData=t,this._renderType=e,this._elem=r,this._animatorsData=Array.apply(null,{length:this._textData.a.length}),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1}function LetterProps(t,e,r,s,i,a){this.o=t,this.sw=e,this.sc=r,this.fc=s,this.m=i,this.p=a,this.mdf={o:!0,sw:!!e,sc:!!r,fc:!!s,m:!0,p:!0}}function TextProperty(t,e,r){this._frameId=-99999,this.pv="",this.v="",this.kf=!1,this.firstFrame=!0,this.mdf=!0,this.data=e,this.elem=t,this.keysIndex=-1,this.currentData={ascent:0,boxWidth:[0,0],f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,__complete:!1},this.searchProperty()?r.push(this):this.getValue(!0)}function BaseRenderer(){}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.globalData={frameNum:-1},this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:e&&e.hideOnTransparent===!1?!1:!0,viewBoxOnly:e&&e.viewBoxOnly||!1,className:e&&e.className||""},this.globalData.renderConfig=this.renderConfig,this.elements=[],this.pendingElements=[],this.destroyed=!1}function MaskElement(t,e,r){this.dynamicProperties=[],this.data=t,this.element=e,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties,this.viewData=Array.apply(null,{length:this.masksProperties.length}),this.maskElement=null,this.firstFrame=!0;var s,i,a,n,o,h,l,p,m=this.globalData.defs,f=this.masksProperties.length,c=this.masksProperties,d=0,u=[],y=randomString(10),g="clipPath",v="clip-path";for(s=0;f>s;s++)if(("a"!==c[s].mode&&"n"!==c[s].mode||c[s].inv||100!==c[s].o.k)&&(g="mask",v="mask"),"s"!=c[s].mode&&"i"!=c[s].mode||0!=d?o=null:(o=document.createElementNS(svgNS,"rect"),o.setAttribute("fill","#ffffff"),o.setAttribute("width",this.element.comp.data.w),o.setAttribute("height",this.element.comp.data.h),u.push(o)),i=document.createElementNS(svgNS,"path"),"n"!=c[s].mode){if(d+=1,"s"==c[s].mode?i.setAttribute("fill","#000000"):i.setAttribute("fill","#ffffff"),i.setAttribute("clip-rule","nonzero"),0!==c[s].x.k){g="mask",v="mask",p=PropertyFactory.getProp(this.element,c[s].x,0,null,this.dynamicProperties);var b="fi_"+randomString(10);h=document.createElementNS(svgNS,"filter"),h.setAttribute("id",b),l=document.createElementNS(svgNS,"feMorphology"),l.setAttribute("operator","dilate"),l.setAttribute("in","SourceGraphic"),l.setAttribute("radius","0"),h.appendChild(l),m.appendChild(h),"s"==c[s].mode?i.setAttribute("stroke","#000000"):i.setAttribute("stroke","#ffffff")}else l=null,p=null;if(this.storedData[s]={elem:i,x:p,expan:l,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},"i"==c[s].mode){n=u.length;var E=document.createElementNS(svgNS,"g");for(a=0;n>a;a+=1)E.appendChild(u[a]);var P=document.createElementNS(svgNS,"mask");P.setAttribute("mask-type","alpha"),P.setAttribute("id",y+"_"+d),P.appendChild(i),m.appendChild(P),E.setAttribute("mask","url("+locationHref+"#"+y+"_"+d+")"),u.length=0,u.push(E)}else u.push(i);c[s].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[s]={elem:i,lastPath:"",op:PropertyFactory.getProp(this.element,c[s].o,0,.01,this.dynamicProperties),prop:ShapePropertyFactory.getShapeProp(this.element,c[s],3,this.dynamicProperties,null)},o&&(this.viewData[s].invRect=o),this.viewData[s].prop.k||this.drawPath(c[s],this.viewData[s].prop.v,this.viewData[s])}else this.viewData[s]={op:PropertyFactory.getProp(this.element,c[s].o,0,.01,this.dynamicProperties),prop:ShapePropertyFactory.getShapeProp(this.element,c[s],3,this.dynamicProperties,null),elem:i},m.appendChild(i);for(this.maskElement=document.createElementNS(svgNS,g),f=u.length,s=0;f>s;s+=1)this.maskElement.appendChild(u[s]);this.maskElement.setAttribute("id",y),d>0&&this.element.maskedElement.setAttribute(v,"url("+locationHref+"#"+y+")"),m.appendChild(this.maskElement)}function BaseElement(){}function SVGBaseElement(t,e,r,s,i){this.globalData=r,this.comp=s,this.data=t,this.matteElement=null,this.transformedElement=null,this.isTransparent=!1,this.parentContainer=e,this.layerId=i?i.layerId:"ly_"+randomString(10),this.placeholder=i,this._sizeChanged=!1,this.init()}function IShapeElement(t,e,r,s,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this._parent.constructor.call(this,t,e,r,s,i)}function ITextElement(t,e,r,s){}function SVGTextElement(t,e,r,s,i){this.textSpans=[],this.renderType="svg",this._parent.constructor.call(this,t,e,r,s,i)}function SVGTintFilter(t,e){this.filterManager=e;var r=document.createElementNS(svgNS,"feColorMatrix");if(r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.setAttribute("result","f1"),t.appendChild(r),r=document.createElementNS(svgNS,"feColorMatrix"),r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),r.setAttribute("result","f2"),t.appendChild(r),this.matrixFilter=r,100!==e.effectElements[2].p.v||e.effectElements[2].p.k){var s=document.createElementNS(svgNS,"feMerge");t.appendChild(s);var i;i=document.createElementNS(svgNS,"feMergeNode"),i.setAttribute("in","SourceGraphic"),s.appendChild(i),i=document.createElementNS(svgNS,"feMergeNode"),i.setAttribute("in","f2"),s.appendChild(i)}}function SVGFillFilter(t,e){this.filterManager=e;var r=document.createElementNS(svgNS,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.appendChild(r),this.matrixFilter=r}function SVGStrokeEffect(t,e){this.initialized=!1,this.filterManager=e,this.elem=t,this.paths=[]}function SVGTritoneFilter(t,e){this.filterManager=e;var r=document.createElementNS(svgNS,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.setAttribute("result","f1"),t.appendChild(r);var s=document.createElementNS(svgNS,"feComponentTransfer");s.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(s),this.matrixFilter=s;var i=document.createElementNS(svgNS,"feFuncR");i.setAttribute("type","table"),s.appendChild(i),this.feFuncR=i;var a=document.createElementNS(svgNS,"feFuncG");a.setAttribute("type","table"),s.appendChild(a),this.feFuncG=a;var n=document.createElementNS(svgNS,"feFuncB");n.setAttribute("type","table"),s.appendChild(n),this.feFuncB=n}function SVGProLevelsFilter(t,e){this.filterManager=e;var r=this.filterManager.effectElements,s=document.createElementNS(svgNS,"feComponentTransfer");(r[9].p.k||0!==r[9].p.v||r[10].p.k||1!==r[10].p.v||r[11].p.k||1!==r[11].p.v||r[12].p.k||0!==r[12].p.v||r[13].p.k||1!==r[13].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",s)),(r[16].p.k||0!==r[16].p.v||r[17].p.k||1!==r[17].p.v||r[18].p.k||1!==r[18].p.v||r[19].p.k||0!==r[19].p.v||r[20].p.k||1!==r[20].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",s)),(r[23].p.k||0!==r[23].p.v||r[24].p.k||1!==r[24].p.v||r[25].p.k||1!==r[25].p.v||r[26].p.k||0!==r[26].p.v||r[27].p.k||1!==r[27].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",s)),(r[30].p.k||0!==r[30].p.v||r[31].p.k||1!==r[31].p.v||r[32].p.k||1!==r[32].p.v||r[33].p.k||0!==r[33].p.v||r[34].p.k||1!==r[34].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",s)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(s.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(s),s=document.createElementNS(svgNS,"feComponentTransfer")),(r[2].p.k||0!==r[2].p.v||r[3].p.k||1!==r[3].p.v||r[4].p.k||1!==r[4].p.v||r[5].p.k||0!==r[5].p.v||r[6].p.k||1!==r[6].p.v)&&(s.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(s),this.feFuncRComposed=this.createFeFunc("feFuncR",s),this.feFuncGComposed=this.createFeFunc("feFuncG",s),this.feFuncBComposed=this.createFeFunc("feFuncB",s))}function SVGDropShadowEffect(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","400%"),t.setAttribute("height","400%"),this.filterManager=e;var r=document.createElementNS(svgNS,"feGaussianBlur");r.setAttribute("in","SourceAlpha"),r.setAttribute("result","drop_shadow_1"),r.setAttribute("stdDeviation","0"),this.feGaussianBlur=r,t.appendChild(r);var s=document.createElementNS(svgNS,"feOffset");s.setAttribute("dx","25"),s.setAttribute("dy","0"),s.setAttribute("in","drop_shadow_1"),s.setAttribute("result","drop_shadow_2"),this.feOffset=s,t.appendChild(s);var i=document.createElementNS(svgNS,"feFlood");i.setAttribute("flood-color","#00ff00"),i.setAttribute("flood-opacity","1"),i.setAttribute("result","drop_shadow_3"),this.feFlood=i,t.appendChild(i);var a=document.createElementNS(svgNS,"feComposite");a.setAttribute("in","drop_shadow_3"),a.setAttribute("in2","drop_shadow_2"),a.setAttribute("operator","in"),a.setAttribute("result","drop_shadow_4"),t.appendChild(a);var n=document.createElementNS(svgNS,"feMerge");t.appendChild(n);var o;o=document.createElementNS(svgNS,"feMergeNode"),n.appendChild(o),o=document.createElementNS(svgNS,"feMergeNode"),o.setAttribute("in","SourceGraphic"),this.feMergeNode=o,this.feMerge=n,this.originalNodeAdded=!1,n.appendChild(o)}function SVGMatte3Effect(t,e,r){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=r,r.matteElement=document.createElementNS(svgNS,"g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGEffects(t){var e,r=t.data.ef.length,s=randomString(10),i=filtersFactory.createFilter(s),a=0;this.filters=[];var n;for(e=0;r>e;e+=1)20===t.data.ef[e].ty?(a+=1,n=new SVGTintFilter(i,t.effects.effectElements[e]),this.filters.push(n)):21===t.data.ef[e].ty?(a+=1,n=new SVGFillFilter(i,t.effects.effectElements[e]),this.filters.push(n)):22===t.data.ef[e].ty?(n=new SVGStrokeEffect(t,t.effects.effectElements[e]),this.filters.push(n)):23===t.data.ef[e].ty?(a+=1,n=new SVGTritoneFilter(i,t.effects.effectElements[e]),this.filters.push(n)):24===t.data.ef[e].ty?(a+=1,n=new SVGProLevelsFilter(i,t.effects.effectElements[e]),this.filters.push(n)):25===t.data.ef[e].ty?(a+=1,n=new SVGDropShadowEffect(i,t.effects.effectElements[e]),this.filters.push(n)):28===t.data.ef[e].ty&&(n=new SVGMatte3Effect(i,t.effects.effectElements[e],t),this.filters.push(n));a&&(t.globalData.defs.appendChild(i),t.layerElement.setAttribute("filter","url("+locationHref+"#"+s+")"))}function ICompElement(t,e,r,s,i){this._parent.constructor.call(this,t,e,r,s,i),this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?Array.apply(null,{length:this.layers.length}):[],this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,r.frameRate,this.dynamicProperties)),this.data.xt?(this.layerElement=document.createElementNS(svgNS,"g"),this.buildAllItems()):r.progressiveLoad||this.buildAllItems()}function IImageElement(t,e,r,s,i){this.assetData=r.getAssetData(t.refId),this._parent.constructor.call(this,t,e,r,s,i)}function ISolidElement(t,e,r,s,i){this._parent.constructor.call(this,t,e,r,s,i)}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:e&&void 0!==e.clearCanvas?e.clearCanvas:!0,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",className:e&&e.className||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1},this.contextData={saved:Array.apply(null,{length:15}),savedOp:Array.apply(null,{length:15}),cArrPos:0,cTr:new Matrix,cO:1};var r,s=15;for(r=0;s>r;r+=1)this.contextData.saved[r]=Array.apply(null,{length:16});this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.globalData={frameNum:-1},this.renderConfig={className:e&&e.className||""},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0}function CVBaseElement(t,e,r){this.globalData=r,this.data=t,this.comp=e,this.canvasContext=r.canvasContext,this.init()}function CVCompElement(t,e,r){this._parent.constructor.call(this,t,e,r);var s={};for(var i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);s.renderer=this,s.compHeight=this.data.h,s.compWidth=this.data.w,this.renderConfig={clearCanvas:!0},this.contextData={saved:Array.apply(null,{length:15}),savedOp:Array.apply(null,{length:15}),cArrPos:0,cTr:new Matrix,cO:1},this.completeLayers=!1;var a,n=15;for(a=0;n>a;a+=1)this.contextData.saved[a]=Array.apply(null,{length:16});this.transformMat=new Matrix,this.parentGlobalData=this.globalData;var o=document.createElement("canvas");s.canvasContext=o.getContext("2d"),this.canvasContext=s.canvasContext,o.width=this.data.w,o.height=this.data.h,this.canvas=o,this.globalData=s,this.layers=t.layers,this.pendingElements=[],this.elements=Array.apply(null,{length:this.layers.length}),this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,r.frameRate,this.dynamicProperties)),(this.data.xt||!r.progressiveLoad)&&this.buildAllItems()}function CVImageElement(t,e,r){this.assetData=r.getAssetData(t.refId),this._parent.constructor.call(this,t,e,r),this.globalData.addPendingElement()}function CVMaskElement(t,e){this.data=t,this.element=e,this.dynamicProperties=[],this.masksProperties=this.data.masksProperties,this.viewData=Array.apply(null,{length:this.masksProperties.length});var r,s=this.masksProperties.length;for(r=0;s>r;r++)this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3,this.dynamicProperties,null)}function CVShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this._parent.constructor.call(this,t,e,r)}function CVSolidElement(t,e,r){this._parent.constructor.call(this,t,e,r)}function CVTextElement(t,e,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this._parent.constructor.call(this,t,e,r)}function HBaseElement(t,e,r,s,i){this.globalData=r,this.comp=s,this.data=t,this.matteElement=null,this.parentContainer=e,this.layerId=i?i.layerId:"ly_"+randomString(10),this.placeholder=i,this.init()}function HSolidElement(t,e,r,s,i){this._parent.constructor.call(this,t,e,r,s,i)}function HCompElement(t,e,r,s,i){this._parent.constructor.call(this,t,e,r,s,i),this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=Array.apply(null,{length:this.layers.length}),this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,r.frameRate,this.dynamicProperties)),this.data.hasMask&&(this.supports3d=!1),this.data.xt&&(this.layerElement=document.createElement("div")),this.buildAllItems()}function HShapeElement(t,e,r,s,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this._parent.constructor.call(this,t,e,r,s,i),this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,r,s,i){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this._parent.constructor.call(this,t,e,r,s,i)}function HImageElement(t,e,r,s,i){this.assetData=r.getAssetData(t.refId),this._parent.constructor.call(this,t,e,r,s,i)}function HCameraElement(t,e,r,s,i){this._parent.constructor.call(this,t,e,r,s,i);var a=PropertyFactory.getProp;if(this.pe=a(this,t.pe,0,0,this.dynamicProperties),t.ks.p.s?(this.px=a(this,t.ks.p.x,1,0,this.dynamicProperties),this.py=a(this,t.ks.p.y,1,0,this.dynamicProperties),this.pz=a(this,t.ks.p.z,1,0,this.dynamicProperties)):this.p=a(this,t.ks.p,1,0,this.dynamicProperties),t.ks.a&&(this.a=a(this,t.ks.a,1,0,this.dynamicProperties)),t.ks.or.k.length&&t.ks.or.k[0].to){var n,o=t.ks.or.k.length;for(n=0;o>n;n+=1)t.ks.or.k[n].to=null,t.ks.or.k[n].ti=null}this.or=a(this,t.ks.or,1,degToRads,this.dynamicProperties),this.or.sh=!0,this.rx=a(this,t.ks.rx,0,degToRads,this.dynamicProperties),this.ry=a(this,t.ks.ry,0,degToRads,this.dynamicProperties),this.rz=a(this,t.ks.rz,0,degToRads,this.dynamicProperties),this.mat=new Matrix}function SliderEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function AngleEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function ColorEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function PointEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function LayerIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function MaskIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function CheckboxEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(t,e,r){var s=t.ef;this.effectElements=[];var i,a,n=s.length;for(i=0;n>i;i++)a=new GroupEffect(s[i],e,r),this.effectElements.push(a)}function GroupEffect(t,e,r){this.dynamicProperties=[],this.init(t,e,this.dynamicProperties),this.dynamicProperties.length&&r.push(this)}function setLocationHref(t){locationHref=t}function play(t){animationManager.play(t)}function pause(t){animationManager.pause(t)}function togglePause(t){animationManager.togglePause(t)}function setSpeed(t,e){animationManager.setSpeed(t,e)}function setDirection(t,e){animationManager.setDirection(t,e)}function stop(t){animationManager.stop(t)}function moveFrame(t){animationManager.moveFrame(t)}function searchAnimations(){standalone===!0?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function registerAnimation(t){return animationManager.registerAnimation(t)}function resize(){animationManager.resize()}function start(){animationManager.start()}function goToAndStop(t,e,r){animationManager.goToAndStop(t,e,r)}function setSubframeRendering(t){subframeEnabled=t}function loadAnimation(t){return standalone===!0&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function destroy(t){return animationManager.destroy(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(t)&&t>1&&(defaultCurveSegments=t);roundValues(defaultCurveSegments>=50?!1:!0)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&(expressionsPlugin=e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),r=0;r<e.length;r++){var s=e[r].split("=");if(decodeURIComponent(s[0])==t)return decodeURIComponent(s[1])}}var svgNS="http://www.w3.org/2000/svg",locationHref="",subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};!function(){var t,e=Object.getOwnPropertyNames(Math),r=e.length;for(t=0;r>t;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){var e=typeof t;if("object"===e&&t.length){var r,s=Array.apply(null,{length:t.length}),i=t.length;for(r=0;i>r;r+=1)s[r]=Math.abs(t[r]);return s}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;roundValues(!1);var rgbToHex=function(){var t,e,r=[];for(t=0;256>t;t+=1)e=t.toString(16),r[t]=1==e.length?"0"+e:e;return function(t,e,s){return 0>t&&(t=0),0>e&&(e=0),0>s&&(s=0),"#"+r[t]+r[e]+r[s]}}(),createTypedArray=function(){function t(t,e){var r,s=0,i=[];switch(t){case"int16":case"uint8c":r=1;break;default:r=1.1}for(s=0;e>s;s+=1)i.push(r);return i}function e(t,e){return"float32"===t?new Float32Array(e):"int16"===t?new Int16Array(e):"uint8c"===t?new Uint8ClampedArray(e):void 0;

}return"function"==typeof Float32Array?e:t}(),Matrix=function(){function t(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function e(t){if(0===t)return this;var e=k(t),r=A(t);return this._t(e,-r,0,0,r,e,0,0,0,0,1,0,0,0,0,1)}function r(t){if(0===t)return this;var e=k(t),r=A(t);return this._t(1,0,0,0,0,e,-r,0,0,r,e,0,0,0,0,1)}function s(t){if(0===t)return this;var e=k(t),r=A(t);return this._t(e,0,r,0,0,1,0,0,-r,0,e,0,0,0,0,1)}function i(t){if(0===t)return this;var e=k(t),r=A(t);return this._t(e,-r,0,0,r,e,0,0,0,0,1,0,0,0,0,1)}function a(t,e){return this._t(1,e,t,1,0,0)}function n(t,e){return this.shear(M(t),M(e))}function o(t,e){var r=k(e),s=A(e);return this._t(r,s,0,0,-s,r,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,M(t),1,0,0,0,0,1,0,0,0,0,1)._t(r,-s,0,0,s,r,0,0,0,0,1,0,0,0,0,1)}function h(t,e,r){return r=isNaN(r)?1:r,1==t&&1==e&&1==r?this:this._t(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1)}function l(t,e,r,s,i,a,n,o,h,l,p,m,f,c,d,u){return this.props[0]=t,this.props[1]=e,this.props[2]=r,this.props[3]=s,this.props[4]=i,this.props[5]=a,this.props[6]=n,this.props[7]=o,this.props[8]=h,this.props[9]=l,this.props[10]=p,this.props[11]=m,this.props[12]=f,this.props[13]=c,this.props[14]=d,this.props[15]=u,this}function p(t,e,r){return r=r||0,0!==t||0!==e||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,r,1):this}function m(t,e,r,s,i,a,n,o,h,l,p,m,f,c,d,u){if(1===t&&0===e&&0===r&&0===s&&0===i&&1===a&&0===n&&0===o&&0===h&&0===l&&1===p&&0===m)return(0!==f||0!==c||0!==d)&&(this.props[12]=this.props[12]*t+this.props[13]*i+this.props[14]*h+this.props[15]*f,this.props[13]=this.props[12]*e+this.props[13]*a+this.props[14]*l+this.props[15]*c,this.props[14]=this.props[12]*r+this.props[13]*n+this.props[14]*p+this.props[15]*d,this.props[15]=this.props[12]*s+this.props[13]*o+this.props[14]*m+this.props[15]*u),this._identityCalculated=!1,this;var y=this.props[0],g=this.props[1],v=this.props[2],b=this.props[3],E=this.props[4],P=this.props[5],x=this.props[6],S=this.props[7],C=this.props[8],k=this.props[9],A=this.props[10],M=this.props[11],D=this.props[12],w=this.props[13],T=this.props[14],_=this.props[15];return this.props[0]=y*t+g*i+v*h+b*f,this.props[1]=y*e+g*a+v*l+b*c,this.props[2]=y*r+g*n+v*p+b*d,this.props[3]=y*s+g*o+v*m+b*u,this.props[4]=E*t+P*i+x*h+S*f,this.props[5]=E*e+P*a+x*l+S*c,this.props[6]=E*r+P*n+x*p+S*d,this.props[7]=E*s+P*o+x*m+S*u,this.props[8]=C*t+k*i+A*h+M*f,this.props[9]=C*e+k*a+A*l+M*c,this.props[10]=C*r+k*n+A*p+M*d,this.props[11]=C*s+k*o+A*m+M*u,this.props[12]=D*t+w*i+T*h+_*f,this.props[13]=D*e+w*a+T*l+_*c,this.props[14]=D*r+w*n+T*p+_*d,this.props[15]=D*s+w*o+T*m+_*u,this._identityCalculated=!1,this}function f(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function c(t){var e;for(e=0;16>e;e+=1)t.props[e]=this.props[e]}function d(t){var e;for(e=0;16>e;e+=1)this.props[e]=t[e]}function u(t,e,r){return{x:t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}}function y(t,e,r){return t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12]}function g(t,e,r){return t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13]}function v(t,e,r){return t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}function b(t){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],r=this.props[5]/e,s=-this.props[1]/e,i=-this.props[4]/e,a=this.props[0]/e,n=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,o=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e;return[t[0]*r+t[1]*i+n,t[0]*s+t[1]*a+o,0]}function E(t){var e,r=t.length,s=[];for(e=0;r>e;e+=1)s[e]=b(t[e]);return s}function P(t,e,r,s){if(s&&2===s){var i=point_pool.newPoint();return i[0]=t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],i[1]=t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],i}return[t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]]}function x(t,e){return this.isIdentity()?t+","+e:bm_rnd(t*this.props[0]+e*this.props[4]+this.props[12])+","+bm_rnd(t*this.props[1]+e*this.props[5]+this.props[13])}function S(){for(var t=0,e=this.props,r="matrix3d(",s=1e4;16>t;)r+=D(e[t]*s)/s,r+=15===t?")":",",t+=1;return r}function C(){var t=1e4,e=this.props;return"matrix("+D(e[0]*t)/t+","+D(e[1]*t)/t+","+D(e[4]*t)/t+","+D(e[5]*t)/t+","+D(e[12]*t)/t+","+D(e[13]*t)/t+")"}var k=Math.cos,A=Math.sin,M=Math.tan,D=Math.round;return function(){this.reset=t,this.rotate=e,this.rotateX=r,this.rotateY=s,this.rotateZ=i,this.skew=n,this.skewFromAxis=o,this.shear=a,this.scale=h,this.setTransform=l,this.translate=p,this.transform=m,this.applyToPoint=u,this.applyToX=y,this.applyToY=g,this.applyToZ=v,this.applyToPointArray=P,this.applyToPointStringified=x,this.toCSS=S,this.to2dCSS=C,this.clone=c,this.cloneFromProps=d,this.inversePoints=E,this.inversePoint=b,this._t=this.transform,this.isIdentity=f,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();!function(t,e){function r(r,l,p){var c=[];l=1==l?{entropy:!0}:l||{};var v=n(a(l.entropy?[r,h(t)]:null==r?o():r,3),c),b=new s(c),E=function(){for(var t=b.g(f),e=u,r=0;y>t;)t=(t+r)*m,e*=m,r=b.g(1);for(;t>=g;)t/=2,e/=2,r>>>=1;return(t+r)/e};return E.int32=function(){return 0|b.g(4)},E.quick=function(){return b.g(4)/4294967296},E["double"]=E,n(h(b.S),t),(l.pass||p||function(t,r,s,a){return a&&(a.S&&i(a,b),t.state=function(){return i(b,{})}),s?(e[d]=t,r):t})(E,v,"global"in l?l.global:this==e,l.state)}function s(t){var e,r=t.length,s=this,i=0,a=s.i=s.j=0,n=s.S=[];for(r||(t=[r++]);m>i;)n[i]=i++;for(i=0;m>i;i++)n[i]=n[a=v&a+t[i%r]+(e=n[i])],n[a]=e;(s.g=function(t){for(var e,r=0,i=s.i,a=s.j,n=s.S;t--;)e=n[i=v&i+1],r=r*m+n[v&(n[i]=n[a=v&a+e])+(n[a]=e)];return s.i=i,s.j=a,r})(m)}function i(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function a(t,e){var r,s=[],i=typeof t;if(e&&"object"==i)for(r in t)try{s.push(a(t[r],e-1))}catch(n){}return s.length?s:"string"==i?t:t+"\x00"}function n(t,e){for(var r,s=t+"",i=0;i<s.length;)e[v&i]=v&(r^=19*e[v&i])+s.charCodeAt(i++);return h(e)}function o(){try{if(l)return h(l.randomBytes(m));var e=new Uint8Array(m);return(p.crypto||p.msCrypto).getRandomValues(e),h(e)}catch(r){var s=p.navigator,i=s&&s.plugins;return[+new Date,p,i,p.screen,h(t)]}}function h(t){return String.fromCharCode.apply(0,t)}var l,p=this,m=256,f=6,c=52,d="random",u=e.pow(m,f),y=e.pow(2,c),g=2*y,v=m-1;e["seed"+d]=r,n(e.random(),t)}([],BMMath);var BezierFactory=function(){function t(t,e,r,s,i){var a=i||("bez_"+t+"_"+e+"_"+r+"_"+s).replace(/\./g,"p");if(p[a])return p[a];var n=new h([t,e,r,s]);return p[a]=n,n}function e(t,e){return 1-3*e+3*t}function r(t,e){return 3*e-6*t}function s(t){return 3*t}function i(t,i,a){return((e(i,a)*t+r(i,a))*t+s(i))*t}function a(t,i,a){return 3*e(i,a)*t*t+2*r(i,a)*t+s(i)}function n(t,e,r,s,a){var n,o,h=0;do o=e+(r-e)/2,n=i(o,s,a)-t,n>0?r=o:e=o;while(Math.abs(n)>c&&++h<d);return o}function o(t,e,r,s){for(var n=0;m>n;++n){var o=a(e,r,s);if(0===o)return e;var h=i(e,r,s)-t;e-=h/o}return e}function h(t){this._p=t,this._mSampleValues=g?new Float32Array(u):new Array(u),this._precomputed=!1,this.get=this.get.bind(this)}var l={};l.getBezierEasing=t;var p={},m=4,f=.001,c=1e-7,d=10,u=11,y=1/(u-1),g="function"==typeof Float32Array;return h.prototype={get:function(t){var e=this._p[0],r=this._p[1],s=this._p[2],a=this._p[3];return this._precomputed||this._precompute(),e===r&&s===a?t:0===t?0:1===t?1:i(this._getTForX(t),r,a)},_precompute:function(){var t=this._p[0],e=this._p[1],r=this._p[2],s=this._p[3];this._precomputed=!0,(t!==e||r!==s)&&this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],r=0;u>r;++r)this._mSampleValues[r]=i(r*y,t,e)},_getTForX:function(t){for(var e=this._p[0],r=this._p[2],s=this._mSampleValues,i=0,h=1,l=u-1;h!==l&&s[h]<=t;++h)i+=y;--h;var p=(t-s[h])/(s[h+1]-s[h]),m=i+p*y,c=a(m,e,r);return c>=f?o(t,m,e,r):0===c?m:n(t,i,i+y,e,r)}},l}();!function(){for(var t=0,e=["ms","moz","webkit","o"],r=0;r<e.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[e[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[r]+"CancelAnimationFrame"]||window[e[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,r){var s=(new Date).getTime(),i=Math.max(0,16-(s-t)),a=setTimeout(function(){e(s+i)},i);return t=s+i,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var bez=bezFunction(),dataManager=dataFunctionManager(),FontManager=function(){function t(t,e){var r=document.createElement("span");r.style.fontFamily=e;var s=document.createElement("span");s.innerHTML="giItT1WQy@!-/#",r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.style.fontSize="300px",r.style.fontVariant="normal",r.style.fontStyle="normal",r.style.fontWeight="normal",r.style.letterSpacing="0",r.appendChild(s),document.body.appendChild(r);var i=s.offsetWidth;return s.style.fontFamily=t+", "+e,{node:s,w:i,parent:r}}function e(){var t,r,s,i=this.fonts.length,a=i;for(t=0;i>t;t+=1)if(this.fonts[t].loaded)a-=1;else if("t"===this.fonts[t].fOrigin||2===this.fonts[t].origin){if(window.Typekit&&window.Typekit.load&&0===this.typekitLoaded){this.typekitLoaded=1;try{window.Typekit.load({async:!0,active:function(){this.typekitLoaded=2}.bind(this)})}catch(n){}}2===this.typekitLoaded&&(this.fonts[t].loaded=!0)}else"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:(r=this.fonts[t].monoCase.node,s=this.fonts[t].monoCase.w,r.offsetWidth!==s?(a-=1,this.fonts[t].loaded=!0):(r=this.fonts[t].sansCase.node,s=this.fonts[t].sansCase.w,r.offsetWidth!==s&&(a-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==a&&Date.now()-this.initTime<h?setTimeout(e.bind(this),20):setTimeout(function(){this.loaded=!0}.bind(this),0)}function r(t,e){var r=document.createElementNS(svgNS,"text");r.style.fontSize="100px",r.style.fontFamily=e.fFamily,r.textContent="1",e.fClass?(r.style.fontFamily="inherit",r.className=e.fClass):r.style.fontFamily=e.fFamily,t.appendChild(r);var s=document.createElement("canvas").getContext("2d");return s.font="100px "+e.fFamily,s}function s(s,i){if(!s)return void(this.loaded=!0);if(this.chars)return this.loaded=!0,void(this.fonts=s.list);var a,n=s.list,o=n.length;for(a=0;o>a;a+=1){if(n[a].loaded=!1,n[a].monoCase=t(n[a].fFamily,"monospace"),n[a].sansCase=t(n[a].fFamily,"sans-serif"),n[a].fPath){if("p"===n[a].fOrigin||3===n[a].origin){var h=document.createElement("style");h.type="text/css",h.innerHTML="@font-face {font-family: "+n[a].fFamily+"; font-style: normal; src: url('"+n[a].fPath+"');}",i.appendChild(h)}else if("g"===n[a].fOrigin||1===n[a].origin){var l=document.createElement("link");l.type="text/css",l.rel="stylesheet",l.href=n[a].fPath,i.appendChild(l)}else if("t"===n[a].fOrigin||2===n[a].origin){var p=document.createElement("script");p.setAttribute("src",n[a].fPath),i.appendChild(p)}}else n[a].loaded=!0;n[a].helper=r(i,n[a]),this.fonts.push(n[a])}e.bind(this)()}function i(t){if(t){this.chars||(this.chars=[]);var e,r,s,i=t.length,a=this.chars.length;for(e=0;i>e;e+=1){for(r=0,s=!1;a>r;)this.chars[r].style===t[e].style&&this.chars[r].fFamily===t[e].fFamily&&this.chars[r].ch===t[e].ch&&(s=!0),r+=1;s||(this.chars.push(t[e]),a+=1)}}}function a(t,e,r){for(var s=0,i=this.chars.length;i>s;){if(this.chars[s].ch===t&&this.chars[s].style===e&&this.chars[s].fFamily===r)return this.chars[s];s+=1}}function n(t,e,r){var s=this.getFontByName(e),i=s.helper;return i.measureText(t).width*r/100}function o(t){for(var e=0,r=this.fonts.length;r>e;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return"sans-serif"}var h=5e3,l=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.loaded=!1,this.initTime=Date.now()};return l.prototype.addChars=i,l.prototype.addFonts=s,l.prototype.getCharData=a,l.prototype.getFontByName=o,l.prototype.measureText=n,l}(),PropertyFactory=function(){function t(t,e,r,s){var i,a=this.offsetTime;r.constructor===Array&&(i=Array.apply(null,{length:r.length}));for(var n,o,h=e,l=this.keyframes.length-1,p=!0;p;){if(n=this.keyframes[h],o=this.keyframes[h+1],h==l-1&&t>=o.t-a){n.h&&(n=o),e=0;break}if(o.t-a>t){e=h;break}l-1>h?h+=1:(e=0,p=!1)}var m,f,c,d,u,y;if(n.to){n.bezierData||bez.buildBezierData(n);var g=n.bezierData;if(t>=o.t-a||t<n.t-a){var v=t>=o.t-a?g.points.length-1:0;for(f=g.points[v].point.length,m=0;f>m;m+=1)i[m]=g.points[v].point[m];s._lastBezierData=null}else{n.__fnct?y=n.__fnct:(y=BezierFactory.getBezierEasing(n.o.x,n.o.y,n.i.x,n.i.y,n.n).get,n.__fnct=y),c=y((t-(n.t-a))/(o.t-a-(n.t-a)));var b,E=g.segmentLength*c,P=s.lastFrame<t&&s._lastBezierData===g?s._lastAddedLength:0;for(u=s.lastFrame<t&&s._lastBezierData===g?s._lastPoint:0,p=!0,d=g.points.length;p;){if(P+=g.points[u].partialLength,0===E||0===c||u==g.points.length-1){for(f=g.points[u].point.length,m=0;f>m;m+=1)i[m]=g.points[u].point[m];break}if(E>=P&&E<P+g.points[u+1].partialLength){for(b=(E-P)/g.points[u+1].partialLength,f=g.points[u].point.length,m=0;f>m;m+=1)i[m]=g.points[u].point[m]+(g.points[u+1].point[m]-g.points[u].point[m])*b;break}d-1>u?u+=1:p=!1}s._lastPoint=u,s._lastAddedLength=P-g.points[u].partialLength,s._lastBezierData=g}}else{var x,S,C,k,A;for(l=n.s.length,h=0;l>h;h+=1){if(1!==n.h&&(t>=o.t-a?c=1:t<n.t-a?c=0:(n.o.x.constructor===Array?(n.__fnct||(n.__fnct=[]),n.__fnct[h]?y=n.__fnct[h]:(x=n.o.x[h]||n.o.x[0],S=n.o.y[h]||n.o.y[0],C=n.i.x[h]||n.i.x[0],k=n.i.y[h]||n.i.y[0],y=BezierFactory.getBezierEasing(x,S,C,k).get,n.__fnct[h]=y)):n.__fnct?y=n.__fnct:(x=n.o.x,S=n.o.y,C=n.i.x,k=n.i.y,y=BezierFactory.getBezierEasing(x,S,C,k).get,n.__fnct=y),c=y((t-(n.t-a))/(o.t-a-(n.t-a))))),this.sh&&1!==n.h){var M=n.s[h],D=n.e[h];-180>M-D?M+=360:M-D>180&&(M-=360),A=M+(D-M)*c}else A=1===n.h?n.s[h]:n.s[h]+(n.e[h]-n.s[h])*c;1===l?i=A:i[h]=A}}return{value:i,iterationIndex:e}}function e(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==h&&(this._caching.lastFrame>=r&&t>=r||this._caching.lastFrame<e&&e>t))){var s=this._caching.lastFrame<t?this._caching.lastIndex:0,i=this.interpolateValue(t,s,this.pv,this._caching);if(this._caching.lastIndex=i.iterationIndex,this.pv.constructor===Array)for(s=0;s<this.v.length;)this.pv[s]=i.value[s],this.v[s]=this.mult?this.pv[s]*this.mult:this.pv[s],this.lastPValue[s]!==this.pv[s]&&(this.mdf=!0,this.lastPValue[s]=this.pv[s]),s+=1;else this.pv=i.value,this.v=this.mult?this.pv*this.mult:this.pv,this.lastPValue!=this.pv&&(this.mdf=!0,this.lastPValue=this.pv)}this._caching.lastFrame=t,this.frameId=this.elem.globalData.frameId}}function r(){}function s(t,e,s){this.mult=s,this.v=s?e.k*s:e.k,this.pv=e.k,this.mdf=!1,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.getValue=r}function i(t,e,s){this.mult=s,this.data=e,this.mdf=!1,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1,this.v=Array.apply(null,{length:e.k.length}),this.pv=Array.apply(null,{length:e.k.length}),this.lastValue=Array.apply(null,{length:e.k.length});var i=Array.apply(null,{length:e.k.length});this.vel=i.map(function(){return 0});var a,n=e.k.length;for(a=0;n>a;a+=1)this.v[a]=s?e.k[a]*s:e.k[a],this.pv[a]=e.k[a];this.getValue=r}function a(r,s,i){this.keyframes=s.k,this.offsetTime=r.data.st,this.lastValue=-99999,this.lastPValue=-99999,this.frameId=-1,this._caching={lastFrame:h,lastIndex:0},this.k=!0,this.kf=!0,this.data=s,this.mult=i,this.elem=r,this.comp=r.comp,this.v=i?s.k[0].s[0]*i:s.k[0].s[0],this.pv=s.k[0].s[0],this.getValue=e,this.interpolateValue=t}function n(r,s,i){var a,n,o,l,p,m=s.k.length;for(a=0;m-1>a;a+=1)s.k[a].to&&s.k[a].s&&s.k[a].e&&(n=s.k[a].s,o=s.k[a].e,l=s.k[a].to,p=s.k[a].ti,(2===n.length&&(n[0]!==o[0]||n[1]!==o[1])&&bez.pointOnLine2D(n[0],n[1],o[0],o[1],n[0]+l[0],n[1]+l[1])&&bez.pointOnLine2D(n[0],n[1],o[0],o[1],o[0]+p[0],o[1]+p[1])||3===n.length&&(n[0]!==o[0]||n[1]!==o[1]||n[2]!==o[2])&&bez.pointOnLine3D(n[0],n[1],n[2],o[0],o[1],o[2],n[0]+l[0],n[1]+l[1],n[2]+l[2])&&bez.pointOnLine3D(n[0],n[1],n[2],o[0],o[1],o[2],o[0]+p[0],o[1]+p[1],o[2]+p[2]))&&(s.k[a].to=null,s.k[a].ti=null));this.keyframes=s.k,this.offsetTime=r.data.st,this.k=!0,this.kf=!0,this.mult=i,this.elem=r,this.comp=r.comp,this._caching={lastFrame:h,lastIndex:0},this.getValue=e,this.interpolateValue=t,this.frameId=-1,this.v=Array.apply(null,{length:s.k[0].s.length}),this.pv=Array.apply(null,{length:s.k[0].s.length}),this.lastValue=Array.apply(null,{length:s.k[0].s.length}),this.lastPValue=Array.apply(null,{length:s.k[0].s.length})}function o(t,e,r,o,h){var l;if(0===e.a)l=0===r?new s(t,e,o):new i(t,e,o);else if(1===e.a)l=0===r?new a(t,e,o):new n(t,e,o);else if(e.k.length)if("number"==typeof e.k[0])l=new i(t,e,o);else switch(r){case 0:l=new a(t,e,o);break;case 1:l=new n(t,e,o)}else l=new s(t,e,o);return l.k&&h.push(l),l}var h=-999999,l={getProp:o};return l}(),TransformPropertyFactory=function(){function t(){return this.p?ExpressionValue(this.p):[this.px.v,this.py.v,this.pz?this.pz.v:0]}function e(){return ExpressionValue(this.px)}function r(){return ExpressionValue(this.py)}function s(){return ExpressionValue(this.a)}function i(){return ExpressionValue(this.or)}function a(){return this.r?ExpressionValue(this.r,1/degToRads):ExpressionValue(this.rz,1/degToRads)}function n(){return ExpressionValue(this.s,100)}function o(){return ExpressionValue(this.o,100)}function h(){return ExpressionValue(this.sk)}function l(){return ExpressionValue(this.sa)}function p(t){var e,r=this.dynamicProperties.length;for(e=0;r>e;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.mdf=!0);this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function m(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;e>t;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0);if(this.mdf){if(this.v.reset(),this.a&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r?this.v.rotate(-this.r.v):this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented&&this.p.keyframes&&this.p.getValueAtTime){var r,s;this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(r=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/this.elem.globalData.frameRate,0),s=this.p.getValueAtTime(this.p.keyframes[0].t/this.elem.globalData.frameRate,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(r=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/this.elem.globalData.frameRate,0),s=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.01)/this.elem.globalData.frameRate,0)):(r=this.p.pv,s=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/this.elem.globalData.frameRate,this.p.offsetTime)),this.v.rotate(-Math.atan2(r[1]-s[1],r[0]-s[0]))}this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function f(){this.inverted=!0,this.iv=new Matrix,this.k||(this.data.p.s?this.iv.translate(this.px.v,this.py.v,-this.pz.v):this.iv.translate(this.p.v[0],this.p.v[1],-this.p.v[2]),this.r?this.iv.rotate(-this.r.v):this.iv.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.s&&this.iv.scale(this.s.v[0],this.s.v[1],1),this.a&&this.iv.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]))}function c(){}function d(p,m,f){this.elem=p,this.frameId=-1,this.type="transform",this.dynamicProperties=[],this.mdf=!1,this.data=m,this.v=new Matrix,m.p.s?(this.px=PropertyFactory.getProp(p,m.p.x,0,0,this.dynamicProperties),this.py=PropertyFactory.getProp(p,m.p.y,0,0,this.dynamicProperties),m.p.z&&(this.pz=PropertyFactory.getProp(p,m.p.z,0,0,this.dynamicProperties))):this.p=PropertyFactory.getProp(p,m.p,1,0,this.dynamicProperties),m.r?this.r=PropertyFactory.getProp(p,m.r,0,degToRads,this.dynamicProperties):m.rx&&(this.rx=PropertyFactory.getProp(p,m.rx,0,degToRads,this.dynamicProperties),this.ry=PropertyFactory.getProp(p,m.ry,0,degToRads,this.dynamicProperties),this.rz=PropertyFactory.getProp(p,m.rz,0,degToRads,this.dynamicProperties),this.or=PropertyFactory.getProp(p,m.or,1,degToRads,this.dynamicProperties),this.or.sh=!0),m.sk&&(this.sk=PropertyFactory.getProp(p,m.sk,0,degToRads,this.dynamicProperties),this.sa=PropertyFactory.getProp(p,m.sa,0,degToRads,this.dynamicProperties)),m.a&&(this.a=PropertyFactory.getProp(p,m.a,1,0,this.dynamicProperties)),m.s&&(this.s=PropertyFactory.getProp(p,m.s,1,.01,this.dynamicProperties)),this.o=m.o?PropertyFactory.getProp(p,m.o,0,.01,this.dynamicProperties):{mdf:!1,v:1},this.dynamicProperties.length?f.push(this):(this.a&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r?this.v.rotate(-this.r.v):this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?m.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])),Object.defineProperty(this,"position",{get:t}),Object.defineProperty(this,"xPosition",{get:e}),Object.defineProperty(this,"yPosition",{get:r}),Object.defineProperty(this,"orientation",{get:i}),Object.defineProperty(this,"anchorPoint",{get:s}),Object.defineProperty(this,"rotation",{get:a}),Object.defineProperty(this,"scale",{get:n}),Object.defineProperty(this,"opacity",{get:o}),Object.defineProperty(this,"skew",{get:h}),Object.defineProperty(this,"skewAxis",{get:l})}function u(t,e,r){return new d(t,e,r)}return d.prototype.applyToMatrix=p,d.prototype.getValue=m,d.prototype.setInverted=f,d.prototype.autoOrient=c,{getTransformProperty:u}}();ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var r=0;e>r;)this.v[r]=point_pool.newPoint(),this.o[r]=point_pool.newPoint(),this.i[r]=point_pool.newPoint(),r+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(Array.apply(null,{length:this._maxLength})),this.i=this.i.concat(Array.apply(null,{length:this._maxLength})),this.o=this.o.concat(Array.apply(null,{length:this._maxLength})),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,r,s,i){var a;switch(this._length=Math.max(this._length,s+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":a=this.v;break;case"i":a=this.i;break;case"o":a=this.o}(!a[s]||a[s]&&!i)&&(a[s]=point_pool.newPoint()),a[s][0]=t,a[s][1]=e},ShapePath.prototype.setTripleAt=function(t,e,r,s,i,a,n,o){this.setXYAt(t,e,"v",n,o),this.setXYAt(r,s,"o",n,o),this.setXYAt(i,a,"i",n,o)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,r=this.o,s=this.i,a=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],s[0][0],s[0][1],r[0][0],r[0][1],0,!1),a=1);var n=this._length-1,o=this._length;for(i=a;i<o;i+=1)t.setTripleAt(e[n][0],e[n][1],s[n][0],s[n][1],r[n][0],r[n][1],i,!1),n-=1;return t};var ShapePropertyFactory=function(){function t(t,e,r,s){var i,a,n;if(t<this.keyframes[0].t-this.offsetTime)i=this.keyframes[0].s[0],n=!0,e=0;else if(t>=this.keyframes[this.keyframes.length-1].t-this.offsetTime)i=1===this.keyframes[this.keyframes.length-2].h?this.keyframes[this.keyframes.length-1].s[0]:this.keyframes[this.keyframes.length-2].e[0],n=!0;else{for(var o,h,l,p,m,f,c=e,d=this.keyframes.length-1,u=!0;u&&(o=this.keyframes[c],h=this.keyframes[c+1],!(h.t-this.offsetTime>t));)d-1>c?c+=1:u=!1;n=1===o.h,e=c;var y;if(!n){if(t>=h.t-this.offsetTime)y=1;else if(t<o.t-this.offsetTime)y=0;else{var g;o.__fnct?g=o.__fnct:(g=BezierFactory.getBezierEasing(o.o.x,o.o.y,o.i.x,o.i.y).get,o.__fnct=g),y=g((t-(o.t-this.offsetTime))/(h.t-this.offsetTime-(o.t-this.offsetTime)))}a=o.e[0]}i=o.s[0]}p=r._length,f=i.i[0].length;var v,b=!1;for(l=0;p>l;l+=1)for(m=0;f>m;m+=1)n?(v=i.i[l][m],r.i[l][m]!==v&&(r.i[l][m]=v,s&&(this.pv.i[l][m]=v),b=!0),v=i.o[l][m],r.o[l][m]!==v&&(r.o[l][m]=v,s&&(this.pv.o[l][m]=v),b=!0),v=i.v[l][m],r.v[l][m]!==v&&(r.v[l][m]=v,s&&(this.pv.v[l][m]=v),b=!0)):(v=i.i[l][m]+(a.i[l][m]-i.i[l][m])*y,r.i[l][m]!==v&&(r.i[l][m]=v,s&&(this.pv.i[l][m]=v),b=!0),v=i.o[l][m]+(a.o[l][m]-i.o[l][m])*y,r.o[l][m]!==v&&(r.o[l][m]=v,s&&(this.pv.o[l][m]=v),b=!0),v=i.v[l][m]+(a.v[l][m]-i.v[l][m])*y,r.v[l][m]!==v&&(r.v[l][m]=v,s&&(this.pv.v[l][m]=v),b=!0));return b&&(r.c=i.c),{iterationIndex:e,hasModified:b}}function e(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(this.lastFrame===l||!(this.lastFrame<e&&e>t||this.lastFrame>r&&t>r)){var s=this.lastFrame<t?this._lastIndex:0,i=this.interpolateShape(t,s,this.v,!0);this._lastIndex=i.iterationIndex,this.mdf=i.hasModified,i.hasModified&&(this.paths=this.localShapeCollection)}this.lastFrame=t,this.frameId=this.elem.globalData.frameId}}function r(){return this.v}function s(){this.paths=this.localShapeCollection,this.k||(this.mdf=!1)}function i(t,e,r){this.__shapeObject=1,this.comp=t.comp,this.k=!1,this.mdf=!1;var i=3===r?e.pt.k:e.ks.k;this.v=shape_pool.clone(i),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=s}function a(t,e,r){this.__shapeObject=1,this.comp=t.comp,this.elem=t,this.offsetTime=t.data.st,this._lastIndex=0,this.keyframes=3===r?e.pt.k:e.ks.k,this.k=!0,this.kf=!0;{var i=this.keyframes[0].s[0].i.length;this.keyframes[0].s[0].i[0].length}this.v=shape_pool.newShape(),this.v.setPathData(this.keyframes[0].s[0].c,i),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=l,this.reset=s}function n(t,e,r,s){var n;if(3===r||4===r){var o=3===r?e.pt:e.ks,h=o.k;n=1===o.a||h.length?new a(t,e,r):new i(t,e,r)}else 5===r?n=new f(t,e):6===r?n=new p(t,e):7===r&&(n=new m(t,e));return n.k&&s.push(n),n}function o(){return i}function h(){return a}var l=-999999;i.prototype.interpolateShape=t,i.prototype.getValue=r,a.prototype.getValue=e,a.prototype.interpolateShape=t;var p=function(){function t(){var t=this.p.v[0],e=this.p.v[1],s=this.s.v[0]/2,i=this.s.v[1]/2;3!==this.d?(this.v.v[0][0]=t,this.v.v[0][1]=e-i,this.v.v[1][0]=t+s,this.v.v[1][1]=e,this.v.v[2][0]=t,this.v.v[2][1]=e+i,this.v.v[3][0]=t-s,this.v.v[3][1]=e,this.v.i[0][0]=t-s*r,this.v.i[0][1]=e-i,this.v.i[1][0]=t+s,this.v.i[1][1]=e-i*r,this.v.i[2][0]=t+s*r,this.v.i[2][1]=e+i,this.v.i[3][0]=t-s,this.v.i[3][1]=e+i*r,this.v.o[0][0]=t+s*r,this.v.o[0][1]=e-i,this.v.o[1][0]=t+s,this.v.o[1][1]=e+i*r,this.v.o[2][0]=t-s*r,this.v.o[2][1]=e+i,this.v.o[3][0]=t-s,this.v.o[3][1]=e-i*r):(this.v.v[0][0]=t,this.v.v[0][1]=e-i,this.v.v[1][0]=t-s,this.v.v[1][1]=e,this.v.v[2][0]=t,this.v.v[2][1]=e+i,this.v.v[3][0]=t+s,this.v.v[3][1]=e,this.v.i[0][0]=t+s*r,this.v.i[0][1]=e-i,this.v.i[1][0]=t-s,this.v.i[1][1]=e-i*r,this.v.i[2][0]=t-s*r,this.v.i[2][1]=e+i,this.v.i[3][0]=t+s,this.v.i[3][1]=e+i*r,this.v.o[0][0]=t-s*r,this.v.o[0][1]=e-i,this.v.o[1][0]=t-s,this.v.o[1][1]=e+i*r,this.v.o[2][0]=t+s*r,this.v.o[2][1]=e+i,this.v.o[3][0]=t+s,this.v.o[3][1]=e-i*r)}function e(t){var e,r=this.dynamicProperties.length;if(this.elem.globalData.frameId!==this.frameId){for(this.mdf=!1,this.frameId=this.elem.globalData.frameId,e=0;r>e;e+=1)this.dynamicProperties[e].getValue(t),this.dynamicProperties[e].mdf&&(this.mdf=!0);this.mdf&&this.convertEllToPath()}}var r=roundCorner;return function(r,i){this.v=shape_pool.newShape(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=i.d,this.dynamicProperties=[],this.elem=r,this.comp=r.comp,this.frameId=-1,this.mdf=!1,this.getValue=e,this.convertEllToPath=t,this.reset=s,this.p=PropertyFactory.getProp(r,i.p,1,0,this.dynamicProperties),this.s=PropertyFactory.getProp(r,i.s,1,0,this.dynamicProperties),this.dynamicProperties.length?this.k=!0:this.convertEllToPath()}}(),m=function(){function t(){var t,e=Math.floor(this.pt.v),r=2*Math.PI/e,s=this.or.v,i=this.os.v,a=2*Math.PI*s/(4*e),n=-Math.PI/2,o=3===this.data.d?-1:1;for(n+=this.r.v,this.v._length=0,t=0;e>t;t+=1){var h=s*Math.cos(n),l=s*Math.sin(n),p=0===h&&0===l?0:l/Math.sqrt(h*h+l*l),m=0===h&&0===l?0:-h/Math.sqrt(h*h+l*l);h+=+this.p.v[0],l+=+this.p.v[1],this.v.setTripleAt(h,l,h-p*a*i*o,l-m*a*i*o,h+p*a*i*o,l+m*a*i*o,t,!0),n+=r*o}this.paths.length=0,this.paths[0]=this.v}function e(){var t,e,r,s,i=2*Math.floor(this.pt.v),a=2*Math.PI/i,n=!0,o=this.or.v,h=this.ir.v,l=this.os.v,p=this.is.v,m=2*Math.PI*o/(2*i),f=2*Math.PI*h/(2*i),c=-Math.PI/2;c+=this.r.v;var d=3===this.data.d?-1:1;for(this.v._length=0,t=0;i>t;t+=1){e=n?o:h,r=n?l:p,s=n?m:f;var u=e*Math.cos(c),y=e*Math.sin(c),g=0===u&&0===y?0:y/Math.sqrt(u*u+y*y),v=0===u&&0===y?0:-u/Math.sqrt(u*u+y*y);u+=+this.p.v[0],y+=+this.p.v[1],this.v.setTripleAt(u,y,u-g*s*r*d,y-v*s*r*d,u+g*s*r*d,y+v*s*r*d,t,!0),n=!n,c+=a*d}}function r(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1,this.frameId=this.elem.globalData.frameId;var t,e=this.dynamicProperties.length;for(t=0;e>t;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0);this.mdf&&this.convertToPath()}}return function(i,a){this.v=shape_pool.newShape(),this.v.setPathData(!0,0),this.elem=i,this.comp=i.comp,this.data=a,this.frameId=-1,this.d=a.d,this.dynamicProperties=[],this.mdf=!1,this.getValue=r,this.reset=s,1===a.sy?(this.ir=PropertyFactory.getProp(i,a.ir,0,0,this.dynamicProperties),this.is=PropertyFactory.getProp(i,a.is,0,.01,this.dynamicProperties),this.convertToPath=e):this.convertToPath=t,this.pt=PropertyFactory.getProp(i,a.pt,0,0,this.dynamicProperties),this.p=PropertyFactory.getProp(i,a.p,1,0,this.dynamicProperties),this.r=PropertyFactory.getProp(i,a.r,0,degToRads,this.dynamicProperties),this.or=PropertyFactory.getProp(i,a.or,0,0,this.dynamicProperties),this.os=PropertyFactory.getProp(i,a.os,0,.01,this.dynamicProperties),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),
this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:this.convertToPath()}}(),f=function(){function t(t){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1,this.frameId=this.elem.globalData.frameId;var e,r=this.dynamicProperties.length;for(e=0;r>e;e+=1)this.dynamicProperties[e].getValue(t),this.dynamicProperties[e].mdf&&(this.mdf=!0);this.mdf&&this.convertRectToPath()}}function e(){var t=this.p.v[0],e=this.p.v[1],r=this.s.v[0]/2,s=this.s.v[1]/2,i=bm_min(r,s,this.r.v),a=i*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+r,e-s+i,t+r,e-s+i,t+r,e-s+a,0,!0),this.v.setTripleAt(t+r,e+s-i,t+r,e+s-a,t+r,e+s-i,1,!0),0!==i?(this.v.setTripleAt(t+r-i,e+s,t+r-i,e+s,t+r-a,e+s,2,!0),this.v.setTripleAt(t-r+i,e+s,t-r+a,e+s,t-r+i,e+s,3,!0),this.v.setTripleAt(t-r,e+s-i,t-r,e+s-i,t-r,e+s-a,4,!0),this.v.setTripleAt(t-r,e-s+i,t-r,e-s+a,t-r,e-s+i,5,!0),this.v.setTripleAt(t-r+i,e-s,t-r+i,e-s,t-r+a,e-s,6,!0),this.v.setTripleAt(t+r-i,e-s,t+r-a,e-s,t+r-i,e-s,7,!0)):(this.v.setTripleAt(t-r,e+s,t-r+a,e+s,t-r,e+s,2),this.v.setTripleAt(t-r,e-s,t-r,e-s+a,t-r,e-s,3))):(this.v.setTripleAt(t+r,e-s+i,t+r,e-s+a,t+r,e-s+i,0,!0),0!==i?(this.v.setTripleAt(t+r-i,e-s,t+r-i,e-s,t+r-a,e-s,1,!0),this.v.setTripleAt(t-r+i,e-s,t-r+a,e-s,t-r+i,e-s,2,!0),this.v.setTripleAt(t-r,e-s+i,t-r,e-s+i,t-r,e-s+a,3,!0),this.v.setTripleAt(t-r,e+s-i,t-r,e+s-a,t-r,e+s-i,4,!0),this.v.setTripleAt(t-r+i,e+s,t-r+i,e+s,t-r+a,e+s,5,!0),this.v.setTripleAt(t+r-i,e+s,t+r-a,e+s,t+r-i,e+s,6,!0),this.v.setTripleAt(t+r,e+s-i,t+r,e+s-i,t+r,e+s-a,7,!0)):(this.v.setTripleAt(t-r,e-s,t-r+a,e-s,t-r,e-s,1,!0),this.v.setTripleAt(t-r,e+s,t-r,e+s-a,t-r,e+s,2,!0),this.v.setTripleAt(t+r,e+s,t+r-a,e+s,t+r,e+s,3,!0)))}return function(r,i){this.v=shape_pool.newShape(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=r,this.comp=r.comp,this.frameId=-1,this.d=i.d,this.dynamicProperties=[],this.mdf=!1,this.getValue=t,this.convertRectToPath=e,this.reset=s,this.p=PropertyFactory.getProp(r,i.p,1,0,this.dynamicProperties),this.s=PropertyFactory.getProp(r,i.s,1,0,this.dynamicProperties),this.r=PropertyFactory.getProp(r,i.r,0,0,this.dynamicProperties),this.dynamicProperties.length?this.k=!0:this.convertRectToPath()}}(),c={};return c.getShapeProp=n,c.getConstructorFunction=o,c.getKeyframedConstructorFunction=h,c}(),ShapeModifiers=function(){function t(t,e){s[t]||(s[t]=e)}function e(t,e,r,i){return new s[t](e,r,i)}var r={},s={};return r.registerModifier=t,r.getModifier=e,r}();ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){this.closed||(this.shapes.push({shape:t.sh,data:t,localShapeCollection:shapeCollection_pool.newShapeCollection()}),this.addShapeToModifier(t.sh))},ShapeModifier.prototype.init=function(t,e,r){this.elem=t,this.frameId=-1,this.shapes=[],this.dynamicProperties=[],this.mdf=!1,this.closed=!1,this.k=!1,this.comp=t.comp,this.initModifierProperties(t,e),this.dynamicProperties.length?(this.k=!0,r.push(this)):this.getValue(!0)},extendPrototype(ShapeModifier,TrimModifier),TrimModifier.prototype.processKeys=function(t){if(this.elem.globalData.frameId!==this.frameId||t){this.mdf=t?!0:!1,this.frameId=this.elem.globalData.frameId;var e,r=this.dynamicProperties.length;for(e=0;r>e;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.mdf=!0);if(this.mdf||t){var s=this.o.v%360/360;0>s&&(s+=1);var i=this.s.v+s,a=this.e.v+s;if(i>a){var n=i;i=a,a=n}this.sValue=i,this.eValue=a,this.oValue=s}}},TrimModifier.prototype.initModifierProperties=function(t,e){this.sValue=0,this.eValue=0,this.oValue=0,this.getValue=this.processKeys,this.s=PropertyFactory.getProp(t,e.s,0,.01,this.dynamicProperties),this.e=PropertyFactory.getProp(t,e.e,0,.01,this.dynamicProperties),this.o=PropertyFactory.getProp(t,e.o,0,0,this.dynamicProperties),this.m=e.m,this.dynamicProperties.length||this.getValue(!0)},TrimModifier.prototype.calculateShapeEdges=function(t,e,r,s,i){var a=[];1>=e?a.push({s:t,e:e}):t>=1?a.push({s:t-1,e:e-1}):(a.push({s:t,e:1}),a.push({s:0,e:e-1}));var n,o,h=[],l=a.length;for(n=0;l>n;n+=1)if(o=a[n],o.e*i<s||o.s*i>s+r);else{var p,m;p=o.s*i<=s?0:(o.s*i-s)/r,m=o.e*i>=s+r?1:(o.e*i-s)/r,h.push([p,m])}return h.length||h.push([0,0]),h},TrimModifier.prototype.processShapes=function(t){var e,r,s,i,a,n,o,h=this.shapes.length,l=this.sValue,p=this.eValue,m=0;if(p===l)for(r=0;h>r;r+=1)this.shapes[r].localShapeCollection.releaseShapes(),this.shapes[r].shape.mdf=!0,this.shapes[r].shape.paths=this.shapes[r].localShapeCollection;else if(1===p&&0===l||0===p&&1===l){if(this.mdf)for(r=0;h>r;r+=1)this.shapes[r].shape.mdf=!0}else{var f,c,d=[];for(r=0;h>r;r+=1)if(f=this.shapes[r],f.shape.mdf||this.mdf||t||2===this.m){if(e=f.shape.paths,i=e._length,o=0,!f.shape.mdf&&f.pathsData)o=f.totalShapeLength;else{for(a=[],s=0;i>s;s+=1)n=bez.getSegmentsLength(e.shapes[s]),a.push(n),o+=n.totalLength;f.totalShapeLength=o,f.pathsData=a}m+=o,f.shape.mdf=!0}else f.shape.paths=f.localShapeCollection;var s,i,u=l,y=p,g=0;for(r=h-1;r>=0;r-=1)if(f=this.shapes[r],f.shape.mdf){if(c=f.localShapeCollection,c.releaseShapes(),2===this.m&&h>1){var v=this.calculateShapeEdges(l,p,f.totalShapeLength,g,m);g+=f.totalShapeLength}else v=[[u,y]];for(i=v.length,s=0;i>s;s+=1){u=v[s][0],y=v[s][1],d.length=0,1>=y?d.push({s:f.totalShapeLength*u,e:f.totalShapeLength*y}):u>=1?d.push({s:f.totalShapeLength*(u-1),e:f.totalShapeLength*(y-1)}):(d.push({s:f.totalShapeLength*u,e:f.totalShapeLength}),d.push({s:0,e:f.totalShapeLength*(y-1)}));var b=this.addShapes(f,d[0]);if(d[0].s!==d[0].e){if(d.length>1)if(f.shape.v.c){var E=b.pop();this.addPaths(b,c),b=this.addShapes(f,d[1],E)}else this.addPaths(b,c),b=this.addShapes(f,d[1]);this.addPaths(b,c)}}f.shape.paths=c}}this.dynamicProperties.length||(this.mdf=!1)},TrimModifier.prototype.addPaths=function(t,e){var r,s=t.length;for(r=0;s>r;r+=1)e.addShape(t[r])},TrimModifier.prototype.addSegment=function(t,e,r,s,i,a,n){i.setXYAt(e[0],e[1],"o",a),i.setXYAt(r[0],r[1],"i",a+1),n&&i.setXYAt(t[0],t[1],"v",a),i.setXYAt(s[0],s[1],"v",a+1)},TrimModifier.prototype.addShapes=function(t,e,r){var s,i,a,n,o,h,l,p,m=t.pathsData,f=t.shape.paths.shapes,c=t.shape.paths._length,d=0,u=[],y=!0;for(r?(o=r._length,p=r._length):(r=shape_pool.newShape(),o=0,p=0),u.push(r),s=0;c>s;s+=1){for(h=m[s].lengths,r.c=f[s].c,a=f[s].c?h.length:h.length+1,i=1;a>i;i+=1)if(n=h[i-1],d+n.addedLength<e.s)d+=n.addedLength,r.c=!1;else{if(d>e.e){r.c=!1;break}e.s<=d&&e.e>=d+n.addedLength?(this.addSegment(f[s].v[i-1],f[s].o[i-1],f[s].i[i],f[s].v[i],r,o,y),y=!1):(l=bez.getNewSegment(f[s].v[i-1],f[s].v[i],f[s].o[i-1],f[s].i[i],(e.s-d)/n.addedLength,(e.e-d)/n.addedLength,h[i-1]),this.addSegment(l.pt1,l.pt3,l.pt4,l.pt2,r,o,y),y=!1,r.c=!1),d+=n.addedLength,o+=1}if(f[s].c){if(n=h[i-1],d<=e.e){var g=h[i-1].addedLength;e.s<=d&&e.e>=d+g?(this.addSegment(f[s].v[i-1],f[s].o[i-1],f[s].i[0],f[s].v[0],r,o,y),y=!1):(l=bez.getNewSegment(f[s].v[i-1],f[s].v[0],f[s].o[i-1],f[s].i[0],(e.s-d)/g,(e.e-d)/g,h[i-1]),this.addSegment(l.pt1,l.pt3,l.pt4,l.pt2,r,o,y),y=!1,r.c=!1)}else r.c=!1;d+=n.addedLength,o+=1}if(r._length&&(r.setXYAt(r.v[p][0],r.v[p][1],"i",p),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),d>e.e)break;c-1>s&&(r=shape_pool.newShape(),y=!0,u.push(r),o=0)}return u},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype(ShapeModifier,RoundCornersModifier),RoundCornersModifier.prototype.processKeys=function(t){if(this.elem.globalData.frameId!==this.frameId||t){this.mdf=t?!0:!1,this.frameId=this.elem.globalData.frameId;var e,r=this.dynamicProperties.length;for(e=0;r>e;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.mdf=!0)}},RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this.dynamicProperties),this.dynamicProperties.length||this.getValue(!0)},RoundCornersModifier.prototype.processPath=function(t,e){var r=shape_pool.newShape();r.c=t.c;var s,i,a,n,o,h,l,p,m,f,c,d,u,y=t._length,g=0;for(s=0;y>s;s+=1)i=t.v[s],n=t.o[s],a=t.i[s],i[0]===n[0]&&i[1]===n[1]&&i[0]===a[0]&&i[1]===a[1]?0!==s&&s!==y-1||t.c?(o=0===s?t.v[y-1]:t.v[s-1],h=Math.sqrt(Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2)),l=h?Math.min(h/2,e)/h:0,p=d=i[0]+(o[0]-i[0])*l,m=u=i[1]-(i[1]-o[1])*l,f=p-(p-i[0])*roundCorner,c=m-(m-i[1])*roundCorner,r.setTripleAt(p,m,f,c,d,u,g),g+=1,o=s===y-1?t.v[0]:t.v[s+1],h=Math.sqrt(Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2)),l=h?Math.min(h/2,e)/h:0,p=f=i[0]+(o[0]-i[0])*l,m=c=i[1]+(o[1]-i[1])*l,d=p-(p-i[0])*roundCorner,u=m-(m-i[1])*roundCorner,r.setTripleAt(p,m,f,c,d,u,g),g+=1):(r.setTripleAt(i[0],i[1],n[0],n[1],a[0],a[1],g),g+=1):(r.setTripleAt(t.v[s][0],t.v[s][1],t.o[s][0],t.o[s][1],t.i[s][0],t.i[s][1],g),g+=1);return r},RoundCornersModifier.prototype.processShapes=function(t){var e,r,s,i,a=this.shapes.length,n=this.rd.v;if(0!==n){var o,h,l;for(r=0;a>r;r+=1){if(o=this.shapes[r],h=o.shape.paths,l=o.localShapeCollection,o.shape.mdf||this.mdf||t)for(l.releaseShapes(),o.shape.mdf=!0,e=o.shape.paths.shapes,i=o.shape.paths._length,s=0;i>s;s+=1)l.addShape(this.processPath(e[s],n));o.shape.paths=o.localShapeCollection}}this.dynamicProperties.length||(this.mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),RepeaterModifier.prototype.processKeys=function(t){if(this.elem.globalData.frameId!==this.frameId||t){this.mdf=t?!0:!1;var e,r=this.dynamicProperties.length;for(e=0;r>e;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.mdf=!0)}},RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this.dynamicProperties),this.o=PropertyFactory.getProp(t,e.o,0,null,this.dynamicProperties),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this.dynamicProperties),this.data=e,this.dynamicProperties.length||this.getValue(!0),this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,r,s,i,a){var n=a?-1:1,o=s.s.v[0]+(1-s.s.v[0])*(1-i),h=s.s.v[1]+(1-s.s.v[1])*(1-i);t.translate(s.p.v[0]*n*i,s.p.v[1]*n*i,s.p.v[2]),e.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),e.rotate(-s.r.v*n*i),e.translate(s.a.v[0],s.a.v[1],s.a.v[2]),r.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),r.scale(a?1/o:o,a?1/h:h),r.translate(s.a.v[0],s.a.v[1],s.a.v[2])},RepeaterModifier.prototype.init=function(t,e,r,s,i){this.elem=t,this.arr=e,this.pos=r,this.elemsData=s,this._currentCopies=0,this._elements=[],this._groups=[],this.dynamicProperties=[],this.frameId=-1,this.initModifierProperties(t,e[r]);for(var a=0;r>0;)r-=1,this._elements.unshift(e[r]),a+=1;this.dynamicProperties.length?(this.k=!0,i.push(this)):this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,r=t.length;for(e=0;r>e;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=(t.length,JSON.parse(JSON.stringify(t)));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var r,s=t.length;for(r=0;s>r;r+=1)t[r]._render=e,"gr"===t[r].ty&&this.changeGroupRender(t[r].it,e)},RepeaterModifier.prototype.processShapes=function(t){if(this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.dynamicProperties.length||t||(this.mdf=!1),this.mdf)){var e=Math.ceil(this.c.v);if(this._groups.length<e){for(;this._groups.length<e;){var r={it:this.cloneElements(this._elements),ty:"gr"};r.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:0,ix:6,k:0},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,r),this._groups.splice(0,0,r),this._currentCopies+=1}this.elem.reloadShapes()}var s,i,a=0;for(s=0;s<=this._groups.length-1;s+=1)i=e>a,this._groups[s]._render=i,this.changeGroupRender(this._groups[s].it,i),a+=1;this._currentCopies=e,this.elem.firstFrame=!0;var n=this.o.v,o=n%1,h=n>0?Math.floor(n):Math.ceil(n),l=(this.tr.v.props,this.pMatrix.props),p=this.rMatrix.props,m=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var f=0;if(n>0){for(;h>f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),f+=1;o&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,o,!1),f+=o)}else if(0>n){for(;f>h;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),f-=1;o&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-o,!0),f-=o)}s=1===this.data.m?0:this._currentCopies-1;var c=1===this.data.m?1:-1;for(a=this._currentCopies;a;){if(0!==f){(0!==s&&1===c||s!==this._currentCopies-1&&-1===c)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),this.matrix.transform(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],l[12],l[13],l[14],l[15]);var d,u=this.elemsData[s].it,y=u[u.length-1].transform.mProps.v.props,g=y.length;for(d=0;g>d;d+=1)y[d]=this.matrix.props[d];this.matrix.reset()}else{this.matrix.reset();var d,u=this.elemsData[s].it,y=u[u.length-1].transform.mProps.v.props,g=y.length;for(d=0;g>d;d+=1)y[d]=this.matrix.props[d]}f+=1,a-=1,s+=c}}},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(Array.apply(null,{length:this._maxLength})),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shape_pool.release(this.shapes[t]);this._length=0},DashProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId||t){var e=0,r=this.dataProps.length;for(this.mdf=!1,this.frameId=this.elem.globalData.frameId;r>e;){if(this.dataProps[e].p.mdf){this.mdf=!t;break}e+=1}if(this.mdf||t)for("svg"===this.renderer&&(this.dashStr=""),e=0;r>e;e+=1)"o"!=this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this.cmdf=!1,this.omdf=!1,this.prop.mdf||t){var e,r,s,i=4*this.data.p;for(e=0;i>e;e+=1)r=e%4===0?100:255,s=Math.round(this.prop.v[e]*r),this.c[e]!==s&&(this.c[e]=s,this.cmdf=!t);if(this.o.length)for(i=this.prop.v.length,e=4*this.data.p;i>e;e+=1)r=e%2===0?100:1,s=e%2===0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==s&&(this.o[e-4*this.data.p]=s,this.omdf=!t)}};var ImagePreloader=function(){function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&n&&n(null)}function e(t){var e="";if(this.assetsPath){var r=t.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),e=this.assetsPath+r}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e}function r(e){var r=document.createElement("img");r.addEventListener("load",t.bind(this),!1),r.addEventListener("error",t.bind(this),!1),r.src=e}function s(t,s){n=s,this.totalAssets=t.length;var i;for(i=0;i<this.totalAssets;i+=1)t[i].layers||(r.bind(this)(e.bind(this)(t[i])),this.totalImages+=1)}function i(t){this.path=t||""}function a(t){this.assetsPath=t||""}var n;return function(){this.loadAssets=s,this.setAssetsPath=a,this.setPath=i,this.assetsPath="",this.path="",this.totalAssets=0,this.totalImages=0,this.loadedAssets=0}}(),featureSupport=function(){var t={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),t}(),filtersFactory=function(){function t(t){var e=document.createElementNS(svgNS,"filter");return e.setAttribute("id",t),e.setAttribute("filterUnits","objectBoundingBox"),e.setAttribute("x","0%"),e.setAttribute("y","0%"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e}function e(){var t=document.createElementNS(svgNS,"feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}var r={};return r.createFilter=t,r.createAlphaToLuminanceFilter=e,r}();TextAnimatorProperty.prototype.searchProperties=function(t){var e,r,s,i=this._textData.a.length,a=PropertyFactory.getProp;for(e=0;i>e;e+=1)s=this._textData.a[e],r={a:{},s:{}},"r"in s.a&&(r.a.r=a(this._elem,s.a.r,0,degToRads,this._dynamicProperties)),"rx"in s.a&&(r.a.rx=a(this._elem,s.a.rx,0,degToRads,this._dynamicProperties)),"ry"in s.a&&(r.a.ry=a(this._elem,s.a.ry,0,degToRads,this._dynamicProperties)),"sk"in s.a&&(r.a.sk=a(this._elem,s.a.sk,0,degToRads,this._dynamicProperties)),"sa"in s.a&&(r.a.sa=a(this._elem,s.a.sa,0,degToRads,this._dynamicProperties)),"s"in s.a&&(r.a.s=a(this._elem,s.a.s,1,.01,this._dynamicProperties)),"a"in s.a&&(r.a.a=a(this._elem,s.a.a,1,0,this._dynamicProperties)),"o"in s.a&&(r.a.o=a(this._elem,s.a.o,0,.01,this._dynamicProperties)),"p"in s.a&&(r.a.p=a(this._elem,s.a.p,1,0,this._dynamicProperties)),"sw"in s.a&&(r.a.sw=a(this._elem,s.a.sw,0,0,this._dynamicProperties)),"sc"in s.a&&(r.a.sc=a(this._elem,s.a.sc,1,0,this._dynamicProperties)),"fc"in s.a&&(r.a.fc=a(this._elem,s.a.fc,1,0,this._dynamicProperties)),"fh"in s.a&&(r.a.fh=a(this._elem,s.a.fh,0,0,this._dynamicProperties)),"fs"in s.a&&(r.a.fs=a(this._elem,s.a.fs,0,.01,this._dynamicProperties)),"fb"in s.a&&(r.a.fb=a(this._elem,s.a.fb,0,.01,this._dynamicProperties)),"t"in s.a&&(r.a.t=a(this._elem,s.a.t,0,0,this._dynamicProperties)),r.s=TextSelectorProp.getTextSelectorProp(this._elem,s.s,this._dynamicProperties),r.s.t=s.s.t,this._animatorsData[e]=r;this._textData.p&&"m"in this._textData.p?(this._pathData={f:a(this._elem,this._textData.p.f,0,0,this._dynamicProperties),l:a(this._elem,this._textData.p.l,0,0,this._dynamicProperties),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=a(this._elem,this._textData.m.a,1,0,this._dynamicProperties),this._dynamicProperties.length&&t.push(this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this.mdf||this._firstFrame||e||this._hasMaskedPath&&this._pathData.m.mdf){this._firstFrame=!1;var r,s,i,a,n=this._moreOptions.alignment.v,o=this._animatorsData,h=this._textData,l=this.mHelper,p=this._renderType,m=this.renderedLetters.length,f=(this.data,t.l);if(this._hasMaskedPath){var c=this._pathData.m;if(!this._pathData.n||this._pathData.mdf){var d=c.v;this._pathData.r&&(d=d.reverse());var u={tLength:0,segments:[]};a=d._length-1;var y,g=0;for(i=0;a>i;i+=1)y={s:d.v[i],e:d.v[i+1],to:[d.o[i][0]-d.v[i][0],d.o[i][1]-d.v[i][1]],ti:[d.i[i+1][0]-d.v[i+1][0],d.i[i+1][1]-d.v[i+1][1]]},bez.buildBezierData(y),u.tLength+=y.bezierData.segmentLength,u.segments.push(y),g+=y.bezierData.segmentLength;i=a,c.v.c&&(y={s:d.v[i],e:d.v[0],to:[d.o[i][0]-d.v[i][0],d.o[i][1]-d.v[i][1]],ti:[d.i[0][0]-d.v[0][0],d.i[0][1]-d.v[0][1]]},bez.buildBezierData(y),u.tLength+=y.bezierData.segmentLength,u.segments.push(y),g+=y.bezierData.segmentLength),this._pathData.pi=u}var v,b,E,u=this._pathData.pi,P=this._pathData.f.v,x=0,S=1,C=0,k=!0,A=u.segments;if(0>P&&c.v.c)for(u.tLength<Math.abs(P)&&(P=-Math.abs(P)%u.tLength),x=A.length-1,E=A[x].bezierData.points,S=E.length-1;0>P;)P+=E[S].partialLength,S-=1,0>S&&(x-=1,E=A[x].bezierData.points,S=E.length-1);E=A[x].bezierData.points,b=E[S-1],v=E[S];var M,D,w=v.partialLength}a=f.length,r=0,s=0;var T,_,I,F,V,R=1.2*t.s*.714,N=!0;F=o.length;var B,L,O,G,j,H,z,W,q,Y,X,J,U,K=-1,Z=P,Q=x,$=S,tt=-1,et=0,rt="",st=this.defaultPropsArray;for(i=0;a>i;i+=1){if(l.reset(),j=1,f[i].n)r=0,s+=t.yOffset,s+=N?1:0,P=Z,N=!1,et=0,this._hasMaskedPath&&(x=Q,S=$,E=A[x].bezierData.points,b=E[S-1],v=E[S],w=v.partialLength,C=0),U=Y=J=rt="",st=this.defaultPropsArray;else{if(this._hasMaskedPath){if(tt!==f[i].line){switch(t.j){case 1:P+=g-t.lineWidths[f[i].line];break;case 2:P+=(g-t.lineWidths[f[i].line])/2}tt=f[i].line}K!==f[i].ind&&(f[K]&&(P+=f[K].extra),P+=f[i].an/2,K=f[i].ind),P+=n[0]*f[i].an/200;var it=0;for(I=0;F>I;I+=1)T=o[I].a,"p"in T&&(_=o[I].s,B=_.getMult(f[i].anIndexes[I],h.a[I].s.totalChars),it+=B.length?T.p.v[0]*B[0]:T.p.v[0]*B),"a"in T&&(_=o[I].s,B=_.getMult(f[i].anIndexes[I],h.a[I].s.totalChars),it+=B.length?T.a.v[0]*B[0]:T.a.v[0]*B);for(k=!0;k;)C+w>=P+it||!E?(M=(P+it-C)/v.partialLength,O=b.point[0]+(v.point[0]-b.point[0])*M,G=b.point[1]+(v.point[1]-b.point[1])*M,l.translate(-n[0]*f[i].an/200,-(n[1]*R/100)),k=!1):E&&(C+=v.partialLength,S+=1,S>=E.length&&(S=0,x+=1,A[x]?E=A[x].bezierData.points:c.v.c?(S=0,x=0,E=A[x].bezierData.points):(C-=v.partialLength,E=null)),E&&(b=v,v=E[S],w=v.partialLength));L=f[i].an/2-f[i].add,l.translate(-L,0,0)}else L=f[i].an/2-f[i].add,l.translate(-L,0,0),l.translate(-n[0]*f[i].an/200,-n[1]*R/100,0);for(et+=f[i].l/2,I=0;F>I;I+=1)T=o[I].a,"t"in T&&(_=o[I].s,B=_.getMult(f[i].anIndexes[I],h.a[I].s.totalChars),this._hasMaskedPath?P+=B.length?T.t*B[0]:T.t*B:r+=B.length?T.t.v*B[0]:T.t.v*B);for(et+=f[i].l/2,t.strokeWidthAnim&&(z=t.sw||0),t.strokeColorAnim&&(H=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(W=[t.fc[0],t.fc[1],t.fc[2]]),I=0;F>I;I+=1)T=o[I].a,"a"in T&&(_=o[I].s,B=_.getMult(f[i].anIndexes[I],h.a[I].s.totalChars),B.length?l.translate(-T.a.v[0]*B[0],-T.a.v[1]*B[1],T.a.v[2]*B[2]):l.translate(-T.a.v[0]*B,-T.a.v[1]*B,T.a.v[2]*B));for(I=0;F>I;I+=1)T=o[I].a,"s"in T&&(_=o[I].s,B=_.getMult(f[i].anIndexes[I],h.a[I].s.totalChars),B.length?l.scale(1+(T.s.v[0]-1)*B[0],1+(T.s.v[1]-1)*B[1],1):l.scale(1+(T.s.v[0]-1)*B,1+(T.s.v[1]-1)*B,1));for(I=0;F>I;I+=1){if(T=o[I].a,_=o[I].s,B=_.getMult(f[i].anIndexes[I],h.a[I].s.totalChars),"sk"in T&&(B.length?l.skewFromAxis(-T.sk.v*B[0],T.sa.v*B[1]):l.skewFromAxis(-T.sk.v*B,T.sa.v*B)),"r"in T&&l.rotateZ(B.length?-T.r.v*B[2]:-T.r.v*B),"ry"in T&&l.rotateY(B.length?T.ry.v*B[1]:T.ry.v*B),"rx"in T&&l.rotateX(B.length?T.rx.v*B[0]:T.rx.v*B),"o"in T&&(j+=B.length?(T.o.v*B[0]-j)*B[0]:(T.o.v*B-j)*B),t.strokeWidthAnim&&"sw"in T&&(z+=B.length?T.sw.v*B[0]:T.sw.v*B),t.strokeColorAnim&&"sc"in T)for(q=0;3>q;q+=1)H[q]=B.length?H[q]+(T.sc.v[q]-H[q])*B[0]:H[q]+(T.sc.v[q]-H[q])*B;if(t.fillColorAnim&&t.fc){if("fc"in T)for(q=0;3>q;q+=1)W[q]=B.length?W[q]+(T.fc.v[q]-W[q])*B[0]:W[q]+(T.fc.v[q]-W[q])*B;"fh"in T&&(W=B.length?addHueToRGB(W,T.fh.v*B[0]):addHueToRGB(W,T.fh.v*B)),"fs"in T&&(W=B.length?addSaturationToRGB(W,T.fs.v*B[0]):addSaturationToRGB(W,T.fs.v*B)),"fb"in T&&(W=B.length?addBrightnessToRGB(W,T.fb.v*B[0]):addBrightnessToRGB(W,T.fb.v*B))}}for(I=0;F>I;I+=1)T=o[I].a,"p"in T&&(_=o[I].s,B=_.getMult(f[i].anIndexes[I],h.a[I].s.totalChars),this._hasMaskedPath?B.length?l.translate(0,T.p.v[1]*B[0],-T.p.v[2]*B[1]):l.translate(0,T.p.v[1]*B,-T.p.v[2]*B):B.length?l.translate(T.p.v[0]*B[0],T.p.v[1]*B[1],-T.p.v[2]*B[2]):l.translate(T.p.v[0]*B,T.p.v[1]*B,-T.p.v[2]*B));if(t.strokeWidthAnim&&(Y=0>z?0:z),t.strokeColorAnim&&(X="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),t.fillColorAnim&&t.fc&&(J="rgb("+Math.round(255*W[0])+","+Math.round(255*W[1])+","+Math.round(255*W[2])+")"),this._hasMaskedPath){if(l.translate(0,-t.ls),l.translate(0,n[1]*R/100+s,0),h.p.p){D=(v.point[1]-b.point[1])/(v.point[0]-b.point[0]);var at=180*Math.atan(D)/Math.PI;v.point[0]<b.point[0]&&(at+=180),l.rotate(-at*Math.PI/180)}l.translate(O,G,0),P-=n[0]*f[i].an/200,f[i+1]&&K!==f[i+1].ind&&(P+=f[i].an/2,P+=t.tr/1e3*t.s)}else{switch(l.translate(r,s,0),t.ps&&l.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:l.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[f[i].line]),0,0);break;case 2:l.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[f[i].line])/2,0,0)}l.translate(0,-t.ls),l.translate(L,0,0),l.translate(n[0]*f[i].an/200,n[1]*R/100,0),r+=f[i].l+t.tr/1e3*t.s}"html"===p?rt=l.toCSS():"svg"===p?rt=l.to2dCSS():st=[l.props[0],l.props[1],l.props[2],l.props[3],l.props[4],l.props[5],l.props[6],l.props[7],l.props[8],l.props[9],l.props[10],l.props[11],l.props[12],l.props[13],l.props[14],l.props[15]],U=j}i>=m?(V=new LetterProps(U,Y,X,J,rt,st),this.renderedLetters.push(V),m+=1,this.lettersChangedFlag=!0):(V=this.renderedLetters[i],this.lettersChangedFlag=V.update(U,Y,X,J,rt,st)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){if(this._elem.globalData.frameId!==this._frameId){this._frameId=this._elem.globalData.frameId;var t,e=this._dynamicProperties.length;for(this.mdf=!1,t=0;e>t;t+=1)this._dynamicProperties[t].getValue(),this.mdf=this._dynamicProperties[t].mdf||this.mdf}},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],LetterProps.prototype.update=function(t,e,r,s,i,a){this.mdf.o=!1,this.mdf.sw=!1,this.mdf.sc=!1,this.mdf.fc=!1,this.mdf.m=!1,this.mdf.p=!1;var n=!1;return this.o!==t&&(this.o=t,this.mdf.o=!0,n=!0),this.sw!==e&&(this.sw=e,this.mdf.sw=!0,n=!0),this.sc!==r&&(this.sc=r,this.mdf.sc=!0,n=!0),this.fc!==s&&(this.fc=s,this.mdf.fc=!0,n=!0),this.m!==i&&(this.m=i,this.mdf.m=!0,n=!0),!a.length||this.p[0]===a[0]&&this.p[1]===a[1]&&this.p[4]===a[4]&&this.p[5]===a[5]&&this.p[12]===a[12]&&this.p[13]===a[13]||(this.p=a,this.mdf.p=!0,n=!0),n},TextProperty.prototype.setCurrentData=function(t){var e=this.currentData;e.ascent=t.ascent,e.boxWidth=t.boxWidth?t.boxWidth:e.boxWidth,e.f=t.f,e.fStyle=t.fStyle,e.fWeight=t.fWeight,e.fc=t.fc,e.j=t.j,e.justifyOffset=t.justifyOffset,e.l=t.l,e.lh=t.lh,e.lineWidths=t.lineWidths,e.ls=t.ls,e.of=t.of,e.s=t.s,e.sc=t.sc,e.sw=t.sw,e.t=t.t,e.tr=t.tr,e.fillColorAnim=t.fillColorAnim||e.fillColorAnim,e.strokeColorAnim=t.strokeColorAnim||e.strokeColorAnim,e.strokeWidthAnim=t.strokeWidthAnim||e.strokeWidthAnim,e.yOffset=t.yOffset,e.__complete=!1},TextProperty.prototype.searchProperty=function(){return this.kf=this.data.d.k.length>1,this.kf},TextProperty.prototype.getValue=function(){this.mdf=!1;var t=this.elem.globalData.frameId;if(t!==this._frameId&&this.kf||this.firstFrame){for(var e,r=this.data.d.k,s=0,i=r.length;i-1>=s&&(e=r[s].s,!(s===i-1||r[s+1].t>t));)s+=1;this.keysIndex!==s&&(e.__complete||this.completeTextData(e),this.setCurrentData(e),this.mdf=this.firstFrame?!1:!0,this.pv=this.v=this.currentData.t,this.keysIndex=s),this._frameId=t}},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,r,s,i,a,n,o,h=this.elem.globalData.fontManager,l=this.data,p=[],m=0,f=l.m.g,c=0,d=0,u=0,y=[],g=0,v=0,b=h.getFontByName(t.f),E=0,P=b.fStyle.split(" "),x="normal",S="normal";r=P.length;var C;for(e=0;r>e;e+=1)switch(C=P[e].toLowerCase()){case"italic":S="italic";break;case"bold":x="700";break;case"black":x="900";break;case"medium":x="500";break;case"regular":case"normal":x="400";case"light":case"thin":x="200"}t.fWeight=x,t.fStyle=S,r=t.t.length;var k=t.tr/1e3*t.s;if(t.sz){var A=t.sz[0],M=-1;for(e=0;r>e;e+=1)s=!1," "===t.t.charAt(e)?M=e:13===t.t.charCodeAt(e)&&(g=0,s=!0),h.chars?(o=h.getCharData(t.t.charAt(e),b.fStyle,b.fFamily),E=s?0:o.w*t.s/100):E=h.measureText(t.t.charAt(e),t.f,t.s),g+E>A&&" "!==t.t.charAt(e)?(-1===M?r+=1:e=M,t.t=t.t.substr(0,e)+"\r"+t.t.substr(e===M?e+1:e),M=-1,g=0):(g+=E,g+=k);r=t.t.length}g=-k,E=0;var D,w=0;for(e=0;r>e;e+=1)if(s=!1,D=t.t.charAt(e)," "===D?i="\xa0":13===D.charCodeAt(0)?(w=0,y.push(g),v=g>v?g:v,g=-2*k,i="",s=!0,u+=1):i=t.t.charAt(e),h.chars?(o=h.getCharData(D,b.fStyle,h.getFontByName(t.f).fFamily),E=s?0:o.w*t.s/100):E=h.measureText(i,t.f,t.s)," "===D?w+=E+k:(g+=E+k+w,w=0),p.push({l:E,an:E,add:c,n:s,anIndexes:[],val:i,line:u}),2==f){if(c+=E,""==i||"\xa0"==i||e==r-1){for((""==i||"\xa0"==i)&&(c-=E);e>=d;)p[d].an=c,p[d].ind=m,p[d].extra=E,d+=1;m+=1,c=0}}else if(3==f){if(c+=E,""==i||e==r-1){for(""==i&&(c-=E);e>=d;)p[d].an=c,p[d].ind=m,p[d].extra=E,d+=1;c=0,m+=1}}else p[m].ind=m,p[m].extra=0,m+=1;if(t.l=p,v=g>v?g:v,y.push(g),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=v,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=y;var T,_,I=l.a;n=I.length;var F,V,R=[];for(a=0;n>a;a+=1){for(T=I[a],T.a.sc&&(t.strokeColorAnim=!0),T.a.sw&&(t.strokeWidthAnim=!0),(T.a.fc||T.a.fh||T.a.fs||T.a.fb)&&(t.fillColorAnim=!0),V=0,F=T.s.b,e=0;r>e;e+=1)_=p[e],_.anIndexes[a]=V,(1==F&&""!=_.val||2==F&&""!=_.val&&"\xa0"!=_.val||3==F&&(_.n||"\xa0"==_.val||e==r-1)||4==F&&(_.n||e==r-1))&&(1===T.s.rn&&R.push(V),V+=1);l.a[a].s.totalChars=V;var N,B=-1;if(1===T.s.rn)for(e=0;r>e;e+=1)_=p[e],B!=_.anIndexes[a]&&(B=_.anIndexes[a],N=R.splice(Math.floor(Math.random()*R.length),1)[0]),_.anIndexes[a]=N}t.yOffset=t.lh||1.2*t.s,t.ls=t.ls||0,t.ascent=b.ascent*t.s/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var r=this.data.d.k[e].s;r.__complete=!1,r.t=t.t,this.keysIndex=-1,this.firstFrame=!0,this.getValue()};var TextSelectorProp=function(){function t(t){if(this.mdf=t||!1,this.dynamicProperties.length){var e,r=this.dynamicProperties.length;for(e=0;r>e;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.mdf=!0)}var s=this.elem.textProperty.currentData?this.elem.textProperty.currentData.l.length:0;t&&2===this.data.r&&(this.e.v=s);var i=2===this.data.r?1:100/s,a=this.o.v/i,n=this.s.v/i+a,o=this.e.v/i+a;if(n>o){var h=n;n=o,o=h}this.finalS=n,this.finalE=o}function e(t){var e=BezierFactory.getBezierEasing(this.ne.v/100,0,1-this.xe.v/100,1).get,r=0,s=this.finalS,o=this.finalE,h=this.data.sh;if(2==h)r=o===s?t>=o?1:0:i(0,a(.5/(o-s)+(t-s)/(o-s),1)),r=e(r);else if(3==h)r=o===s?t>=o?0:1:1-i(0,a(.5/(o-s)+(t-s)/(o-s),1)),r=e(r);else if(4==h)o===s?r=0:(r=i(0,a(.5/(o-s)+(t-s)/(o-s),1)),.5>r?r*=2:r=1-2*(r-.5)),r=e(r);else if(5==h){if(o===s)r=0;else{var l=o-s;t=a(i(0,t+.5-s),o-s);var p=-l/2+t,m=l/2;r=Math.sqrt(1-p*p/(m*m))}r=e(r)}else 6==h?(o===s?r=0:(t=a(i(0,t+.5-s),o-s),r=(1+Math.cos(Math.PI+2*Math.PI*t/(o-s)))/2),r=e(r)):(t>=n(s)&&(r=0>t-s?1-(s-t):i(0,a(o-t,1))),r=e(r));return r*this.a.v}function r(r,s,i){this.mdf=!1,this.k=!1,this.data=s,this.dynamicProperties=[],this.getValue=t,this.getMult=e,this.elem=r,this.comp=r.comp,this.finalS=0,this.finalE=0,this.s=PropertyFactory.getProp(r,s.s||{k:0},0,0,this.dynamicProperties),this.e="e"in s?PropertyFactory.getProp(r,s.e,0,0,this.dynamicProperties):{v:100},this.o=PropertyFactory.getProp(r,s.o||{k:0},0,0,this.dynamicProperties),this.xe=PropertyFactory.getProp(r,s.xe||{k:0},0,0,this.dynamicProperties),this.ne=PropertyFactory.getProp(r,s.ne||{k:0},0,0,this.dynamicProperties),this.a=PropertyFactory.getProp(r,s.a,0,.01,this.dynamicProperties),this.dynamicProperties.length?i.push(this):this.getValue()}function s(t,e,s){return new r(t,e,s)}var i=Math.max,a=Math.min,n=Math.floor;return{getTextSelectorProp:s}}(),pooling=function(){function t(t){return t.concat(Array.apply(null,{length:t.length}))}return{"double":t}}(),point_pool=function(){function t(){var t;return s?(s-=1,t=a[s]):t=createTypedArray("float32",2),t}function e(t){s===i&&(a=pooling["double"](a),i=2*i),a[s]=t,s+=1}var r={newPoint:t,release:e},s=0,i=8,a=Array.apply(null,{length:i});return r}(),shape_pool=function(){function t(){var t;return a?(a-=1,t=o[a]):t=new ShapePath,t}function e(t){a===n&&(o=pooling["double"](o),n=2*n);var e,r=t._length;for(e=0;r>e;e+=1)point_pool.release(t.v[e]),point_pool.release(t.i[e]),point_pool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1,o[a]=t,a+=1}function r(t,r){for(;r--;)e(t[r])}function s(e,r){var s,i=void 0===e._length?e.v.length:e._length,a=t();a.setLength(i),a.c=e.c;var n;for(s=0;i>s;s+=1)r?(n=r.applyToPointArray(e.v[s][0],e.v[s][1],0,2),
a.setXYAt(n[0],n[1],"v",s),point_pool.release(n),n=r.applyToPointArray(e.o[s][0],e.o[s][1],0,2),a.setXYAt(n[0],n[1],"o",s),point_pool.release(n),n=r.applyToPointArray(e.i[s][0],e.i[s][1],0,2),a.setXYAt(n[0],n[1],"i",s),point_pool.release(n)):a.setTripleAt(e.v[s][0],e.v[s][1],e.o[s][0],e.o[s][1],e.i[s][0],e.i[s][1],s);return a}var i={clone:s,newShape:t,release:e,releaseArray:r},a=0,n=4,o=Array.apply(null,{length:n});return i}(),shapeCollection_pool=function(){function t(){var t;return i?(i-=1,t=n[i]):t=new ShapeCollection,t}function e(t){var e,r=t._length;for(e=0;r>e;e+=1)shape_pool.release(t.shapes[e]);t._length=0,i===a&&(n=pooling["double"](n),a=2*a),n[i]=t,i+=1}function r(t,r){e(t),i===a&&(n=pooling["double"](n),a=2*a),n[i]=t,i+=1}var s={newShapeCollection:t,release:e,clone:r},i=0,a=4,n=Array.apply(null,{length:a});return s}();BaseRenderer.prototype.checkLayers=function(t){var e,r,s=this.layers.length;for(this.completeLayers=!0,e=s-1;e>=0;e--)this.elements[e]||(r=this.layers[e],r.ip-r.st<=t-this.layers[e].st&&r.op-r.st>t-this.layers[e].st&&this.buildItem(e)),this.completeLayers=this.elements[e]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 13:return this.createCamera(t);case 99:return null}return this.createBase(t)},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;e>t;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,r,s=t.length,i=this.layers.length;for(e=0;s>e;e+=1)for(r=0;i>r;){if(this.layers[r].id==t[e].id){this.layers[r]=t[e];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,r){r=r||[];for(var s=this.elements,i=this.layers,a=0,n=i.length;n>a;)i[a].ind==e&&(s[a]&&s[a]!==!0?void 0!==i[a].parent?(r.push(s[a]),s[a]._isParent=!0,this.buildElementParenting(t,i[a].parent,r)):(r.push(s[a]),s[a]._isParent=!0,t.setHierarchy(r)):(this.buildItem(a),this.addPendingElement(t))),a+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},extendPrototype(BaseRenderer,SVGRenderer),SVGRenderer.prototype.createBase=function(t){return new SVGBaseElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createShape=function(t){return new IShapeElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createText=function(t){return new SVGTextElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createImage=function(t){return new IImageElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createComp=function(t){return new ICompElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createSolid=function(t){return new ISolidElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(t){this.layerElement=document.createElementNS(svgNS,"svg"),this.layerElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.layerElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.layerElement.setAttribute("width",t.w),this.layerElement.setAttribute("height",t.h),this.layerElement.style.width="100%",this.layerElement.style.height="100%"),this.renderConfig.className&&this.layerElement.setAttribute("class",this.renderConfig.className),this.layerElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.layerElement);var e=document.createElementNS(svgNS,"defs");this.globalData.defs=e,this.layerElement.appendChild(e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.frameId=0,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h},this.data=t,this.globalData.frameRate=t.fr;var r=document.createElementNS(svgNS,"clipPath"),s=document.createElementNS(svgNS,"rect");s.setAttribute("width",t.w),s.setAttribute("height",t.h),s.setAttribute("x",0),s.setAttribute("y",0);var i="animationMask_"+randomString(10);r.setAttribute("id",i),r.appendChild(s);var a=document.createElementNS(svgNS,"g");a.setAttribute("clip-path","url("+locationHref+"#"+i+")"),this.layerElement.appendChild(a),e.appendChild(r),this.layerElement=a,this.layers=t.layers,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.elements=Array.apply(null,{length:t.layers.length})},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;e>t;t++)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){e[t]=!0;var r=this.createItem(this.layers[t]);e[t]=r,expressionsPlugin&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,t),this.layers[t].tt&&(this.elements[t-1]&&this.elements[t-1]!==!0?r.setMatte(e[t-1].layerId):(this.buildItem(t-1),this.addPendingElement(r)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,r=this.elements.length;r>e;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRenderer.prototype.renderFrame=function(t){if(this.renderedFrame!=t&&!this.destroyed){null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t;var e,r=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=r-1;e>=0;e--)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);for(e=r-1;e>=0;e--)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){for(var s,i=0;e>i;)this.elements[i]&&this.elements[i]!==!0&&this.elements[i].getBaseElement()&&(s=this.elements[i].getBaseElement()),i+=1;s?this.layerElement.insertBefore(r,s):this.layerElement.appendChild(r)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},SVGRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length,s=document.createElementNS(svgNS,"g");for(e=0;r>e;e+=1)if(t[e].xt){var i=this.createComp(t[e],s,this.globalData.comp,null);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.prepareFrame=function(){var t,e=this.dynamicProperties.length;for(t=0;e>t;t+=1)this.dynamicProperties[t].getValue()},MaskElement.prototype.renderFrame=function(t){var e,r=this.masksProperties.length;for(e=0;r>e;e++)if((this.viewData[e].prop.mdf||this.firstFrame)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op.mdf||this.firstFrame)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp.mdf||this.firstFrame)&&(this.viewData[e].invRect.setAttribute("x",-t.props[12]),this.viewData[e].invRect.setAttribute("y",-t.props[13])),this.storedData[e].x&&(this.storedData[e].x.mdf||this.firstFrame))){var s=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[e].filterId+")")),s.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}this.firstFrame=!1},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,r){var s,i,a=" M"+e.v[0][0]+","+e.v[0][1];for(i=e._length,s=1;i>s;s+=1)a+=" C"+bm_rnd(e.o[s-1][0])+","+bm_rnd(e.o[s-1][1])+" "+bm_rnd(e.i[s][0])+","+bm_rnd(e.i[s][1])+" "+bm_rnd(e.v[s][0])+","+bm_rnd(e.v[s][1]);e.c&&i>1&&(a+=" C"+bm_rnd(e.o[s-1][0])+","+bm_rnd(e.o[s-1][1])+" "+bm_rnd(e.i[0][0])+","+bm_rnd(e.i[0][1])+" "+bm_rnd(e.v[0][0])+","+bm_rnd(e.v[0][1])),r.lastPath!==a&&(r.elem&&(e.c?t.inv?r.elem.setAttribute("d",this.solidPath+a):r.elem.setAttribute("d",a):r.elem.setAttribute("d","")),r.lastPath=a)},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},BaseElement.prototype.checkMasks=function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;e>t;){if("n"!==this.data.masksProperties[t].mode&&this.data.masksProperties[t].cl!==!1)return!0;t+=1}return!1},BaseElement.prototype.checkParenting=function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent)},BaseElement.prototype.prepareFrame=function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?this.isVisible!==!0&&(this.elemMdf=!0,this.globalData.mdf=!0,this.isVisible=!0,this.firstFrame=!0,this.data.hasMask&&(this.maskManager.firstFrame=!0)):this.isVisible!==!1&&(this.elemMdf=!0,this.globalData.mdf=!0,this.isVisible=!1);var e,r=this.dynamicProperties.length;for(e=0;r>e;e+=1)(this.isVisible||this._isParent&&"transform"===this.dynamicProperties[e].type)&&(this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.elemMdf=!0,this.globalData.mdf=!0));return this.data.hasMask&&this.isVisible&&this.maskManager.prepareFrame(t*this.data.sr),this.currentFrameNum=t*this.data.sr,this.isVisible},BaseElement.prototype.globalToLocal=function(t){var e=[];e.push(this.finalTransform);for(var r=!0,s=this.comp;r;)s.finalTransform?(s.data.hasMask&&e.splice(0,0,s.finalTransform),s=s.comp):r=!1;var i,a,n=e.length;for(i=0;n>i;i+=1)a=e[i].mat.applyToPointArray(0,0,0),t=[t[0]-a[0],t[1]-a[1],0];return t},BaseElement.prototype.initExpressions=function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?this.layerInterface.shapeInterface=ShapeExpressionInterface.createShapeInterface(this.shapesData,this.itemsData,this.layerInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this))},BaseElement.prototype.setBlendMode=function(){var t="";switch(this.data.bm){case 1:t="multiply";break;case 2:t="screen";break;case 3:t="overlay";break;case 4:t="darken";break;case 5:t="lighten";break;case 6:t="color-dodge";break;case 7:t="color-burn";break;case 8:t="hard-light";break;case 9:t="soft-light";break;case 10:t="difference";break;case 11:t="exclusion";break;case 12:t="hue";break;case 13:t="saturation";break;case 14:t="color";break;case 15:t="luminosity"}var e=this.baseElement||this.layerElement;e.style["mix-blend-mode"]=t},BaseElement.prototype.init=function(){this.data.sr||(this.data.sr=1),this.dynamicProperties=this.dynamicProperties||[],this.data.ef&&(this.effects=new EffectsManager(this.data,this,this.dynamicProperties)),this.hidden=!1,this.firstFrame=!0,this.isVisible=!1,this._isParent=!1,this.currentFrameNum=-99999,this.lastNum=-99999,this.data.ks&&(this.finalTransform={mProp:TransformPropertyFactory.getTransformProperty(this,this.data.ks,this.dynamicProperties),matMdf:!1,opMdf:!1,mat:new Matrix,opacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.finalTransform.op=this.finalTransform.mProp.o,this.transform=this.finalTransform.mProp,11!==this.data.ty&&this.createElements(),this.data.hasMask&&this.addMasks(this.data)),this.elemMdf=!1},BaseElement.prototype.getType=function(){return this.type},BaseElement.prototype.resetHierarchy=function(){this.hierarchy?this.hierarchy.length=0:this.hierarchy=[]},BaseElement.prototype.getHierarchy=function(){return this.hierarchy||(this.hierarchy=[]),this.hierarchy},BaseElement.prototype.setHierarchy=function(t){this.hierarchy=t},BaseElement.prototype.getLayerSize=function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}},BaseElement.prototype.hide=function(){},BaseElement.prototype.sourceRectAtTime=function(){return{top:0,left:0,width:100,height:100}},BaseElement.prototype.mHelper=new Matrix,createElement(BaseElement,SVGBaseElement),SVGBaseElement.prototype.createElements=function(){this.layerElement=document.createElementNS(svgNS,"g"),this.transformedElement=this.layerElement,this.data.hasMask&&(this.maskedElement=this.layerElement);var t=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var e=document.createElementNS(svgNS,"mask");if(e.setAttribute("id",this.layerId),e.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),e.appendChild(this.layerElement),t=e,this.globalData.defs.appendChild(e),!featureSupport.maskType&&1==this.data.td){e.setAttribute("mask-type","luminance");var r=randomString(10),s=filtersFactory.createFilter(r);this.globalData.defs.appendChild(s),s.appendChild(filtersFactory.createAlphaToLuminanceFilter());var i=document.createElementNS(svgNS,"g");i.appendChild(this.layerElement),t=i,e.appendChild(i),i.setAttribute("filter","url("+locationHref+"#"+r+")")}}else if(2==this.data.td){var a=document.createElementNS(svgNS,"mask");a.setAttribute("id",this.layerId),a.setAttribute("mask-type","alpha");var n=document.createElementNS(svgNS,"g");a.appendChild(n);var r=randomString(10),s=filtersFactory.createFilter(r),o=document.createElementNS(svgNS,"feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1"),s.appendChild(o),this.globalData.defs.appendChild(s);var h=document.createElementNS(svgNS,"rect");if(h.setAttribute("width",this.comp.data.w),h.setAttribute("height",this.comp.data.h),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("fill","#ffffff"),h.setAttribute("opacity","0"),n.setAttribute("filter","url("+locationHref+"#"+r+")"),n.appendChild(h),n.appendChild(this.layerElement),t=n,!featureSupport.maskType){a.setAttribute("mask-type","luminance"),s.appendChild(filtersFactory.createAlphaToLuminanceFilter());var i=document.createElementNS(svgNS,"g");n.appendChild(h),i.appendChild(this.layerElement),t=i,n.appendChild(i)}this.globalData.defs.appendChild(a)}}else(this.data.hasMask||this.data.tt)&&this.data.tt?(this.matteElement=document.createElementNS(svgNS,"g"),this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(!this.data.ln&&!this.data.cl||4!==this.data.ty&&0!==this.data.ty||(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)),0===this.data.ty){var l=document.createElementNS(svgNS,"clipPath"),p=document.createElementNS(svgNS,"path");p.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var m="cp_"+randomString(8);if(l.setAttribute("id",m),l.appendChild(p),this.globalData.defs.appendChild(l),this.checkMasks()){var f=document.createElementNS(svgNS,"g");f.setAttribute("clip-path","url("+locationHref+"#"+m+")"),f.appendChild(this.layerElement),this.transformedElement=f,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+m+")")}0!==this.data.bm&&this.setBlendMode(),this.layerElement!==this.parentContainer&&(this.placeholder=null),this.data.ef&&(this.effectsManager=new SVGEffects(this)),this.checkParenting()},SVGBaseElement.prototype.setBlendMode=BaseElement.prototype.setBlendMode,SVGBaseElement.prototype.renderFrame=function(t){if(3===this.data.ty||this.data.hd||!this.isVisible)return!1;this.lastNum=this.currentFrameNum,this.finalTransform.opMdf=this.firstFrame||this.finalTransform.op.mdf,this.finalTransform.matMdf=this.firstFrame||this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v;var e,r=this.finalTransform.mat;if(this.hierarchy){var s=0,i=this.hierarchy.length;if(!this.finalTransform.matMdf)for(;i>s;){if(this.hierarchy[s].finalTransform.mProp.mdf){this.finalTransform.matMdf=!0;break}s+=1}if(this.finalTransform.matMdf)for(e=this.finalTransform.mProp.v.props,r.cloneFromProps(e),s=0;i>s;s+=1)e=this.hierarchy[s].finalTransform.mProp.v.props,r.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}else this.isVisible&&(r=this.finalTransform.mProp.v);return this.finalTransform.matMdf&&this.layerElement&&this.transformedElement.setAttribute("transform",r.to2dCSS()),this.finalTransform.opMdf&&this.layerElement&&(this.finalTransform.op.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.hidden&&this.isTransparent&&(this.isTransparent=!1,this.show()),this.transformedElement.setAttribute("opacity",this.finalTransform.op.v)),this.data.hasMask&&this.maskManager.renderFrame(r),this.effectsManager&&this.effectsManager.renderFrame(this.firstFrame),this.isVisible},SVGBaseElement.prototype.destroy=function(){this.layerElement=null,this.parentContainer=null,this.matteElement&&(this.matteElement=null),this.maskManager&&this.maskManager.destroy()},SVGBaseElement.prototype.getBaseElement=function(){return this.baseElement},SVGBaseElement.prototype.addMasks=function(t){this.maskManager=new MaskElement(t,this,this.globalData)},SVGBaseElement.prototype.setMatte=function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+t+")")},SVGBaseElement.prototype.hide=function(){this.hidden||(this.layerElement.style.display="none",this.hidden=!0)},SVGBaseElement.prototype.show=function(){this.isVisible&&!this.isTransparent&&(this.hidden=!1,this.layerElement.style.display="block")},createElement(SVGBaseElement,IShapeElement),IShapeElement.prototype.identityMatrix=new Matrix,IShapeElement.prototype.lcEnum={1:"butt",2:"round",3:"square"},IShapeElement.prototype.ljEnum={1:"miter",2:"round",3:"butt"},IShapeElement.prototype.searchProcessedElement=function(t){for(var e=this.processedElements.length;e;)if(e-=1,this.processedElements[e].elem===t)return this.processedElements[e].pos;return 0},IShapeElement.prototype.addProcessedElement=function(t,e){for(var r=this.processedElements.length;r;)if(r-=1,this.processedElements[r].elem===t){this.processedElements[r].pos=e;break}0===r&&this.processedElements.push({elem:t,pos:e})},IShapeElement.prototype.buildExpressionInterface=function(){},IShapeElement.prototype.createElements=function(){this._parent.createElements.call(this),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,this.dynamicProperties,0,[],!0),(!this.data.hd||this.data.td)&&styleUnselectableDiv(this.layerElement)},IShapeElement.prototype.setGradientData=function(t,e,r){var s,i="gr_"+randomString(10);s=1===e.t?document.createElementNS(svgNS,"linearGradient"):document.createElementNS(svgNS,"radialGradient"),s.setAttribute("id",i),s.setAttribute("spreadMethod","pad"),s.setAttribute("gradientUnits","userSpaceOnUse");var a,n,o,h=[];for(o=4*e.g.p,n=0;o>n;n+=4)a=document.createElementNS(svgNS,"stop"),s.appendChild(a),h.push(a);t.setAttribute("gf"===e.ty?"fill":"stroke","url(#"+i+")"),this.globalData.defs.appendChild(s),r.gf=s,r.cst=h},IShapeElement.prototype.setGradientOpacity=function(t,e,r){if(t.g.k.k[0].s&&t.g.k.k[0].s.length>4*t.g.p||t.g.k.k.length>4*t.g.p){var s,i,a,n,o=document.createElementNS(svgNS,"mask"),h=document.createElementNS(svgNS,"path");o.appendChild(h);var l="op_"+randomString(10),p="mk_"+randomString(10);o.setAttribute("id",p),s=1===t.t?document.createElementNS(svgNS,"linearGradient"):document.createElementNS(svgNS,"radialGradient"),s.setAttribute("id",l),s.setAttribute("spreadMethod","pad"),s.setAttribute("gradientUnits","userSpaceOnUse"),n=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var m=[];for(a=4*t.g.p;n>a;a+=2)i=document.createElementNS(svgNS,"stop"),i.setAttribute("stop-color","rgb(255,255,255)"),s.appendChild(i),m.push(i);return h.setAttribute("gf"===t.ty?"fill":"stroke","url(#"+l+")"),this.globalData.defs.appendChild(s),this.globalData.defs.appendChild(o),e.of=s,e.ost=m,r.msElem=h,p}},IShapeElement.prototype.createStyleElement=function(t,e,r){var s={},i={data:t,type:t.ty,d:"",ld:"",lvl:e,mdf:!1,closed:!1},a=document.createElementNS(svgNS,"path");if(s.o=PropertyFactory.getProp(this,t.o,0,.01,r),("st"==t.ty||"gs"==t.ty)&&(a.setAttribute("stroke-linecap",this.lcEnum[t.lc]||"round"),a.setAttribute("stroke-linejoin",this.ljEnum[t.lj]||"round"),a.setAttribute("fill-opacity","0"),1==t.lj&&a.setAttribute("stroke-miterlimit",t.ml),s.w=PropertyFactory.getProp(this,t.w,0,null,r),t.d)){var n=new DashProperty(this,t.d,"svg",r);n.k||(a.setAttribute("stroke-dasharray",n.dasharray),a.setAttribute("stroke-dashoffset",n.dashoffset[0])),s.d=n}if("fl"==t.ty||"st"==t.ty)s.c=PropertyFactory.getProp(this,t.c,1,255,r);else{s.g=new GradientProperty(this,t.g,r),2==t.t&&(s.h=PropertyFactory.getProp(this,t.h,0,.01,r),s.a=PropertyFactory.getProp(this,t.a,0,degToRads,r)),s.s=PropertyFactory.getProp(this,t.s,1,null,r),s.e=PropertyFactory.getProp(this,t.e,1,null,r),this.setGradientData(a,t,s,i);var o=this.setGradientOpacity(t,s,i);o&&a.setAttribute("mask","url(#"+o+")")}return s.elem=a,2===t.r&&a.setAttribute("fill-rule","evenodd"),t.ln&&a.setAttribute("id",t.ln),t.cl&&a.setAttribute("class",t.cl),i.pElem=a,this.stylesList.push(i),s.style=i,s},IShapeElement.prototype.createGroupElement=function(t){var e={it:[],prevViewData:[]},r=document.createElementNS(svgNS,"g");return e.gr=r,t.ln&&e.gr.setAttribute("id",t.ln),e},IShapeElement.prototype.createTransformElement=function(t,e){var r={transform:{op:PropertyFactory.getProp(this,t.o,0,.01,e),mProps:TransformPropertyFactory.getTransformProperty(this,t,e)},elements:[]};return r},IShapeElement.prototype.createShapeElement=function(t,e,r,s){var i={elements:[],caches:[],styles:[],transformers:e,lStr:""},a=4;return"rc"==t.ty?a=5:"el"==t.ty?a=6:"sr"==t.ty&&(a=7),i.sh=ShapePropertyFactory.getShapeProp(this,t,a,s),i.lvl=r,this.shapes.push(i.sh),this.addShapeToModifiers(i),i};var cont=0;IShapeElement.prototype.setElementStyles=function(){var t,e=this.stylesList.length,r=[];for(t=0;e>t;t+=1)this.stylesList[t].closed||r.push(this.stylesList[t]);return r},IShapeElement.prototype.reloadShapes=function(){this.firstFrame=!0;var t,e=this.itemsData.length;for(t=0;e>t;t+=1)this.prevViewData[t]=this.itemsData[t];this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,this.dynamicProperties,0,[],!0);var t,e=this.dynamicProperties.length;for(t=0;e>t;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},IShapeElement.prototype.searchShapes=function(t,e,r,s,i,a,n,o){var h,l,p,m,f,c,d=[].concat(n),u=t.length-1,y=[],g=[];for(h=u;h>=0;h-=1){if(c=this.searchProcessedElement(t[h]),c?e[h]=r[c-1]:t[h]._render=o,"fl"==t[h].ty||"st"==t[h].ty||"gf"==t[h].ty||"gs"==t[h].ty)c?e[h].style.closed=!1:e[h]=this.createStyleElement(t[h],a,i),t[h]._render&&s.appendChild(e[h].elem),y.push(e[h].style);else if("gr"==t[h].ty){if(c)for(p=e[h].it.length,l=0;p>l;l+=1)e[h].prevViewData[l]=e[h].it[l];else e[h]=this.createGroupElement(t[h]);this.searchShapes(t[h].it,e[h].it,e[h].prevViewData,e[h].gr,i,a+1,d,o),t[h]._render&&s.appendChild(e[h].gr)}else"tr"==t[h].ty?(c||(e[h]=this.createTransformElement(t[h],i)),m=e[h].transform,d.push(m)):"sh"==t[h].ty||"rc"==t[h].ty||"el"==t[h].ty||"sr"==t[h].ty?(c||(e[h]=this.createShapeElement(t[h],d,a,i)),e[h].elements=this.setElementStyles()):"tm"==t[h].ty||"rd"==t[h].ty||"ms"==t[h].ty?(c?(f=e[h],f.closed=!1):(f=ShapeModifiers.getModifier(t[h].ty),f.init(this,t[h],i),e[h]=f,this.shapeModifiers.push(f)),g.push(f)):"rp"==t[h].ty&&(c?(f=e[h],f.closed=!0):(f=ShapeModifiers.getModifier(t[h].ty),e[h]=f,f.init(this,t,h,e,i),this.shapeModifiers.push(f),o=!1),g.push(f));this.addProcessedElement(t[h],h+1)}for(u=y.length,h=0;u>h;h+=1)y[h].closed=!0;for(u=g.length,h=0;u>h;h+=1)g[h].closed=!0},IShapeElement.prototype.addShapeToModifiers=function(t){var e,r=this.shapeModifiers.length;for(e=0;r>e;e+=1)this.shapeModifiers[e].addShape(t)},IShapeElement.prototype.renderModifiers=function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;e>t;t+=1)this.shapes[t].reset();for(e=this.shapeModifiers.length,t=e-1;t>=0;t-=1)this.shapeModifiers[t].processShapes(this.firstFrame)}},IShapeElement.prototype.renderFrame=function(t){var e=this._parent.renderFrame.call(this,t);if(e===!1)return void this.hide();this.hidden&&(this.layerElement.style.display="block",this.hidden=!1),this.renderModifiers();var r,s=this.stylesList.length;for(r=0;s>r;r+=1)this.stylesList[r].d="",this.stylesList[r].mdf=!1;for(this.renderShape(this.shapesData,this.itemsData,null),r=0;s>r;r+=1)"0"===this.stylesList[r].ld&&(this.stylesList[r].ld="1",this.stylesList[r].pElem.style.display="block"),(this.stylesList[r].mdf||this.firstFrame)&&(this.stylesList[r].pElem.setAttribute("d",this.stylesList[r].d),this.stylesList[r].msElem&&this.stylesList[r].msElem.setAttribute("d",this.stylesList[r].d));this.firstFrame&&(this.firstFrame=!1)},IShapeElement.prototype.hide=function(){if(!this.hidden){this.layerElement.style.display="none";var t,e=this.stylesList.length;for(t=e-1;t>=0;t-=1)"0"!==this.stylesList[t].ld&&(this.stylesList[t].ld="0",this.stylesList[t].pElem.style.display="none",this.stylesList[t].pElem.parentNode&&(this.stylesList[t].parent=this.stylesList[t].pElem.parentNode));this.hidden=!0}},IShapeElement.prototype.renderShape=function(t,e,r){var s,i,a=t.length-1;for(s=a;s>=0;s-=1)i=t[s].ty,"tr"==i?((this.firstFrame||e[s].transform.op.mdf&&r)&&r.setAttribute("opacity",e[s].transform.op.v),(this.firstFrame||e[s].transform.mProps.mdf&&r)&&r.setAttribute("transform",e[s].transform.mProps.v.to2dCSS())):"sh"==i||"el"==i||"rc"==i||"sr"==i?this.renderPath(t[s],e[s]):"fl"==i?this.renderFill(t[s],e[s]):"gf"==i?this.renderGradient(t[s],e[s]):"gs"==i?(this.renderGradient(t[s],e[s]),this.renderStroke(t[s],e[s])):"st"==i?this.renderStroke(t[s],e[s]):"gr"==i&&this.renderShape(t[s].it,e[s].it,e[s].gr)},IShapeElement.prototype.buildShapeString=function(t,e,r,s){var i,a="";for(i=1;e>i;i+=1)1===i&&(a+=" M"+s.applyToPointStringified(t.v[0][0],t.v[0][1])),a+=" C"+s.applyToPointStringified(t.o[i-1][0],t.o[i-1][1])+" "+s.applyToPointStringified(t.i[i][0],t.i[i][1])+" "+s.applyToPointStringified(t.v[i][0],t.v[i][1]);return 1===e&&(a+=" M"+s.applyToPointStringified(t.v[0][0],t.v[0][1])),r&&e&&(a+=" C"+s.applyToPointStringified(t.o[i-1][0],t.o[i-1][1])+" "+s.applyToPointStringified(t.i[0][0],t.i[0][1])+" "+s.applyToPointStringified(t.v[0][0],t.v[0][1]),a+="z"),a},IShapeElement.prototype.renderPath=function(t,e){var r,s,i,a,n,o,h=e.elements.length,l=e.lvl;if(t._render)for(o=0;h>o;o+=1)if(e.elements[o].data._render){a=e.sh.mdf||this.firstFrame,i="M0 0";var p=e.sh.paths;if(s=p._length,e.elements[o].lvl<l){for(var m,f=this.mHelper.reset(),c=l-e.elements[o].lvl,d=e.transformers.length-1;c>0;)a=e.transformers[d].mProps.mdf||a,m=e.transformers[d].mProps.v.props,f.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),c--,d--;if(a){for(r=0;s>r;r+=1)n=p.shapes[r],n&&n._length&&(i+=this.buildShapeString(n,n._length,n.c,f));e.caches[o]=i}else i=e.caches[o]}else if(a){for(r=0;s>r;r+=1)n=p.shapes[r],n&&n._length&&(i+=this.buildShapeString(n,n._length,n.c,this.identityMatrix));e.caches[o]=i}else i=e.caches[o];e.elements[o].d+=i,e.elements[o].mdf=a||e.elements[o].mdf}else e.elements[o].mdf=!0},IShapeElement.prototype.renderFill=function(t,e){var r=e.style;(e.c.mdf||this.firstFrame)&&r.pElem.setAttribute("fill","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o.mdf||this.firstFrame)&&r.pElem.setAttribute("fill-opacity",e.o.v)},IShapeElement.prototype.renderGradient=function(t,e){var r=e.gf,s=e.of,i=e.s.v,a=e.e.v;if(e.o.mdf||this.firstFrame){var n="gf"===t.ty?"fill-opacity":"stroke-opacity";e.elem.setAttribute(n,e.o.v)}if(e.s.mdf||this.firstFrame){var o=1===t.t?"x1":"cx",h="x1"===o?"y1":"cy";r.setAttribute(o,i[0]),r.setAttribute(h,i[1]),s&&(s.setAttribute(o,i[0]),s.setAttribute(h,i[1]))}var l,p,m,f;if(e.g.cmdf||this.firstFrame){l=e.cst;var c=e.g.c;for(m=l.length,p=0;m>p;p+=1)f=l[p],f.setAttribute("offset",c[4*p]+"%"),f.setAttribute("stop-color","rgb("+c[4*p+1]+","+c[4*p+2]+","+c[4*p+3]+")")}if(s&&(e.g.omdf||this.firstFrame)){l=e.ost;var d=e.g.o;for(m=l.length,p=0;m>p;p+=1)f=l[p],f.setAttribute("offset",d[2*p]+"%"),f.setAttribute("stop-opacity",d[2*p+1])}if(1===t.t)(e.e.mdf||this.firstFrame)&&(r.setAttribute("x2",a[0]),r.setAttribute("y2",a[1]),s&&(s.setAttribute("x2",a[0]),s.setAttribute("y2",a[1])));else{var u;if((e.s.mdf||e.e.mdf||this.firstFrame)&&(u=Math.sqrt(Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)),r.setAttribute("r",u),s&&s.setAttribute("r",u)),e.e.mdf||e.h.mdf||e.a.mdf||this.firstFrame){u||(u=Math.sqrt(Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)));var y=Math.atan2(a[1]-i[1],a[0]-i[0]),g=e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v,v=u*g,b=Math.cos(y+e.a.v)*v+i[0],E=Math.sin(y+e.a.v)*v+i[1];r.setAttribute("fx",b),r.setAttribute("fy",E),s&&(s.setAttribute("fx",b),s.setAttribute("fy",E))}}},IShapeElement.prototype.renderStroke=function(t,e){var r=e.style,s=e.d;s&&(s.mdf||this.firstFrame)&&(r.pElem.setAttribute("stroke-dasharray",s.dashStr),r.pElem.setAttribute("stroke-dashoffset",s.dashoffset[0])),e.c&&(e.c.mdf||this.firstFrame)&&r.pElem.setAttribute("stroke","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o.mdf||this.firstFrame)&&r.pElem.setAttribute("stroke-opacity",e.o.v),(e.w.mdf||this.firstFrame)&&(r.pElem.setAttribute("stroke-width",e.w.v),r.msElem&&r.msElem.setAttribute("stroke-width",e.w.v))},IShapeElement.prototype.destroy=function(){this._parent.destroy.call(this._parent),this.shapeData=null,this.itemsData=null,this.parentContainer=null,this.placeholder=null},ITextElement.prototype.init=function(){this.lettersChangedFlag=!0,this.dynamicProperties=this.dynamicProperties||[],this.textAnimator=new TextAnimatorProperty(this.data.t,this.renderType,this),this.textProperty=new TextProperty(this,this.data.t,this.dynamicProperties),this._parent.init.call(this),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._parent.prepareFrame.call(this,t),(this.textProperty.mdf||this.textProperty.firstFrame)&&(this.buildNewText(),
this.textProperty.firstFrame=!1)},ITextElement.prototype.createPathShape=function(t,e){var r,s,i=e.length,a="";for(r=0;i>r;r+=1)s=e[r].ks.k,a+=this.buildShapeString(s,s.i.length,!0,t);return a},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,r,s,i){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r])/2,0,0)}e.translate(s,i,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.buildShapeString=IShapeElement.prototype.buildShapeString,ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){this._parent.destroy.call(this._parent)},createElement(SVGBaseElement,SVGTextElement),extendPrototype(ITextElement,SVGTextElement),SVGTextElement.prototype.createElements=function(){this._parent.createElements.call(this),this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=document.createElementNS(svgNS,"text"))},SVGTextElement.prototype.buildNewText=function(){var t,e,r=this.textProperty.currentData;this.renderedLetters=Array.apply(null,{length:r?r.l.length:0}),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.s);var s=this.globalData.fontManager.getFontByName(r.f);if(s.fClass)this.layerElement.setAttribute("class",s.fClass);else{this.layerElement.setAttribute("font-family",s.fFamily);var i=r.fWeight,a=r.fStyle;this.layerElement.setAttribute("font-style",a),this.layerElement.setAttribute("font-weight",i)}var n=r.l||[],o=this.globalData.fontManager.chars;if(e=n.length){var h,l,p=this.mHelper,m="",f=this.data.singleShape,c=0,d=0,u=!0,y=r.tr/1e3*r.s;if(f&&!o){var g=this.textContainer,v="";switch(r.j){case 1:v="end";break;case 2:v="middle";break;case 2:v="start"}g.setAttribute("text-anchor",v),g.setAttribute("letter-spacing",y);var b=r.t.split(String.fromCharCode(13));e=b.length;var d=r.ps?r.ps[1]+r.ascent:0;for(t=0;e>t;t+=1)h=this.textSpans[t]||document.createElementNS(svgNS,"tspan"),h.textContent=b[t],h.setAttribute("x",0),h.setAttribute("y",d),h.style.display="inherit",g.appendChild(h),this.textSpans[t]=h,d+=r.lh;this.layerElement.appendChild(g)}else{var E,P,x=this.textSpans.length;for(t=0;e>t;t+=1)o&&f&&0!==t||(h=x>t?this.textSpans[t]:document.createElementNS(svgNS,o?"path":"text"),t>=x&&(h.setAttribute("stroke-linecap","butt"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit","4"),this.textSpans[t]=h,this.layerElement.appendChild(h)),h.style.display="inherit"),p.reset(),o?(p.scale(r.s/100,r.s/100),f&&(n[t].n&&(c=-y,d+=r.yOffset,d+=u?1:0,u=!1),this.applyTextPropertiesToMatrix(r,p,n[t].line,c,d),c+=n[t].l||0,c+=y),P=this.globalData.fontManager.getCharData(r.t.charAt(t),s.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily),E=P&&P.data||{},l=E.shapes?E.shapes[0].it:[],f?m+=this.createPathShape(p,l):h.setAttribute("d",this.createPathShape(p,l))):(h.textContent=n[t].val,h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));f&&h.setAttribute("d",m)}for(;t<this.textSpans.length;)this.textSpans[t].style.display="none",t+=1;this._sizeChanged=!0}},SVGTextElement.prototype.sourceRectAtTime=function(t){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderLetters(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextElement.prototype.renderLetters=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var t,e,r=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;e=s.length;var i,a;for(t=0;e>t;t+=1)s[t].n||(i=r[t],a=this.textSpans[t],i.mdf.m&&a.setAttribute("transform",i.m),i.mdf.o&&a.setAttribute("opacity",i.o),i.mdf.sw&&a.setAttribute("stroke-width",i.sw),i.mdf.sc&&a.setAttribute("stroke",i.sc),i.mdf.fc&&a.setAttribute("fill",i.fc))}},SVGTextElement.prototype.renderFrame=function(t){var e=this._parent.renderFrame.call(this,t);return e===!1?void this.hide():(this.hidden&&this.show(),this.firstFrame&&(this.firstFrame=!1),void this.renderLetters())},SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager.mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",r[0]-e[0]+" 0 0 0 "+e[0]+" "+(r[1]-e[1])+" 0 0 0 "+e[1]+" "+(r[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+s+" 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager.mdf){var e=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+r+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var t,e,r,s,i=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(s=this.elem.maskManager.masksProperties.length,r=0):(r=this.filterManager.effectElements[0].p.v-1,s=r+1),e=document.createElementNS(svgNS,"g"),e.setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1),r;s>r;r+=1)t=document.createElementNS(svgNS,"path"),e.appendChild(t),this.paths.push({p:t,m:r});if(3===this.filterManager.effectElements[10].p.v){var a=document.createElementNS(svgNS,"mask"),n="stms_"+randomString(10);a.setAttribute("id",n),a.setAttribute("mask-type","alpha"),a.appendChild(e),this.elem.globalData.defs.appendChild(a);var o=document.createElementNS(svgNS,"g");o.setAttribute("mask","url("+locationHref+"#"+n+")"),i[0]&&o.appendChild(i[0]),this.elem.layerElement.appendChild(o),this.masker=a,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(var i=this.elem.layerElement.children||this.elem.layerElement.childNodes;i.length;)this.elem.layerElement.removeChild(i[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var e,r,s,i=this.paths.length;for(e=0;i>e;e+=1)if(r=this.elem.maskManager.viewData[this.paths[e].m],s=this.paths[e].p,(t||this.filterManager.mdf||r.prop.mdf)&&s.setAttribute("d",r.lastPath),t||this.filterManager.effectElements[9].p.mdf||this.filterManager.effectElements[4].p.mdf||this.filterManager.effectElements[7].p.mdf||this.filterManager.effectElements[8].p.mdf||r.prop.mdf){var a;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var n=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,o=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,h=s.getTotalLength();a="0 0 0 "+h*n+" ";var l,p=h*(o-n),m=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,f=Math.floor(p/m);for(l=0;f>l;l+=1)a+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";a+="0 "+10*h+" 0 0"}else a="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;s.setAttribute("stroke-dasharray",a)}if((t||this.filterManager.effectElements[4].p.mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p.mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p.mdf)){var c=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bm_floor(255*c[0])+","+bm_floor(255*c[1])+","+bm_floor(255*c[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager.mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v,i=s[0]+" "+r[0]+" "+e[0],a=s[1]+" "+r[1]+" "+e[1],n=s[2]+" "+r[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",i),this.feFuncG.setAttribute("tableValues",a),this.feFuncB.setAttribute("tableValues",n)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var r=document.createElementNS(svgNS,t);return r.setAttribute("type","table"),e.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(t,e,r,s,i){for(var a,n,o=0,h=256,l=Math.min(t,e),p=Math.max(t,e),m=Array.call(null,{length:h}),f=0,c=i-s,d=e-t;256>=o;)a=o/256,n=l>=a?0>d?i:s:a>=p?0>d?s:i:s+c*Math.pow((a-t)/d,1/r),m[f++]=n,o+=256/(h-1);return m.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager.mdf){var e,r=this.filterManager.effectElements;this.feFuncRComposed&&(t||r[2].p.mdf||r[3].p.mdf||r[4].p.mdf||r[5].p.mdf||r[6].p.mdf)&&(e=this.getTableValue(r[2].p.v,r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||r[9].p.mdf||r[10].p.mdf||r[11].p.mdf||r[12].p.mdf||r[13].p.mdf)&&(e=this.getTableValue(r[9].p.v,r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||r[16].p.mdf||r[17].p.mdf||r[18].p.mdf||r[19].p.mdf||r[20].p.mdf)&&(e=this.getTableValue(r[16].p.v,r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||r[23].p.mdf||r[24].p.mdf||r[25].p.mdf||r[26].p.mdf||r[27].p.mdf)&&(e=this.getTableValue(r[23].p.v,r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||r[30].p.mdf||r[31].p.mdf||r[32].p.mdf||r[33].p.mdf||r[34].p.mdf)&&(e=this.getTableValue(r[30].p.v,r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v),this.feFuncA.setAttribute("tableValues",e))}},SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager.mdf){if((t||this.filterManager.effectElements[4].p.mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p.mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p.mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p.mdf||this.filterManager.effectElements[3].p.mdf){var r=this.filterManager.effectElements[3].p.v,s=(this.filterManager.effectElements[2].p.v-90)*degToRads,i=r*Math.cos(s),a=r*Math.sin(s);this.feOffset.setAttribute("dx",i),this.feOffset.setAttribute("dy",a)}}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){var r=document.createElementNS(svgNS,"mask");r.setAttribute("id",e.layerId),r.setAttribute("mask-type","alpha"),r.appendChild(e.layerElement),t.setMatte(e.layerId),e.data.hd=!1;var s=t.globalData.defs;s.appendChild(r)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=0,r=this.elem.comp.elements.length;r>e;)this.elem.comp.elements[e].data.ind===t&&this.setElementAsMask(this.elem,this.elem.comp.elements[e]),e+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(t){var e,r=this.filters.length;for(e=0;r>e;e+=1)this.filters[e].renderFrame(t)},createElement(SVGBaseElement,ICompElement),ICompElement.prototype.hide=function(){if(!this.hidden){this._parent.hide.call(this);var t,e=this.elements.length;for(t=0;e>t;t+=1)this.elements[t]&&this.elements[t].hide()}},ICompElement.prototype.prepareFrame=function(t){if(this._parent.prepareFrame.call(this,t),this.isVisible!==!1||this.data.xt){if(this.tm){var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}else this.renderedFrame=t/this.data.sr;var r,s=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=0;s>r;r+=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st)}},ICompElement.prototype.renderFrame=function(t){var e,r=this._parent.renderFrame.call(this,t),s=this.layers.length;if(r===!1)return void this.hide();for(this.hidden&&this.show(),e=0;s>e;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame();this.firstFrame&&(this.firstFrame=!1)},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroy=function(){this._parent.destroy.call(this._parent);var t,e=this.layers.length;for(t=0;e>t;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.checkLayers=SVGRenderer.prototype.checkLayers,ICompElement.prototype.buildItem=SVGRenderer.prototype.buildItem,ICompElement.prototype.buildAllItems=SVGRenderer.prototype.buildAllItems,ICompElement.prototype.buildElementParenting=SVGRenderer.prototype.buildElementParenting,ICompElement.prototype.createItem=SVGRenderer.prototype.createItem,ICompElement.prototype.createImage=SVGRenderer.prototype.createImage,ICompElement.prototype.createComp=SVGRenderer.prototype.createComp,ICompElement.prototype.createSolid=SVGRenderer.prototype.createSolid,ICompElement.prototype.createShape=SVGRenderer.prototype.createShape,ICompElement.prototype.createText=SVGRenderer.prototype.createText,ICompElement.prototype.createBase=SVGRenderer.prototype.createBase,ICompElement.prototype.appendElementInPos=SVGRenderer.prototype.appendElementInPos,ICompElement.prototype.checkPendingElements=SVGRenderer.prototype.checkPendingElements,ICompElement.prototype.addPendingElement=SVGRenderer.prototype.addPendingElement,createElement(SVGBaseElement,IImageElement),IImageElement.prototype.createElements=function(){var t=this.globalData.getAssetsPath(this.assetData);this._parent.createElements.call(this),this.innerElem=document.createElementNS(svgNS,"image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio","xMidYMid slice"),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.maskedElement=this.innerElem,this.layerElement.appendChild(this.innerElem),this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)},IImageElement.prototype.renderFrame=function(t){var e=this._parent.renderFrame.call(this,t);return e===!1?void this.hide():(this.hidden&&this.show(),void(this.firstFrame&&(this.firstFrame=!1)))},IImageElement.prototype.destroy=function(){this._parent.destroy.call(this._parent),this.innerElem=null},createElement(SVGBaseElement,ISolidElement),ISolidElement.prototype.createElements=function(){this._parent.createElements.call(this);var t=document.createElementNS(svgNS,"rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t),this.innerElem=t,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)},ISolidElement.prototype.renderFrame=IImageElement.prototype.renderFrame,ISolidElement.prototype.destroy=IImageElement.prototype.destroy;var animationManager=function(){function t(t){for(var e=0,r=t.target;C>e;)x[e].animation===r&&(x.splice(e,1),e-=1,C-=1,r.isPaused||s()),e+=1}function e(t,e){if(!t)return null;for(var r=0;C>r;){if(x[r].elem==t&&null!==x[r].elem)return x[r].animation;r+=1}var s=new AnimationItem;return i(s,t),s.setData(t,e),s}function r(){A+=1,E()}function s(){A-=1,0===A&&(k=!0)}function i(e,i){e.addEventListener("destroy",t),e.addEventListener("_active",r),e.addEventListener("_idle",s),x.push({elem:i,animation:e}),C+=1}function a(t){var e=new AnimationItem;return i(e,null),e.setParams(t),e}function n(t,e){var r;for(r=0;C>r;r+=1)x[r].animation.setSpeed(t,e)}function o(t,e){var r;for(r=0;C>r;r+=1)x[r].animation.setDirection(t,e)}function h(t){var e;for(e=0;C>e;e+=1)x[e].animation.play(t)}function l(t,e){S=Date.now();var r;for(r=0;C>r;r+=1)x[r].animation.moveFrame(t,e)}function p(t){var e,r=t-S;for(e=0;C>e;e+=1)x[e].animation.advanceTime(r);S=t,k||window.requestAnimationFrame(p)}function m(t){S=t,window.requestAnimationFrame(p)}function f(t){var e;for(e=0;C>e;e+=1)x[e].animation.pause(t)}function c(t,e,r){var s;for(s=0;C>s;s+=1)x[s].animation.goToAndStop(t,e,r)}function d(t){var e;for(e=0;C>e;e+=1)x[e].animation.stop(t)}function u(t){var e;for(e=0;C>e;e+=1)x[e].animation.togglePause(t)}function y(t){var e;for(e=C-1;e>=0;e-=1)x[e].animation.destroy(t)}function g(t,r,s){var i,a=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),n=a.length;for(i=0;n>i;i+=1)s&&a[i].setAttribute("data-bm-type",s),e(a[i],t);if(r&&0===n){s||(s="svg");var o=document.getElementsByTagName("body")[0];o.innerHTML="";var h=document.createElement("div");h.style.width="100%",h.style.height="100%",h.setAttribute("data-bm-type",s),o.appendChild(h),e(h,t)}}function v(){var t;for(t=0;C>t;t+=1)x[t].animation.resize()}function b(){window.requestAnimationFrame(m)}function E(){k&&(k=!1,window.requestAnimationFrame(m))}var P={},x=[],S=0,C=0,k=!0,A=0;return setTimeout(b,0),P.registerAnimation=e,P.loadAnimation=a,P.setSpeed=n,P.setDirection=o,P.play=h,P.moveFrame=l,P.pause=f,P.stop=d,P.togglePause=u,P.searchAnimations=g,P.resize=v,P.start=b,P.goToAndStop=c,P.destroy=y,P}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.pendingElements=0,this.playCount=0,this.prerenderFramesFlag=!0,this.animationData={},this.layers=[],this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=randomString(10),this.scaleMode="fit",this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.subframeEnabled=subframeEnabled,this.segments=[],this.pendingSegment=!1,this._idle=!0,this.projectInterface=ProjectInterface()};AnimationItem.prototype.setParams=function(t){var e=this;t.context&&(this.context=t.context),(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var r=t.animType?t.animType:t.renderer?t.renderer:"svg";switch(r){case"canvas":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,t.rendererSettings);break;case"hybrid":case"html":default:this.renderer=new HybridRenderer(this,t.rendererSettings)}if(this.renderer.setProjectInterface(this.projectInterface),this.animType=r,""===t.loop||null===t.loop||(this.loop=t.loop===!1?!1:t.loop===!0?!0:parseInt(t.loop)),this.autoplay="autoplay"in t?t.autoplay:!0,this.name=t.name?t.name:"",this.prerenderFramesFlag="prerender"in t?t.prerender:!0,this.autoloadSegments=t.hasOwnProperty("autoloadSegments")?t.autoloadSegments:!0,t.animationData)e.configAnimation(t.animationData);else if(t.path){"json"!=t.path.substr(-4)&&("/"!=t.path.substr(-1,1)&&(t.path+="/"),t.path+="data.json");var s=new XMLHttpRequest;this.path=-1!=t.path.lastIndexOf("\\")?t.path.substr(0,t.path.lastIndexOf("\\")+1):t.path.substr(0,t.path.lastIndexOf("/")+1),this.assetsPath=t.assetsPath,this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),s.open("GET",t.path,!0),s.send(),s.onreadystatechange=function(){if(4==s.readyState)if(200==s.status)e.configAnimation(JSON.parse(s.responseText));else try{var t=JSON.parse(s.responseText);e.configAnimation(t)}catch(r){}}}},AnimationItem.prototype.setData=function(t,e){var r={wrapper:t,animationData:e?"object"==typeof e?e:JSON.parse(e):null},s=t.attributes;r.path=s.getNamedItem("data-animation-path")?s.getNamedItem("data-animation-path").value:s.getNamedItem("data-bm-path")?s.getNamedItem("data-bm-path").value:s.getNamedItem("bm-path")?s.getNamedItem("bm-path").value:"",r.animType=s.getNamedItem("data-anim-type")?s.getNamedItem("data-anim-type").value:s.getNamedItem("data-bm-type")?s.getNamedItem("data-bm-type").value:s.getNamedItem("bm-type")?s.getNamedItem("bm-type").value:s.getNamedItem("data-bm-renderer")?s.getNamedItem("data-bm-renderer").value:s.getNamedItem("bm-renderer")?s.getNamedItem("bm-renderer").value:"canvas";var i=s.getNamedItem("data-anim-loop")?s.getNamedItem("data-anim-loop").value:s.getNamedItem("data-bm-loop")?s.getNamedItem("data-bm-loop").value:s.getNamedItem("bm-loop")?s.getNamedItem("bm-loop").value:"";""===i||(r.loop="false"===i?!1:"true"===i?!0:parseInt(i));var a=s.getNamedItem("data-anim-autoplay")?s.getNamedItem("data-anim-autoplay").value:s.getNamedItem("data-bm-autoplay")?s.getNamedItem("data-bm-autoplay").value:s.getNamedItem("bm-autoplay")?s.getNamedItem("bm-autoplay").value:!0;r.autoplay="false"!==a,r.name=s.getNamedItem("data-name")?s.getNamedItem("data-name").value:s.getNamedItem("data-bm-name")?s.getNamedItem("data-bm-name").value:s.getNamedItem("bm-name")?s.getNamedItem("bm-name").value:"";var n=s.getNamedItem("data-anim-prerender")?s.getNamedItem("data-anim-prerender").value:s.getNamedItem("data-bm-prerender")?s.getNamedItem("data-bm-prerender").value:s.getNamedItem("bm-prerender")?s.getNamedItem("bm-prerender").value:"";"false"===n&&(r.prerender=!1),this.setParams(r)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip),this.animationData.tf=this.totalFrames);var e,r,s=this.animationData.layers,i=s.length,a=t.layers,n=a.length;for(r=0;n>r;r+=1)for(e=0;i>e;){if(s[e].id==a[r].id){s[e]=a[r];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(i=t.assets.length,e=0;i>e;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(t.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.renderFrame(null),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.animationData.tf);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var r=new XMLHttpRequest,s=this,i=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,r.open("GET",i,!0),r.send(),r.onreadystatechange=function(){if(4==r.readyState)if(200==r.status)s.includeLayers(JSON.parse(r.responseText));else try{var t=JSON.parse(r.responseText);s.includeLayers(t)}catch(e){}}},AnimationItem.prototype.loadSegments=function(){var t=this.animationData.segments;t||(this.timeCompleted=this.animationData.tf),this.loadNextSegment()},AnimationItem.prototype.configAnimation=function(t){var e=this;this.renderer&&this.renderer.destroyed||(this.animationData=t,this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.animationData.tf=this.totalFrames,this.renderer.configAnimation(t),t.assets||(t.assets=[]),t.comps&&(t.assets=t.assets.concat(t.comps),t.comps=null),this.renderer.searchExtraCompositions(t.assets),this.layers=this.animationData.layers,this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.firstFrame=Math.round(this.animationData.ip),this.frameMult=this.animationData.fr/1e3,this.trigger("config_ready"),this.imagePreloader=new ImagePreloader,this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(t.assets,function(t){t||e.trigger("loaded_images")}),this.loadSegments(),this.updaFrameModifier(),this.renderer.globalData.fontManager?this.waitForFontsLoaded():(dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.checkLoaded()))},AnimationItem.prototype.waitForFontsLoaded=function(){function t(){this.renderer.globalData.fontManager.loaded?(dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.checkLoaded()):setTimeout(t.bind(this),20)}return function(){t.bind(this)()}}(),AnimationItem.prototype.addPendingElement=function(){this.pendingElements+=1},AnimationItem.prototype.elementLoaded=function(){this.pendingElements--,this.checkLoaded()},AnimationItem.prototype.checkLoaded=function(){0===this.pendingElements&&(expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.isLoaded=!0,this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.subframeEnabled=t?!0:!1},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.subframeEnabled?this.currentRawFrame:Math.floor(this.currentRawFrame),this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){this.isLoaded!==!1&&this.renderer.renderFrame(this.currentFrame+this.firstFrame)},AnimationItem.prototype.play=function(t){t&&this.name!=t||this.isPaused===!0&&(this.isPaused=!1,this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!=t||this.isPaused===!1&&(this.isPaused=!0,this.pendingSegment||(this._idle=!0,this.trigger("_idle")))},AnimationItem.prototype.togglePause=function(t){t&&this.name!=t||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!=t||(this.pause(),this.currentFrame=this.currentRawFrame=0,this.playCount=0,this.gotoFrame())},AnimationItem.prototype.goToAndStop=function(t,e,r){r&&this.name!=r||(this.setCurrentRawFrameValue(e?t:t*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(t,e,r){this.goToAndStop(t,e,r),this.play()},AnimationItem.prototype.advanceTime=function(t){return this.pendingSegment?(this.pendingSegment=!1,this.adjustSegment(this.segments.shift()),void(this.isPaused&&this.play())):void(this.isPaused!==!0&&this.isLoaded!==!1&&this.setCurrentRawFrameValue(this.currentRawFrame+t*this.frameModifier))},AnimationItem.prototype.updateAnimation=function(t){this.setCurrentRawFrameValue(this.totalFrames*t)},AnimationItem.prototype.moveFrame=function(t,e){e&&this.name!=e||this.setCurrentRawFrameValue(this.currentRawFrame+t)},AnimationItem.prototype.adjustSegment=function(t){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.01)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.firstFrame=t[0],this.setCurrentRawFrameValue(0)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?r=t:this.currentRawFrame+this.firstFrame>e&&(r=e-t-.01)),this.firstFrame=t,this.totalFrames=e-t,-1!==r&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(t,e){if("object"==typeof t[0]){var r,s=t.length;for(r=0;s>r;r+=1)this.segments.push(t[r])}else this.segments.push(t);e&&this.adjustSegment(this.segments.shift()),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip*this.frameRate,Math.floor(this.animationData.op-this.animationData.ip+this.animationData.ip*this.frameRate)]),t&&this.adjustSegment(this.segments.shift())},AnimationItem.prototype.checkSegments=function(){this.segments.length&&(this.pendingSegment=!0)},AnimationItem.prototype.remove=function(t){t&&this.name!=t||this.renderer.destroy()},AnimationItem.prototype.destroy=function(t){t&&this.name!=t||this.renderer&&this.renderer.destroyed||(this.renderer.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){if(this.currentRawFrame=t,this.currentRawFrame>=this.totalFrames){if(this.checkSegments(),this.loop===!1)return this.currentRawFrame=this.totalFrames-.01,this.gotoFrame(),this.pause(),void this.trigger("complete");if(this.trigger("loopComplete"),this.playCount+=1,this.loop!==!0&&this.playCount==this.loop||this.pendingSegment)return this.currentRawFrame=this.totalFrames-.01,this.gotoFrame(),this.pause(),void this.trigger("complete");this.currentRawFrame=this.currentRawFrame%this.totalFrames}else if(this.currentRawFrame<0)return this.checkSegments(),this.playCount-=1,this.playCount<0&&(this.playCount=0),this.loop===!1||this.pendingSegment?(this.currentRawFrame=0,this.gotoFrame(),this.pause(),void this.trigger("complete")):(this.trigger("loopComplete"),this.currentRawFrame=(this.totalFrames+this.currentRawFrame)%this.totalFrames,void this.gotoFrame());this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=0>t?-1:1,this.updaFrameModifier()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(this.assetsPath){var r=t.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),e=this.assetsPath+r}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,r=this.assets.length;r>e;){if(t==this.assets[e].id)return this.assets[e];e+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getAssets=function(){return this.assets},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult));break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),
"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.addEventListener=_addEventListener,AnimationItem.prototype.removeEventListener=_removeEventListener,AnimationItem.prototype.triggerEvent=_triggerEvent,extendPrototype(BaseRenderer,CanvasRenderer),CanvasRenderer.prototype.createBase=function(t){return new CVBaseElement(t,this,this.globalData)},CanvasRenderer.prototype.createShape=function(t){return new CVShapeElement(t,this,this.globalData)},CanvasRenderer.prototype.createText=function(t){return new CVTextElement(t,this,this.globalData)},CanvasRenderer.prototype.createImage=function(t){return new CVImageElement(t,this,this.globalData)},CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this,this.globalData)},CanvasRenderer.prototype.createSolid=function(t){return new CVSolidElement(t,this,this.globalData)},CanvasRenderer.prototype.ctxTransform=function(t){if(1!==t[0]||0!==t[1]||0!==t[4]||1!==t[5]||0!==t[12]||0!==t[13]){if(!this.renderConfig.clearCanvas)return void this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13]);this.transformMat.cloneFromProps(t),this.transformMat.transform(this.contextData.cTr.props[0],this.contextData.cTr.props[1],this.contextData.cTr.props[2],this.contextData.cTr.props[3],this.contextData.cTr.props[4],this.contextData.cTr.props[5],this.contextData.cTr.props[6],this.contextData.cTr.props[7],this.contextData.cTr.props[8],this.contextData.cTr.props[9],this.contextData.cTr.props[10],this.contextData.cTr.props[11],this.contextData.cTr.props[12],this.contextData.cTr.props[13],this.contextData.cTr.props[14],this.contextData.cTr.props[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var e=this.contextData.cTr.props;this.canvasContext.setTransform(e[0],e[1],e[4],e[5],e[12],e[13])}},CanvasRenderer.prototype.ctxOpacity=function(t){if(1!==t){if(!this.renderConfig.clearCanvas)return void(this.canvasContext.globalAlpha*=0>t?0:t);this.contextData.cO*=0>t?0:t,this.canvasContext.globalAlpha=this.contextData.cO}},CanvasRenderer.prototype.reset=function(){return this.renderConfig.clearCanvas?(this.contextData.cArrPos=0,this.contextData.cTr.reset(),void(this.contextData.cO=1)):void this.canvasContext.restore()},CanvasRenderer.prototype.save=function(t){if(!this.renderConfig.clearCanvas)return void this.canvasContext.save();t&&this.canvasContext.save();var e=this.contextData.cTr.props;(null===this.contextData.saved[this.contextData.cArrPos]||void 0===this.contextData.saved[this.contextData.cArrPos])&&(this.contextData.saved[this.contextData.cArrPos]=new Array(16));var r,s=this.contextData.saved[this.contextData.cArrPos];for(r=0;16>r;r+=1)s[r]=e[r];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1},CanvasRenderer.prototype.restore=function(t){if(!this.renderConfig.clearCanvas)return void this.canvasContext.restore();t&&this.canvasContext.restore(),this.contextData.cArrPos-=1;var e,r=this.contextData.saved[this.contextData.cArrPos],s=this.contextData.cTr.props;for(e=0;16>e;e+=1)s[e]=r[e];this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),r=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=r,this.canvasContext.globalAlpha=r},CanvasRenderer.prototype.configAnimation=function(t){this.animationItem.wrapper?(this.animationItem.container=document.createElement("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className)):this.canvasContext=this.renderConfig.context,this.data=t,this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.totalFrames=Math.floor(t.tf),this.globalData.compWidth=t.w,this.globalData.compHeight=t.h,this.globalData.frameRate=t.fr,this.globalData.frameId=0,this.globalData.compSize={w:t.w,h:t.h},this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.layers=t.layers,this.transformCanvas={},this.transformCanvas.w=t.w,this.transformCanvas.h=t.h,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,document.body),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.elementLoaded=this.animationItem.elementLoaded.bind(this.animationItem),this.globalData.addPendingElement=this.animationItem.addPendingElement.bind(this.animationItem),this.globalData.transformCanvas=this.transformCanvas,this.elements=Array.apply(null,{length:t.layers.length}),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var t,e;this.animationItem.wrapper&&this.animationItem.container?(t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",t*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr);var r,s;if(-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var i=this.renderConfig.preserveAspectRatio.split(" "),a=i[1]||"meet",n=i[0]||"xMidYMid",o=n.substr(0,4),h=n.substr(4);r=t/e,s=this.transformCanvas.w/this.transformCanvas.h,s>r&&"meet"===a||r>s&&"slice"===a?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===o&&(r>s&&"meet"===a||s>r&&"slice"===a)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===o&&(r>s&&"meet"===a||s>r&&"slice"===a)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===h&&(s>r&&"meet"===a||r>s&&"slice"===a)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===h&&(s>r&&"meet"===a||r>s&&"slice"===a)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1];var l,p=this.elements.length;for(l=0;p>l;l+=1)this.elements[l]&&0===this.elements[l].data.ty&&this.elements[l].resize(this.globalData.transformCanvas)},CanvasRenderer.prototype.destroy=function(){this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerHTML="");var t,e=this.layers?this.layers.length:0;for(t=e-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(t){if(!(this.renderedFrame==t&&this.renderConfig.clearCanvas===!0||this.destroyed||null===t)){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem.firstFrame,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.renderConfig.clearCanvas===!0?(this.reset(),this.canvasContext.save(),this.canvasContext.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)):this.save(),this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip();var e,r=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=0;r>e;e++)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);for(e=r-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame();this.renderConfig.clearCanvas!==!0?this.restore():this.canvasContext.restore()}},CanvasRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){var r=this.createItem(this.layers[t],this,this.globalData);e[t]=r,r.initExpressions(),0===this.layers[t].ty&&r.resize(this.globalData.transformCanvas)}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},CanvasRenderer.prototype.searchExtraCompositions=function(t){{var e,r=t.length;document.createElementNS(svgNS,"g")}for(e=0;r>e;e+=1)if(t[e].xt){var s=this.createComp(t[e],this.globalData.comp,this.globalData);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}},extendPrototype(BaseRenderer,HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},HybridRenderer.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){var s=this.layers[e];if(s.ddd&&this.supports3d)this.addTo3dContainer(r,e);else{for(var i,a,n=0;e>n;)this.elements[n]&&this.elements[n]!==!0&&this.elements[n].getBaseElement&&(a=this.elements[n],i=this.layers[n].ddd?this.getThreeDContainerByPos(n):a.getBaseElement()),n+=1;i?s.ddd&&this.supports3d||this.layerElement.insertBefore(r,i):s.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRenderer.prototype.createBase=function(t){return new SVGBaseElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.layerElement,this.globalData,this):new IShapeElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.layerElement,this.globalData,this):new SVGTextElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.layerElement,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.layerElement,this.globalData,this):new IImageElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.layerElement,this.globalData,this):new ICompElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.layerElement,this.globalData,this):new ISolidElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.getThreeDContainerByPos=function(t){for(var e=0,r=this.threeDElements.length;r>e;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}},HybridRenderer.prototype.createThreeDContainer=function(t){var e=document.createElement("div");styleDiv(e),e.style.width=this.globalData.compSize.w+"px",e.style.height=this.globalData.compSize.h+"px",e.style.transformOrigin=e.style.mozTransformOrigin=e.style.webkitTransformOrigin="50% 50%";var r=document.createElement("div");styleDiv(r),r.style.transform=r.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)",e.appendChild(r),this.resizerElem.appendChild(e);var s={container:r,perspectiveElem:e,startPos:t,endPos:t};return this.threeDElements.push(s),s},HybridRenderer.prototype.build3dContainers=function(){var t,e,r=this.layers.length;for(t=0;r>t;t+=1)this.layers[t].ddd?(e||(e=this.createThreeDContainer(t)),e.endPos=Math.max(e.endPos,t)):e=null},HybridRenderer.prototype.addTo3dContainer=function(t,e){for(var r=0,s=this.threeDElements.length;s>r;){if(e<=this.threeDElements[r].endPos){for(var i,a=this.threeDElements[r].startPos;e>a;)this.elements[a]&&this.elements[a].getBaseElement&&(i=this.elements[a].getBaseElement()),a+=1;i?this.threeDElements[r].container.insertBefore(t,i):this.threeDElements[r].container.appendChild(t);break}r+=1}},HybridRenderer.prototype.configAnimation=function(t){var e=document.createElement("div"),r=this.animationItem.wrapper;e.style.width=t.w+"px",e.style.height=t.h+"px",this.resizerElem=e,styleDiv(e),e.style.transformStyle=e.style.webkitTransformStyle=e.style.mozTransformStyle="flat",this.renderConfig.className&&r.setAttribute("class",this.renderConfig.className),r.appendChild(e),e.style.overflow="hidden";var s=document.createElementNS(svgNS,"svg");s.setAttribute("width","1"),s.setAttribute("height","1"),styleDiv(s),this.resizerElem.appendChild(s);var i=document.createElementNS(svgNS,"defs");s.appendChild(i),this.globalData.defs=i,this.data=t,this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.elementLoaded=this.animationItem.elementLoaded.bind(this.animationItem),this.globalData.frameId=0,this.globalData.compSize={w:t.w,h:t.h},this.globalData.frameRate=t.fr,this.layers=t.layers,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,s),this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.animationItem.container=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;e>t;t++)this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var t,e,r,s,i=this.animationItem.wrapper.offsetWidth,a=this.animationItem.wrapper.offsetHeight,n=i/a,o=this.globalData.compSize.w/this.globalData.compSize.h;o>n?(t=i/this.globalData.compSize.w,e=i/this.globalData.compSize.w,r=0,s=(a-this.globalData.compSize.h*(i/this.globalData.compSize.w))/2):(t=a/this.globalData.compSize.h,e=a/this.globalData.compSize.h,r=(i-this.globalData.compSize.w*(a/this.globalData.compSize.h))/2,s=0),this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+r+","+s+",0,1)"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,r=this.globalData.compSize.h,s=this.threeDElements.length;for(t=0;s>t;t+=1)this.threeDElements[t].perspectiveElem.style.perspective=this.threeDElements[t].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(r,2))+"px"}},HybridRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length,s=document.createElement("div");for(e=0;r>e;e+=1)if(t[e].xt){var i=this.createComp(t[e],s,this.globalData.comp,null);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},createElement(BaseElement,CVBaseElement),CVBaseElement.prototype.createElements=function(){this.checkParenting()},CVBaseElement.prototype.checkBlendMode=function(t){if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e="";switch(this.data.bm){case 0:e="normal";break;case 1:e="multiply";break;case 2:e="screen";break;case 3:e="overlay";break;case 4:e="darken";break;case 5:e="lighten";break;case 6:e="color-dodge";break;case 7:e="color-burn";break;case 8:e="hard-light";break;case 9:e="soft-light";break;case 10:e="difference";break;case 11:e="exclusion";break;case 12:e="hue";break;case 13:e="saturation";break;case 14:e="color";break;case 15:e="luminosity"}t.canvasContext.globalCompositeOperation=e}},CVBaseElement.prototype.renderFrame=function(t){if(3===this.data.ty)return!1;if(this.checkBlendMode(0===this.data.ty?this.parentGlobalData:this.globalData),!this.isVisible)return this.isVisible;this.finalTransform.opMdf=this.finalTransform.op.mdf,this.finalTransform.matMdf=this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v;var e,r=this.finalTransform.mat;if(this.hierarchy){var s,i=this.hierarchy.length;for(e=this.finalTransform.mProp.v.props,r.cloneFromProps(e),s=0;i>s;s+=1)this.finalTransform.matMdf=this.hierarchy[s].finalTransform.mProp.mdf?!0:this.finalTransform.matMdf,e=this.hierarchy[s].finalTransform.mProp.v.props,r.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}else t?(e=this.finalTransform.mProp.v.props,r.cloneFromProps(e)):r.cloneFromProps(this.finalTransform.mProp.v.props);return t&&(e=t.mat.props,r.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.finalTransform.opacity*=t.opacity,this.finalTransform.opMdf=t.opMdf?!0:this.finalTransform.opMdf,this.finalTransform.matMdf=t.matMdf?!0:this.finalTransform.matMdf),this.data.hasMask&&(this.globalData.renderer.save(!0),this.maskManager.renderFrame(0===this.data.ty?null:r)),this.data.hd&&(this.isVisible=!1),this.isVisible},CVBaseElement.prototype.addMasks=function(t){this.maskManager=new CVMaskElement(t,this,this.globalData)},CVBaseElement.prototype.destroy=function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager&&this.maskManager.destroy()},CVBaseElement.prototype.mHelper=new Matrix,createElement(CVBaseElement,CVCompElement),CVCompElement.prototype.ctxTransform=CanvasRenderer.prototype.ctxTransform,CVCompElement.prototype.ctxOpacity=CanvasRenderer.prototype.ctxOpacity,CVCompElement.prototype.save=CanvasRenderer.prototype.save,CVCompElement.prototype.restore=CanvasRenderer.prototype.restore,CVCompElement.prototype.reset=function(){this.contextData.cArrPos=0,this.contextData.cTr.reset(),this.contextData.cO=1},CVCompElement.prototype.resize=function(t){var e=Math.max(t.sx,t.sy);this.canvas.width=this.data.w*e,this.canvas.height=this.data.h*e,this.transformCanvas={sc:e,w:this.data.w*e,h:this.data.h*e,props:[e,0,0,0,0,e,0,0,0,0,1,0,0,0,0,1]};var r,s=this.elements.length;for(r=0;s>r;r+=1)this.elements[r]&&0===this.elements[r].data.ty&&this.elements[r].resize(t)},CVCompElement.prototype.prepareFrame=function(t){if(this.globalData.frameId=this.parentGlobalData.frameId,this.globalData.mdf=!1,this._parent.prepareFrame.call(this,t),this.isVisible!==!1||this.data.xt){var e=t;this.tm&&(e=this.tm.v,e===this.data.op&&(e=this.data.op-1)),this.renderedFrame=e/this.data.sr;var r,s=this.elements.length;for(this.completeLayers||this.checkLayers(t),r=0;s>r;r+=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(e/this.data.sr-this.layers[r].st),0===this.elements[r].data.ty&&this.elements[r].globalData.mdf&&(this.globalData.mdf=!0));this.globalData.mdf&&!this.data.xt&&(this.canvasContext.clearRect(0,0,this.data.w,this.data.h),this.ctxTransform(this.transformCanvas.props))}},CVCompElement.prototype.renderFrame=function(t){if(this._parent.renderFrame.call(this,t)!==!1){if(this.globalData.mdf){var e,r=this.layers.length;for(e=r-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}this.data.hasMask&&this.globalData.renderer.restore(!0),this.firstFrame&&(this.firstFrame=!1),this.parentGlobalData.renderer.save(),this.parentGlobalData.renderer.ctxTransform(this.finalTransform.mat.props),this.parentGlobalData.renderer.ctxOpacity(this.finalTransform.opacity),this.parentGlobalData.renderer.canvasContext.drawImage(this.canvas,0,0,this.data.w,this.data.h),this.parentGlobalData.renderer.restore(),this.globalData.mdf&&this.reset()}},CVCompElement.prototype.setElements=function(t){this.elements=t},CVCompElement.prototype.getElements=function(){return this.elements},CVCompElement.prototype.destroy=function(){var t,e=this.layers.length;for(t=e-1;t>=0;t-=1)this.elements[t].destroy();this.layers=null,this.elements=null,this._parent.destroy.call(this._parent)},CVCompElement.prototype.checkLayers=CanvasRenderer.prototype.checkLayers,CVCompElement.prototype.buildItem=CanvasRenderer.prototype.buildItem,CVCompElement.prototype.checkPendingElements=CanvasRenderer.prototype.checkPendingElements,CVCompElement.prototype.addPendingElement=CanvasRenderer.prototype.addPendingElement,CVCompElement.prototype.buildAllItems=CanvasRenderer.prototype.buildAllItems,CVCompElement.prototype.createItem=CanvasRenderer.prototype.createItem,CVCompElement.prototype.createImage=CanvasRenderer.prototype.createImage,CVCompElement.prototype.createComp=CanvasRenderer.prototype.createComp,CVCompElement.prototype.createSolid=CanvasRenderer.prototype.createSolid,CVCompElement.prototype.createShape=CanvasRenderer.prototype.createShape,CVCompElement.prototype.createText=CanvasRenderer.prototype.createText,CVCompElement.prototype.createBase=CanvasRenderer.prototype.createBase,CVCompElement.prototype.buildElementParenting=CanvasRenderer.prototype.buildElementParenting,createElement(CVBaseElement,CVImageElement),CVImageElement.prototype.createElements=function(){var t=function(){if(this.globalData.elementLoaded(),this.assetData.w!==this.img.width||this.assetData.h!==this.img.height){var t=document.createElement("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,r,s=t.getContext("2d"),i=this.img.width,a=this.img.height,n=i/a,o=this.assetData.w/this.assetData.h;n>o?(r=a,e=r*o):(e=i,r=e/o),s.drawImage(this.img,(i-e)/2,(a-r)/2,e,r,0,0,this.assetData.w,this.assetData.h),this.img=t}}.bind(this),e=function(){this.failed=!0,this.globalData.elementLoaded()}.bind(this);this.img=new Image,this.img.addEventListener("load",t,!1),this.img.addEventListener("error",e,!1);var r=this.globalData.getAssetsPath(this.assetData);this.img.src=r,this._parent.createElements.call(this)},CVImageElement.prototype.renderFrame=function(t){if(!this.failed&&this._parent.renderFrame.call(this,t)!==!1){var e=this.canvasContext;this.globalData.renderer.save();var r=this.finalTransform.mat.props;this.globalData.renderer.ctxTransform(r),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),e.drawImage(this.img,0,0),this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},CVImageElement.prototype.destroy=function(){this.img=null,this._parent.destroy.call(this._parent)},CVMaskElement.prototype.prepareFrame=function(t){var e,r=this.dynamicProperties.length;for(e=0;r>e;e+=1)this.dynamicProperties[e].getValue(t),this.dynamicProperties[e].mdf&&(this.element.globalData.mdf=!0)},CVMaskElement.prototype.renderFrame=function(t){var e,r,s,i,a,n=this.element.canvasContext,o=this.data.masksProperties.length,h=!1;for(e=0;o>e;e++)if("n"!==this.masksProperties[e].mode){h===!1&&(n.beginPath(),h=!0),this.masksProperties[e].inv&&(n.moveTo(0,0),n.lineTo(this.element.globalData.compWidth,0),n.lineTo(this.element.globalData.compWidth,this.element.globalData.compHeight),n.lineTo(0,this.element.globalData.compHeight),n.lineTo(0,0)),a=this.viewData[e].v,r=t?t.applyToPointArray(a.v[0][0],a.v[0][1],0):a.v[0],n.moveTo(r[0],r[1]);var l,p=a._length;for(l=1;p>l;l++)r=t?t.applyToPointArray(a.o[l-1][0],a.o[l-1][1],0):a.o[l-1],s=t?t.applyToPointArray(a.i[l][0],a.i[l][1],0):a.i[l],i=t?t.applyToPointArray(a.v[l][0],a.v[l][1],0):a.v[l],n.bezierCurveTo(r[0],r[1],s[0],s[1],i[0],i[1]);r=t?t.applyToPointArray(a.o[l-1][0],a.o[l-1][1],0):a.o[l-1],s=t?t.applyToPointArray(a.i[0][0],a.i[0][1],0):a.i[0],i=t?t.applyToPointArray(a.v[0][0],a.v[0][1],0):a.v[0],n.bezierCurveTo(r[0],r[1],s[0],s[1],i[0],i[1])}h&&n.clip()},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},createElement(CVBaseElement,CVShapeElement),CVShapeElement.prototype.transformHelper={opacity:1,mat:new Matrix,matMdf:!1,opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createElements=function(){this._parent.createElements.call(this),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.dynamicProperties,!0)},CVShapeElement.prototype.createStyleElement=function(t,e){var r={data:t,type:t.ty,elements:[]},s={};if(("fl"==t.ty||"st"==t.ty)&&(s.c=PropertyFactory.getProp(this,t.c,1,255,e),s.c.k||(r.co="rgb("+bm_floor(s.c.v[0])+","+bm_floor(s.c.v[1])+","+bm_floor(s.c.v[2])+")")),s.o=PropertyFactory.getProp(this,t.o,0,.01,e),"st"==t.ty){if(r.lc=this.lcEnum[t.lc]||"round",r.lj=this.ljEnum[t.lj]||"round",1==t.lj&&(r.ml=t.ml),s.w=PropertyFactory.getProp(this,t.w,0,null,e),s.w.k||(r.wi=s.w.v),t.d){var i=new DashProperty(this,t.d,"canvas",e);s.d=i,s.d.k||(r.da=s.d.dashArray,r["do"]=s.d.dashoffset[0])}}else r.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(r),s.style=r,s},CVShapeElement.prototype.createGroupElement=function(t){var e={it:[],prevViewData:[]};return e},CVShapeElement.prototype.createTransformElement=function(t,e){var r={transform:{mat:new Matrix,opacity:1,matMdf:!1,opMdf:!1,op:PropertyFactory.getProp(this,t.o,0,.01,e),mProps:TransformPropertyFactory.getTransformProperty(this,t,e)},elements:[]};return r},CVShapeElement.prototype.createShapeElement=function(t,e){var r={nodes:[],trNodes:[],tr:[0,0,0,0,0,0]},s=4;"rc"==t.ty?s=5:"el"==t.ty?s=6:"sr"==t.ty&&(s=7),r.sh=ShapePropertyFactory.getShapeProp(this,t,s,e),this.shapes.push(r.sh),this.addShapeToModifiers(r),jLen=this.stylesList.length;var i=!1,a=!1;for(j=0;j<jLen;j+=1)this.stylesList[j].closed||(this.stylesList[j].elements.push(r),"st"===this.stylesList[j].type?i=!0:a=!0);return r.st=i,r.fl=a,r},CVShapeElement.prototype.reloadShapes=function(){this.firstFrame=!0;var t,e=this.itemsData.length;for(t=0;e>t;t+=1)this.prevViewData[t]=this.itemsData[t];this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.dynamicProperties,!0);var t,e=this.dynamicProperties.length;for(t=0;e>t;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},CVShapeElement.prototype.searchShapes=function(t,e,r,s,i){var a,n,o,h,l=t.length-1,p=[],m=[];for(a=l;a>=0;a-=1){if(h=this.searchProcessedElement(t[a]),h?e[a]=r[h-1]:t[a]._render=i,"fl"==t[a].ty||"st"==t[a].ty)h?e[a].style.closed=!1:e[a]=this.createStyleElement(t[a],s),p.push(e[a].style);else if("gr"==t[a].ty){if(h)for(o=e[a].it.length,n=0;o>n;n+=1)e[a].prevViewData[n]=e[a].it[n];else e[a]=this.createGroupElement(t[a]);this.searchShapes(t[a].it,e[a].it,e[a].prevViewData,s,i)}else if("tr"==t[a].ty)h||(e[a]=this.createTransformElement(t[a],s));else if("sh"==t[a].ty||"rc"==t[a].ty||"el"==t[a].ty||"sr"==t[a].ty)h||(e[a]=this.createShapeElement(t[a],s));else if("tm"==t[a].ty||"rd"==t[a].ty){if(h)f=e[a],f.closed=!1;else{var f=ShapeModifiers.getModifier(t[a].ty);f.init(this,t[a],s),e[a]=f,this.shapeModifiers.push(f)}m.push(f)}else"rp"==t[a].ty&&(h?(f=e[a],f.closed=!0):(f=ShapeModifiers.getModifier(t[a].ty),e[a]=f,f.init(this,t,a,e,s),this.shapeModifiers.push(f),i=!1),m.push(f));this.addProcessedElement(t[a],a+1)}for(l=p.length,a=0;l>a;a+=1)p[a].closed=!0;for(l=m.length,a=0;l>a;a+=1)m[a].closed=!0},CVShapeElement.prototype.addShapeToModifiers=IShapeElement.prototype.addShapeToModifiers,CVShapeElement.prototype.renderModifiers=IShapeElement.prototype.renderModifiers,CVShapeElement.prototype.lcEnum=IShapeElement.prototype.lcEnum,CVShapeElement.prototype.ljEnum=IShapeElement.prototype.ljEnum,CVShapeElement.prototype.searchProcessedElement=IShapeElement.prototype.searchProcessedElement,CVShapeElement.prototype.addProcessedElement=IShapeElement.prototype.addProcessedElement,CVShapeElement.prototype.renderFrame=function(t){this._parent.renderFrame.call(this,t)!==!1&&(this.transformHelper.mat.reset(),this.transformHelper.opacity=this.finalTransform.opacity,this.transformHelper.matMdf=!1,this.transformHelper.opMdf=this.finalTransform.opMdf,this.renderModifiers(),this.renderShape(this.transformHelper,null,null,!0),this.data.hasMask&&this.globalData.renderer.restore(!0))},CVShapeElement.prototype.renderShape=function(t,e,r,s){var i,a;if(!e)for(e=this.shapesData,a=this.stylesList.length,i=0;a>i;i+=1)this.stylesList[i].d="",this.stylesList[i].mdf=!1;r||(r=this.itemsData),a=e.length-1;var n,o;for(n=t,i=a;i>=0;i-=1)if("tr"==e[i].ty){n=r[i].transform;var h=r[i].transform.mProps.v.props;if(n.matMdf=n.mProps.mdf,n.opMdf=n.op.mdf,o=n.mat,o.cloneFromProps(h),t){var l=t.mat.props;n.opacity=t.opacity,n.opacity*=r[i].transform.op.v,n.matMdf=t.matMdf?!0:n.matMdf,n.opMdf=t.opMdf?!0:n.opMdf,o.transform(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],l[12],l[13],l[14],l[15])}else n.opacity=n.op.o}else"sh"==e[i].ty||"el"==e[i].ty||"rc"==e[i].ty||"sr"==e[i].ty?this.renderPath(e[i],r[i],n):"fl"==e[i].ty?this.renderFill(e[i],r[i],n):"st"==e[i].ty?this.renderStroke(e[i],r[i],n):"gr"==e[i].ty?this.renderShape(n,e[i].it,r[i].it):"tm"==e[i].ty;if(s){a=this.stylesList.length;var p,m,f,c,d,u,y,g=this.globalData.renderer,v=this.globalData.canvasContext;for(g.save(),g.ctxTransform(this.finalTransform.mat.props),i=0;a>i;i+=1)if(y=this.stylesList[i].type,("st"!==y||0!==this.stylesList[i].wi)&&this.stylesList[i].data._render){for(g.save(),d=this.stylesList[i].elements,"st"===y?(v.strokeStyle=this.stylesList[i].co,v.lineWidth=this.stylesList[i].wi,v.lineCap=this.stylesList[i].lc,v.lineJoin=this.stylesList[i].lj,v.miterLimit=this.stylesList[i].ml||0):v.fillStyle=this.stylesList[i].co,g.ctxOpacity(this.stylesList[i].coOp),"st"!==y&&v.beginPath(),m=d.length,p=0;m>p;p+=1){for("st"===y&&(v.beginPath(),this.stylesList[i].da?(v.setLineDash(this.stylesList[i].da),v.lineDashOffset=this.stylesList[i]["do"],this.globalData.isDashed=!0):this.globalData.isDashed&&(v.setLineDash(this.dashResetter),this.globalData.isDashed=!1)),u=d[p].trNodes,c=u.length,f=0;c>f;f+=1)"m"==u[f].t?v.moveTo(u[f].p[0],u[f].p[1]):"c"==u[f].t?v.bezierCurveTo(u[f].p1[0],u[f].p1[1],u[f].p2[0],u[f].p2[1],u[f].p3[0],u[f].p3[1]):v.closePath();"st"===y&&v.stroke()}"st"!==y&&v.fill(this.stylesList[i].r),g.restore()}g.restore(),this.firstFrame&&(this.firstFrame=!1)}},CVShapeElement.prototype.renderPath=function(t,e,r){var s,i,a,n,o=r.matMdf||e.sh.mdf||this.firstFrame;if(o){var h=e.sh.paths,l=r.mat;n=h._length;var p=e.trNodes;for(p.length=0,a=0;n>a;a+=1){var m=h.shapes[a];if(m&&m.v){for(s=m._length,i=1;s>i;i+=1)1==i&&p.push({t:"m",p:l.applyToPointArray(m.v[0][0],m.v[0][1],0)}),p.push({t:"c",p1:l.applyToPointArray(m.o[i-1][0],m.o[i-1][1],0),p2:l.applyToPointArray(m.i[i][0],m.i[i][1],0),p3:l.applyToPointArray(m.v[i][0],m.v[i][1],0)});1==s&&p.push({t:"m",p:l.applyToPointArray(m.v[0][0],m.v[0][1],0)}),m.c&&s&&(p.push({
t:"c",p1:l.applyToPointArray(m.o[i-1][0],m.o[i-1][1],0),p2:l.applyToPointArray(m.i[0][0],m.i[0][1],0),p3:l.applyToPointArray(m.v[0][0],m.v[0][1],0)}),p.push({t:"z"})),e.lStr=p}}if(e.st)for(i=0;16>i;i+=1)e.tr[i]=r.mat.props[i];e.trNodes=p}},CVShapeElement.prototype.renderFill=function(t,e,r){var s=e.style;(e.c.mdf||this.firstFrame)&&(s.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o.mdf||r.opMdf||this.firstFrame)&&(s.coOp=e.o.v*r.opacity)},CVShapeElement.prototype.renderStroke=function(t,e,r){var s=e.style,i=e.d;i&&(i.mdf||this.firstFrame)&&(s.da=i.dashArray,s["do"]=i.dashoffset[0]),(e.c.mdf||this.firstFrame)&&(s.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o.mdf||r.opMdf||this.firstFrame)&&(s.coOp=e.o.v*r.opacity),(e.w.mdf||this.firstFrame)&&(s.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemData.length=0,this._parent.destroy.call(this._parent)},createElement(CVBaseElement,CVSolidElement),CVSolidElement.prototype.renderFrame=function(t){if(this._parent.renderFrame.call(this,t)!==!1){var e=this.canvasContext;this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),e.fillStyle=this.data.sc,e.fillRect(0,0,this.data.sw,this.data.sh),this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},createElement(CVBaseElement,CVTextElement),extendPrototype(ITextElement,CVTextElement),CVTextElement.prototype.tHelper=document.createElement("canvas").getContext("2d"),CVTextElement.prototype.createElements=function(){this._parent.createElements.call(this)},CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=Array.apply(null,{length:t.l?t.l.length:0});var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var r=!1;t.sc&&(r=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var s,i,a=this.globalData.fontManager.getFontByName(t.f),n=t.l,o=this.mHelper;this.stroke=r,this.values.fValue=t.s+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,i=t.t.length;var h,l,p,m,f,c,d,u,y,g,v=this.data.singleShape,b=t.tr/1e3*t.s,E=0,P=0,x=!0,S=0;for(s=0;i>s;s+=1){for(h=this.globalData.fontManager.getCharData(t.t.charAt(s),a.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),l=h&&h.data||{},o.reset(),v&&n[s].n&&(E=-b,P+=t.yOffset,P+=x?1:0,x=!1),f=l.shapes?l.shapes[0].it:[],d=f.length,o.scale(t.s/100,t.s/100),v&&this.applyTextPropertiesToMatrix(t,o,n[s].line,E,P),y=Array.apply(null,{length:d}),c=0;d>c;c+=1){for(m=f[c].ks.k.i.length,u=f[c].ks.k,g=[],p=1;m>p;p+=1)1==p&&g.push(o.applyToX(u.v[0][0],u.v[0][1],0),o.applyToY(u.v[0][0],u.v[0][1],0)),g.push(o.applyToX(u.o[p-1][0],u.o[p-1][1],0),o.applyToY(u.o[p-1][0],u.o[p-1][1],0),o.applyToX(u.i[p][0],u.i[p][1],0),o.applyToY(u.i[p][0],u.i[p][1],0),o.applyToX(u.v[p][0],u.v[p][1],0),o.applyToY(u.v[p][0],u.v[p][1],0));g.push(o.applyToX(u.o[p-1][0],u.o[p-1][1],0),o.applyToY(u.o[p-1][0],u.o[p-1][1],0),o.applyToX(u.i[0][0],u.i[0][1],0),o.applyToY(u.i[0][0],u.i[0][1],0),o.applyToX(u.v[0][0],u.v[0][1],0),o.applyToY(u.v[0][0],u.v[0][1],0)),y[c]=g}v&&(E+=n[s].l,E+=b),this.textSpans[S]?this.textSpans[S].elem=y:this.textSpans[S]={elem:y},S+=1}},CVTextElement.prototype.renderFrame=function(t){if(this._parent.renderFrame.call(this,t)!==!1){var e=this.canvasContext,r=this.finalTransform.mat.props;this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(r),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),e.font=this.values.fValue,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var s,i,a,n,o,h,l=this.textAnimator.renderedLetters,p=this.textProperty.currentData.l;i=p.length;var m,f,c,d=null,u=null,y=null;for(s=0;i>s;s+=1)if(!p[s].n){if(m=l[s],m&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(m.p),this.globalData.renderer.ctxOpacity(m.o)),this.fill){for(m&&m.fc?d!==m.fc&&(d=m.fc,e.fillStyle=m.fc):d!==this.values.fill&&(d=this.values.fill,e.fillStyle=this.values.fill),f=this.textSpans[s].elem,n=f.length,this.globalData.canvasContext.beginPath(),a=0;n>a;a+=1)for(c=f[a],h=c.length,this.globalData.canvasContext.moveTo(c[0],c[1]),o=2;h>o;o+=6)this.globalData.canvasContext.bezierCurveTo(c[o],c[o+1],c[o+2],c[o+3],c[o+4],c[o+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(m&&m.sw?y!==m.sw&&(y=m.sw,e.lineWidth=m.sw):y!==this.values.sWidth&&(y=this.values.sWidth,e.lineWidth=this.values.sWidth),m&&m.sc?u!==m.sc&&(u=m.sc,e.strokeStyle=m.sc):u!==this.values.stroke&&(u=this.values.stroke,e.strokeStyle=this.values.stroke),f=this.textSpans[s].elem,n=f.length,this.globalData.canvasContext.beginPath(),a=0;n>a;a+=1)for(c=f[a],h=c.length,this.globalData.canvasContext.moveTo(c[0],c[1]),o=2;h>o;o+=6)this.globalData.canvasContext.bezierCurveTo(c[o],c[o+1],c[o+2],c[o+3],c[o+4],c[o+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}m&&this.globalData.renderer.restore()}this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},createElement(BaseElement,HBaseElement),HBaseElement.prototype.checkBlendMode=function(){},HBaseElement.prototype.setBlendMode=BaseElement.prototype.setBlendMode,HBaseElement.prototype.getBaseElement=function(){return this.baseElement},HBaseElement.prototype.createElements=function(){this.data.hasMask?(this.layerElement=document.createElementNS(svgNS,"svg"),styleDiv(this.layerElement),this.baseElement=this.layerElement,this.maskedElement=this.layerElement):this.layerElement=this.parentContainer,this.transformedElement=this.layerElement,!this.data.ln||4!==this.data.ty&&0!==this.data.ty||(this.layerElement===this.parentContainer&&(this.layerElement=document.createElementNS(svgNS,"g"),this.baseElement=this.layerElement),this.layerElement.setAttribute("id",this.data.ln)),this.setBlendMode(),this.layerElement!==this.parentContainer&&(this.placeholder=null),this.checkParenting()},HBaseElement.prototype.renderFrame=function(t){if(3===this.data.ty)return!1;if(this.currentFrameNum===this.lastNum||!this.isVisible)return this.isVisible;this.lastNum=this.currentFrameNum,this.finalTransform.opMdf=this.finalTransform.op.mdf,this.finalTransform.matMdf=this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v,this.firstFrame&&(this.finalTransform.opMdf=!0,this.finalTransform.matMdf=!0);var e,r=this.finalTransform.mat;if(this.hierarchy){var s,i=this.hierarchy.length;for(e=this.finalTransform.mProp.v.props,r.cloneFromProps(e),s=0;i>s;s+=1)this.finalTransform.matMdf=this.hierarchy[s].finalTransform.mProp.mdf?!0:this.finalTransform.matMdf,e=this.hierarchy[s].finalTransform.mProp.v.props,r.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}else this.isVisible&&this.finalTransform.matMdf&&(t?(e=this.finalTransform.mProp.v.props,r.cloneFromProps(e)):r.cloneFromProps(this.finalTransform.mProp.v.props));return this.data.hasMask&&this.maskManager.renderFrame(r),t&&(e=t.mat.props,r.cloneFromProps(e),this.finalTransform.opacity*=t.opacity,this.finalTransform.opMdf=t.opMdf?!0:this.finalTransform.opMdf,this.finalTransform.matMdf=t.matMdf?!0:this.finalTransform.matMdf),this.finalTransform.matMdf&&(this.transformedElement.style.transform=this.transformedElement.style.webkitTransform=r.toCSS(),this.finalMat=r),this.finalTransform.opMdf&&(this.transformedElement.style.opacity=this.finalTransform.opacity),this.isVisible},HBaseElement.prototype.destroy=function(){this.layerElement=null,this.transformedElement=null,this.parentContainer=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},HBaseElement.prototype.getDomElement=function(){return this.layerElement},HBaseElement.prototype.addMasks=function(t){this.maskManager=new MaskElement(t,this,this.globalData)},HBaseElement.prototype.hide=function(){},HBaseElement.prototype.setMatte=function(){},HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,createElement(HBaseElement,HSolidElement),HSolidElement.prototype.createElements=function(){var t=document.createElement("div");styleDiv(t);var e=document.createElementNS(svgNS,"svg");styleDiv(e),e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),t.appendChild(e),this.layerElement=t,this.transformedElement=t,this.baseElement=t,this.innerElem=t,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),0!==this.data.bm&&this.setBlendMode();var r=document.createElementNS(svgNS,"rect");r.setAttribute("width",this.data.sw),r.setAttribute("height",this.data.sh),r.setAttribute("fill",this.data.sc),e.appendChild(r),this.data.hasMask&&(this.maskedElement=r),this.checkParenting()},HSolidElement.prototype.hide=SVGBaseElement.prototype.hide,HSolidElement.prototype.show=SVGBaseElement.prototype.show,HSolidElement.prototype.renderFrame=IImageElement.prototype.renderFrame,HSolidElement.prototype.destroy=IImageElement.prototype.destroy,createElement(HBaseElement,HCompElement),HCompElement.prototype.createElements=function(){var t=document.createElement("div");if(styleDiv(t),this.data.ln&&t.setAttribute("id",this.data.ln),t.style.clip="rect(0px, "+this.data.w+"px, "+this.data.h+"px, 0px)",this.data.hasMask){var e=document.createElementNS(svgNS,"svg");styleDiv(e),e.setAttribute("width",this.data.w),e.setAttribute("height",this.data.h);var r=document.createElementNS(svgNS,"g");e.appendChild(r),t.appendChild(e),this.maskedElement=r,this.baseElement=t,this.layerElement=r,this.transformedElement=t}else this.layerElement=t,this.baseElement=this.layerElement,this.transformedElement=t;this.checkParenting()},HCompElement.prototype.hide=ICompElement.prototype.hide,HCompElement.prototype.prepareFrame=ICompElement.prototype.prepareFrame,HCompElement.prototype.setElements=ICompElement.prototype.setElements,HCompElement.prototype.getElements=ICompElement.prototype.getElements,HCompElement.prototype.destroy=ICompElement.prototype.destroy,HCompElement.prototype.renderFrame=function(t){var e,r=this._parent.renderFrame.call(this,t),s=this.layers.length;if(r===!1)return void this.hide();for(this.hidden=!1,e=0;s>e;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame();this.firstFrame&&(this.firstFrame=!1)},HCompElement.prototype.checkLayers=BaseRenderer.prototype.checkLayers,HCompElement.prototype.buildItem=HybridRenderer.prototype.buildItem,HCompElement.prototype.checkPendingElements=HybridRenderer.prototype.checkPendingElements,HCompElement.prototype.addPendingElement=HybridRenderer.prototype.addPendingElement,HCompElement.prototype.buildAllItems=BaseRenderer.prototype.buildAllItems,HCompElement.prototype.createItem=HybridRenderer.prototype.createItem,HCompElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,HCompElement.prototype.createImage=HybridRenderer.prototype.createImage,HCompElement.prototype.createComp=HybridRenderer.prototype.createComp,HCompElement.prototype.createSolid=HybridRenderer.prototype.createSolid,HCompElement.prototype.createShape=HybridRenderer.prototype.createShape,HCompElement.prototype.createText=HybridRenderer.prototype.createText,HCompElement.prototype.createBase=HybridRenderer.prototype.createBase,HCompElement.prototype.appendElementInPos=HybridRenderer.prototype.appendElementInPos,createElement(HBaseElement,HShapeElement);var parent=HShapeElement.prototype._parent;extendPrototype(IShapeElement,HShapeElement),HShapeElement.prototype._parent=parent,HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderFrame,HShapeElement.prototype.createElements=function(){var t=document.createElement("div");styleDiv(t);var e=document.createElementNS(svgNS,"svg");styleDiv(e);var r=this.comp.data?this.comp.data:this.globalData.compSize;if(e.setAttribute("width",r.w),e.setAttribute("height",r.h),this.data.hasMask){var s=document.createElementNS(svgNS,"g");t.appendChild(e),e.appendChild(s),this.maskedElement=s,this.layerElement=s,this.shapesContainer=s}else t.appendChild(e),this.layerElement=e,this.shapesContainer=document.createElementNS(svgNS,"g"),this.layerElement.appendChild(this.shapesContainer);this.data.hd||(this.baseElement=t),this.innerElem=t,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,this.dynamicProperties,0,[],!0),this.buildExpressionInterface(),this.layerElement=t,this.transformedElement=t,this.shapeCont=e,0!==this.data.bm&&this.setBlendMode(),this.checkParenting()},HShapeElement.prototype.renderFrame=function(t){var e=this.firstFrame;if(this._renderShapeFrame(),this.isVisible&&(this.elemMdf||e)){var r=this.shapeCont.getBBox(),s=!1;this.currentBBox.w!==r.width&&(this.currentBBox.w=r.width,this.shapeCont.setAttribute("width",r.width),s=!0),this.currentBBox.h!==r.height&&(this.currentBBox.h=r.height,this.shapeCont.setAttribute("height",r.height),s=!0),(s||this.currentBBox.x!==r.x||this.currentBBox.y!==r.y)&&(this.currentBBox.w=r.width,this.currentBBox.h=r.height,this.currentBBox.x=r.x,this.currentBBox.y=r.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}},createElement(HBaseElement,HTextElement),extendPrototype(ITextElement,HTextElement),HTextElement.prototype.createElements=function(){this.isMasked=this.checkMasks();var t=document.createElement("div");if(styleDiv(t),this.layerElement=t,this.transformedElement=t,this.isMasked){this.renderType="svg";var e=document.createElementNS(svgNS,"svg");styleDiv(e),this.cont=e,this.compW=this.comp.data.w,this.compH=this.comp.data.h,e.setAttribute("width",this.compW),e.setAttribute("height",this.compH);var r=document.createElementNS(svgNS,"g");e.appendChild(r),t.appendChild(e),this.maskedElement=r,this.innerElem=r}else this.renderType="html",this.innerElem=t;this.baseElement=t,this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=Array.apply(null,{length:this.textProperty.currentData.l?this.textProperty.currentData.l.length:0});var e=this.innerElem.style;e.color=e.fill=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)",t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var r=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.s+"px",e.lineHeight=t.s+"px",r.fClass)this.innerElem.className=r.fClass;else{e.fontFamily=r.fFamily;var s=t.fWeight,i=t.fStyle;e.fontStyle=i,e.fontWeight=s}var a,n,o=t.l;n=o.length;var h,l,p,m,f=this.mHelper,c="",d=0;for(a=0;n>a;a+=1){if(this.globalData.fontManager.chars?(this.textPaths[d]?h=this.textPaths[d]:(h=document.createElementNS(svgNS,"path"),h.setAttribute("stroke-linecap","butt"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[d]?(l=this.textSpans[d],p=l.children[0]):(l=document.createElement("div"),p=document.createElementNS(svgNS,"svg"),p.appendChild(h),styleDiv(l)))):this.isMasked?h=this.textPaths[d]?this.textPaths[d]:document.createElementNS(svgNS,"text"):this.textSpans[d]?(l=this.textSpans[d],h=this.textPaths[d]):(l=document.createElement("span"),styleDiv(l),h=document.createElement("span"),styleDiv(h),l.appendChild(h)),this.globalData.fontManager.chars){var u,y=this.globalData.fontManager.getCharData(t.t.charAt(a),r.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(u=y?y.data:null,f.reset(),u&&u.shapes&&(m=u.shapes[0].it,f.scale(t.s/100,t.s/100),c=this.createPathShape(f,m),h.setAttribute("d",c)),this.isMasked)this.innerElem.appendChild(h);else if(this.innerElem.appendChild(l),u&&u.shapes){document.body.appendChild(p);var g=p.getBBox();p.setAttribute("width",g.width+2),p.setAttribute("height",g.height+2),p.setAttribute("viewBox",g.x-1+" "+(g.y-1)+" "+(g.width+2)+" "+(g.height+2)),p.style.transform=p.style.webkitTransform="translate("+(g.x-1)+"px,"+(g.y-1)+"px)",o[a].yOffset=g.y-1,l.appendChild(p)}else p.setAttribute("width",1),p.setAttribute("height",1)}else h.textContent=o[a].val,h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(h):(this.innerElem.appendChild(l),h.style.transform=h.style.webkitTransform="translate3d(0,"+-t.s/1.2+"px,0)");this.textSpans[d]=this.isMasked?h:l,this.textSpans[d].style.display="block",this.textPaths[d]=h,d+=1}for(;d<this.textSpans.length;)this.textSpans[d].style.display="none",d+=1},HTextElement.prototype.hide=SVGTextElement.prototype.hide,HTextElement.prototype.renderFrame=function(t){var e=this._parent.renderFrame.call(this,t);if(e===!1)return void this.hide();if(this.hidden&&(this.hidden=!1,this.innerElem.style.display="block",this.layerElement.style.display="block"),this.data.singleShape){if(!this.firstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform.matMdf&&(this.cont.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.cont.style.transform=this.cont.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var r,s,i=0,a=this.textAnimator.renderedLetters,n=this.textProperty.currentData.l;s=n.length;var o,h,l;for(r=0;s>r;r+=1)n[r].n?i+=1:(h=this.textSpans[r],l=this.textPaths[r],o=a[i],i+=1,this.isMasked?h.setAttribute("transform",o.m):h.style.transform=h.style.webkitTransform=o.m,h.style.opacity=o.o,o.sw&&l.setAttribute("stroke-width",o.sw),o.sc&&l.setAttribute("stroke",o.sc),o.fc&&(l.setAttribute("fill",o.fc),l.style.color=o.fc));if(this.isVisible&&(this.elemMdf||this.firstFrame)&&this.innerElem.getBBox){var p=this.innerElem.getBBox();this.currentBBox.w!==p.width&&(this.currentBBox.w=p.width,this.cont.setAttribute("width",p.width)),this.currentBBox.h!==p.height&&(this.currentBBox.h=p.height,this.cont.setAttribute("height",p.height));var m=1;(this.currentBBox.w!==p.width+2*m||this.currentBBox.h!==p.height+2*m||this.currentBBox.x!==p.x-m||this.currentBBox.y!==p.y-m)&&(this.currentBBox.w=p.width+2*m,this.currentBBox.h=p.height+2*m,this.currentBBox.x=p.x-m,this.currentBBox.y=p.y-m,this.cont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.cont.style.transform=this.cont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}this.firstFrame&&(this.firstFrame=!1)}},createElement(HBaseElement,HImageElement),HImageElement.prototype.createElements=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;if(this.data.hasMask){var r=document.createElement("div");styleDiv(r);var s=document.createElementNS(svgNS,"svg");styleDiv(s),s.setAttribute("width",this.assetData.w),s.setAttribute("height",this.assetData.h),r.appendChild(s),this.imageElem=document.createElementNS(svgNS,"image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),s.appendChild(this.imageElem),this.layerElement=r,this.transformedElement=r,this.baseElement=r,this.innerElem=r,this.maskedElement=this.imageElem}else styleDiv(e),this.layerElement=e,this.baseElement=e,this.innerElem=e,this.transformedElement=e;e.src=t,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),this.checkParenting()},HImageElement.prototype.show=HSolidElement.prototype.show,HImageElement.prototype.hide=HSolidElement.prototype.hide,HImageElement.prototype.renderFrame=HSolidElement.prototype.renderFrame,HImageElement.prototype.destroy=HSolidElement.prototype.destroy,createElement(HBaseElement,HCameraElement),HCameraElement.prototype.setup=function(){var t,e,r=this.comp.threeDElements.length;for(t=0;r>t;t+=1)e=this.comp.threeDElements[t],e.perspectiveElem.style.perspective=e.perspectiveElem.style.webkitPerspective=this.pe.v+"px",e.container.style.transformOrigin=e.container.style.mozTransformOrigin=e.container.style.webkitTransformOrigin="0px 0px 0px",e.perspectiveElem.style.transform=e.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,r=this.firstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;e>t;t+=1)r=this.hierarchy[t].finalTransform.mProp.mdf?!0:r;if(r||this.p&&this.p.mdf||this.px&&(this.px.mdf||this.py.mdf||this.pz.mdf)||this.rx.mdf||this.ry.mdf||this.rz.mdf||this.or.mdf||this.a&&this.a.mdf){if(this.mat.reset(),this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var s=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]],i=Math.sqrt(Math.pow(s[0],2)+Math.pow(s[1],2)+Math.pow(s[2],2)),a=[s[0]/i,s[1]/i,s[2]/i],n=Math.sqrt(a[2]*a[2]+a[0]*a[0]),o=Math.atan2(a[1],n),h=Math.atan2(a[0],-a[2]);this.mat.rotateY(h).rotateX(-o)}if(this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v),this.hierarchy){var l;for(e=this.hierarchy.length,t=0;e>t;t+=1)l=this.hierarchy[t].finalTransform.mProp.iv.props,this.mat.transform(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],-l[12],-l[13],l[14],l[15])}e=this.comp.threeDElements.length;var p;for(t=0;e>t;t+=1)p=this.comp.threeDElements[t],p.container.style.transform=p.container.style.webkitTransform=this.mat.toCSS()}this.firstFrame=!1},HCameraElement.prototype.destroy=function(){};var Expressions=function(){function t(t){t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer)}var e={};return e.initExpressions=t,e}();expressionsPlugin=Expressions,function(){function t(){return this.pv}function e(t,e,r){if(!this.k||!this.keyframes)return this.pv;var s=this.comp.renderedFrame,i=this.keyframes,a=i[i.length-1].t;if(a>=s)return this.pv;var n,o;r?(n=e?Math.abs(a-elem.comp.globalData.frameRate*e):Math.max(0,a-this.elem.data.ip),o=a-n):((!e||e>i.length-1)&&(e=i.length-1),o=i[i.length-1-e].t,n=a-o);var h,l,p,m=this.offsetTime||0;if("pingpong"===t.toLowerCase()){var f=Math.floor((s-o)/n);if(f%2!==0)return this.getValueAtTime((n-(s-o)%n+o-m)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var c=this.getValueAtTime(o/this.comp.globalData.frameRate,0),d=this.getValueAtTime(a/this.comp.globalData.frameRate,0),u=this.getValueAtTime(((s-o)%n+o)/this.comp.globalData.frameRate,0),y=Math.floor((s-o)/n);if(this.pv.length){for(p=new Array(c.length),l=p.length,h=0;l>h;h+=1)p[h]=(d[h]-c[h])*y+u[h];return p}return(d-c)*y+u}if("continue"===t){var g=this.getValueAtTime(a/this.comp.globalData.frameRate,0),v=this.getValueAtTime((a-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(p=new Array(g.length),l=p.length,h=0;l>h;h+=1)p[h]=g[h]+(g[h]-v[h])*((s-a)/this.comp.globalData.frameRate)/5e-4;return p}return g+(g-v)*((s-a)/.001)}}return this.getValueAtTime(((s-o)%n+o-m)/this.comp.globalData.frameRate,0)}function r(t,e,r){if(!this.k)return this.pv;var s=time*elem.comp.globalData.frameRate,i=this.keyframes,a=i[0].t,n=this.offsetTime||0;if(s>=a)return this.pv;var o,h;r?(o=e?Math.abs(elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-a),h=a+o):((!e||e>i.length-1)&&(e=i.length-1),h=i[e].t,o=h-a);var l,p,m;if("pingpong"===t){var f=Math.floor((a-s)/o);if(f%2===0)return this.getValueAtTime(((a-s)%o+a-n)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var c=this.getValueAtTime(a/this.comp.globalData.frameRate,0),d=this.getValueAtTime(h/this.comp.globalData.frameRate,0),u=this.getValueAtTime((o-(a-s)%o+a)/this.comp.globalData.frameRate,0),y=Math.floor((a-s)/o)+1;if(this.pv.length){for(m=new Array(c.length),p=m.length,l=0;p>l;l+=1)m[l]=u[l]-(d[l]-c[l])*y;return m}return u-(d-c)*y}if("continue"===t){var g=this.getValueAtTime(a/this.comp.globalData.frameRate,0),v=this.getValueAtTime((a+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(m=new Array(g.length),p=m.length,l=0;p>l;l+=1)m[l]=g[l]+(g[l]-v[l])*(a-s)/.001;return m}return g+(g-v)*(a-s)/.001}}return this.getValueAtTime((o-(a-s)%o+a-n)/this.comp.globalData.frameRate,0)}function s(t){if(this._cachingAtTime||(this._cachingAtTime={lastValue:-99999,lastIndex:0}),t!==this._cachingAtTime.lastFrame){t*=this.elem.globalData.frameRate,t-=this.offsetTime;var e=this._caching.lastFrame<t?this._caching.lastIndex:0,r=this.interpolateValue(t,e,this.pv,this._cachingAtTime);this._cachingAtTime.lastIndex=r.iterationIndex,this._cachingAtTime.value=r.value,this._cachingAtTime.lastFrame=t}return this._cachingAtTime.value}function i(t){if(void 0!==this.vel)return this.vel;var e,r=-.01,s=this.getValueAtTime(t),i=this.getValueAtTime(t+r);if(s.length){e=Array.apply(null,{length:s.length});var a;for(a=0;a<s.length;a+=1)e[a]=(i[a]-s[a])/r}else e=(i-s)/r;return e}function a(t){this.propertyGroup=t}function n(t,e,r){e.x&&(r.k=!0,r.x=!0,r.getValue&&(r.getPreValue=r.getValue),r.getValue=ExpressionManager.initiateExpression.bind(r)(t,e,r))}function o(t){console.log("time:",t)}function h(t){}function l(t){if(this._shapeValueAtTime||(this._lastIndexAtTime=0,this._lastTimeAtTime=-999999,this._shapeValueAtTime=shape_pool.clone(this.pv)),t!==this._lastTimeAtTime){this._lastTimeAtTime=t,t*=this.elem.globalData.frameRate;var e=this.interpolateShape(t,this._lastIndexAtTime,this._shapeValueAtTime,!1);this._lastIndexAtTime=e.iterationIndex}return this._shapeValueAtTime}var p=function(){function e(t,e){return this.textIndex=t+1,this.textTotal=e,this.getValue(),this.v}return function(r,o){this.pv=1,this.comp=r.comp,this.elem=r,this.mult=.01,this.type="textSelector",this.textTotal=o.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],n.bind(this)(r,o,this),this.getMult=e,this.getVelocityAtTime=i,this.getValueAtTime=this.kf?s.bind(this):t.bind(this),this.setGroupProperty=a}}(),m=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,r){var s=m(t,e,r);return s.getValueAtTime=s.dynamicProperties.length?o.bind(s):h.bind(s),s.setGroupProperty=a,s};var f=PropertyFactory.getProp;PropertyFactory.getProp=function(o,h,l,p,m){var c=f(o,h,l,p,m);c.getValueAtTime=c.kf?s.bind(c):t.bind(c),c.setGroupProperty=a,c.loopOut=e,c.loopIn=r,c.getVelocityAtTime=i,c.numKeys=1===h.a?h.k.length:0;var d=c.k;return void 0!==h.ix&&Object.defineProperty(c,"propertyIndex",{get:function(){return h.ix}}),n(o,h,c),!d&&c.x&&m.push(c),c};var c=ShapePropertyFactory.getConstructorFunction(),d=ShapePropertyFactory.getKeyframedConstructorFunction();c.prototype.vertices=function(t,e){var r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0));var s,i=r._length,a=r[t],n=r.v,o=Array.apply(null,{length:i});for(s=0;i>s;s+=1)o[s]="i"===t||"o"===t?[a[s][0]-n[s][0],a[s][1]-n[s][1]]:[a[s][0],a[s][1]];return o},c.prototype.points=function(t){return this.vertices("v",t)},c.prototype.inTangents=function(t){return this.vertices("i",t)},c.prototype.outTangents=function(t){return this.vertices("o",t)},c.prototype.isClosed=function(){return this.v.c},c.prototype.pointOnPath=function(t,e){var r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(r));for(var s,i=this._segmentsLength,a=i.lengths,n=i.totalLength*t,o=0,h=a.length,l=0;h>o;){if(l+a[o].addedLength>n){s=a[o].segments;var p=o,m=r.c&&o===h-1?0:o+1,f=(n-l)/a[o].addedLength,c=bez.getPointInSegment(r.v[p],r.v[m],r.o[p],r.i[m],f,a[o]);break}l+=a[o].addedLength,o+=1}return c||(c=r.c?[r.v[0][0],r.v[0][1]]:[r.v[r._length-1][0],r.v[r._length-1][1]]),c},c.prototype.vectorOnPath=function(t,e,r){t=1==t?this.v.c?0:.999:t;var s=this.pointOnPath(t,e),i=this.pointOnPath(t+.001,e),a=i[0]-s[0],n=i[1]-s[1],o=Math.sqrt(Math.pow(a,2)+Math.pow(n,2)),h="tangent"===r?[a/o,n/o]:[-n/o,a/o];return h},c.prototype.tangentOnPath=function(t,e){return this.vectorOnPath(t,e,"tangent")},c.prototype.normalOnPath=function(t,e){return this.vectorOnPath(t,e,"normal")},c.prototype.setGroupProperty=a,c.prototype.getValueAtTime=t,d.prototype.vertices=c.prototype.vertices,d.prototype.points=c.prototype.points,d.prototype.inTangents=c.prototype.inTangents,d.prototype.outTangents=c.prototype.outTangents,d.prototype.isClosed=c.prototype.isClosed,d.prototype.pointOnPath=c.prototype.pointOnPath,d.prototype.vectorOnPath=c.prototype.vectorOnPath,d.prototype.tangentOnPath=c.prototype.tangentOnPath,d.prototype.normalOnPath=c.prototype.normalOnPath,d.prototype.setGroupProperty=c.prototype.setGroupProperty,d.prototype.getValueAtTime=l;var u=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,r,s,i){var a=u(t,e,r,s,i),o=a.k;return void 0!==e.ix&&Object.defineProperty(a,"propertyIndex",{get:function(){return e.ix}}),3===r?n(t,e.pt,a):4===r&&n(t,e.ks,a),!o&&a.x&&s.push(a),a};var y=TextSelectorProp.getTextSelectorProp;TextSelectorProp.getTextSelectorProp=function(t,e,r){return 1===e.t?new p(t,e,r):y(t,e,r)}}(),function(){function t(){return this.data.d.x?(this.comp=this.elem.comp,this.getValue&&(this.getPreValue=this.getValue),this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.getValue=this.getExpressionValue,!0):!1}TextProperty.prototype.searchProperty=function(){return this.kf=this.searchExpressions()||this.data.d.k.length>1,this.kf},TextProperty.prototype.getExpressionValue=function(t){this.calculateExpression(),this.mdf&&(this.currentData.t=this.v.toString(),this.completeTextData(this.currentData))},TextProperty.prototype.searchExpressions=t}();var ExpressionManager=function(){function duplicatePropertyValue(t,e){if(e=e||1,"number"==typeof t||t instanceof Number)return t*e;if(t.i)return JSON.parse(JSON.stringify(t));var r,s=Array.apply(null,{length:t.length}),i=t.length;for(r=0;i>r;r+=1)s[r]=t[r]*e;return s}function shapesEqual(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var r,s=t._length;for(r=0;s>r;r+=1)if(t.v[r][0]!==e.v[r][0]||t.v[r][1]!==e.v[r][1]||t.o[r][0]!==e.o[r][0]||t.o[r][1]!==e.o[r][1]||t.i[r][0]!==e.i[r][0]||t.i[r][1]!==e.i[r][1])return!1;return!0}function $bm_neg(t){var e=typeof t;if("number"===e||"boolean"===e||t instanceof Number)return-t;if(t.constructor===Array){var r,s=t.length,i=[];for(r=0;s>r;r+=1)i[r]=-t[r];return i}}function sum(t,e){var r=typeof t,s=typeof e;if("string"===r||"string"===s)return t+e;if(("number"===r||"boolean"===r||"string"===r||t instanceof Number)&&("number"===s||"boolean"===s||"string"===s||e instanceof Number))return t+e;if(t.constructor===Array&&("number"===s||"boolean"===s||"string"===s||e instanceof Number))return t[0]=t[0]+e,t;if(("number"===r||"boolean"===r||"string"===r||t instanceof Number)&&e.constructor===Array)return e[0]=t+e[0],e;if(t.constructor===Array&&e.constructor===Array){for(var i=0,a=t.length,n=e.length,o=[];a>i||n>i;)o[i]=("number"==typeof t[i]||t[i]instanceof Number)&&("number"==typeof e[i]||e[i]instanceof Number)?t[i]+e[i]:void 0==e[i]?t[i]:t[i]||e[i],i+=1;return o}return 0}function sub(t,e){var r=typeof t,s=typeof e;if(("number"===r||"boolean"===r||"string"===r||t instanceof Number)&&("number"===s||"boolean"===s||"string"===s||e instanceof Number))return"string"===r&&(t=parseInt(t)),
"string"===s&&(e=parseInt(e)),t-e;if(t.constructor===Array&&("number"===s||"boolean"===s||"string"===s||e instanceof Number))return t[0]=t[0]-e,t;if(("number"===r||"boolean"===r||"string"===r||t instanceof Number)&&e.constructor===Array)return e[0]=t-e[0],e;if(t.constructor===Array&&e.constructor===Array){for(var i=0,a=t.length,n=e.length,o=[];a>i||n>i;)o[i]="number"==typeof t[i]||t[i]instanceof Number?t[i]-e[i]:void 0==e[i]?t[i]:t[i]||e[i],i+=1;return o}return 0}function mul(t,e){var r,s=typeof t,i=typeof e;if(("number"===s||"boolean"===s||"string"===s||t instanceof Number)&&("number"===i||"boolean"===i||"string"===i||e instanceof Number))return t*e;var a,n;if(t.constructor===Array&&("number"===i||"boolean"===i||"string"===i||e instanceof Number)){for(n=t.length,r=Array.apply(null,{length:n}),a=0;n>a;a+=1)r[a]=t[a]*e;return r}if(("number"===s||"boolean"===s||"string"===s||t instanceof Number)&&e.constructor===Array){for(n=e.length,r=Array.apply(null,{length:n}),a=0;n>a;a+=1)r[a]=t*e[a];return r}return 0}function div(t,e){var r,s=typeof t,i=typeof e;if(("number"===s||"boolean"===s||"string"===s||t instanceof Number)&&("number"===i||"boolean"===i||"string"===i||e instanceof Number))return t/e;var a,n;if(t.constructor===Array&&("number"===i||"boolean"===i||"string"===i||e instanceof Number)){for(n=t.length,r=Array.apply(null,{length:n}),a=0;n>a;a+=1)r[a]=t[a]/e;return r}if(("number"===s||"boolean"===s||"string"===s||t instanceof Number)&&e.constructor===Array){for(n=e.length,r=Array.apply(null,{length:n}),a=0;n>a;a+=1)r[a]=t/e[a];return r}return 0}function mod(t,e){return"string"==typeof t&&(t=parseInt(t)),"string"==typeof e&&(e=parseInt(e)),t%e}function clamp(t,e,r){if(e>r){var s=r;r=e,e=s}return Math.min(Math.max(t,e),r)}function radiansToDegrees(t){return t/degToRads}function degreesToRadians(t){return t*degToRads}function length(t,e){if("number"==typeof t||t instanceof Number)return e=e||0,Math.abs(t-e);e||(e=helperLengthArray);var r,s=Math.min(t.length,e.length),i=0;for(r=0;s>r;r+=1)i+=Math.pow(e[r]-t[r],2);return Math.sqrt(i)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,r,s=t[0],i=t[1],a=t[2],n=Math.max(s,i,a),o=Math.min(s,i,a),h=(n+o)/2;if(n==o)e=r=0;else{var l=n-o;switch(r=h>.5?l/(2-n-o):l/(n+o),n){case s:e=(i-a)/l+(a>i?6:0);break;case i:e=(a-s)/l+2;break;case a:e=(s-i)/l+4}e/=6}return[e,r,h,t[3]]}function hslToRgb(t){function e(t,e,r){return 0>r&&(r+=1),r>1&&(r-=1),1/6>r?t+6*(e-t)*r:.5>r?e:2/3>r?t+(e-t)*(2/3-r)*6:t}var r,s,i,a=t[0],n=t[1],o=t[2];if(0==n)r=s=i=o;else{var h=.5>o?o*(1+n):o+n-o*n,l=2*o-h;r=e(l,h,a+1/3),s=e(l,h,a),i=e(l,h,a-1/3)}return[r,s,i,t[3]]}function linear(t,e,r,s,i){if(void 0===s||void 0===i)return linear(t,0,1,e,r);if(e>=t)return s;if(t>=r)return i;var a=r===e?0:(t-e)/(r-e);if(!s.length)return s+(i-s)*a;var n,o=s.length,h=Array.apply(null,{length:o});for(n=0;o>n;n+=1)h[n]=s[n]+(i[n]-s[n])*a;return h}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var r,s=e.length;t||(t=Array.apply(null,{length:s}));var i=Array.apply(null,{length:s}),a=BMMath.random();for(r=0;s>r;r+=1)i[r]=t[r]+a*(e[r]-t[r]);return i}void 0===t&&(t=0);var n=BMMath.random();return t+n*(e-t)}function createPath(t,e,r,s){e=e&&e.length?e:t,r=r&&r.length?r:t;var a=shape_pool.newShape(),n=t.length;for(a.setPathData(s,n),i=0;i<n;i+=1)a.setTripleAt(t[i][0],t[i][1],r[i][0]+t[i][0],r[i][1]+t[i][1],e[i][0]+t[i][0],e[i][1]+t[i][1],i,!0);return a}function initiateExpression(elem,data,property){function lookAt(t,e){var r=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],s=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads,i=-Math.atan2(r[1],r[2])/degToRads;return[i,s,0]}function easeOut(t,e,r){return-(r-e)*t*(t-2)+e}function nearestKey(t){var e,r,s,i=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(r=-1,t*=elem.comp.globalData.frameRate,t<data.k[0].t)r=1,s=data.k[0].t;else{for(e=0;i-1>e;e+=1){if(t===data.k[e].t){r=e+1,s=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(r=e+2,s=data.k[e+1].t):(r=e+1,s=data.k[e].t);break}}-1===r&&(r=e+1,s=data.k[e].t)}else r=0,s=0;var a={};return a.index=r,a.time=s/elem.comp.globalData.frameRate,a}function key(t){var e,r,s;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate};var i;for(i=t!==data.k.length-1||data.k[t].h?data.k[t].s:data.k[t-1].e,s=i.length,r=0;s>r;r+=1)e[r]=i[r];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function executeExpression(){if(_needsRandom&&seedRandom(randSeed),this.frameExpressionId!==elem.globalData.frameId||"textSelector"===this.type){if(this.lock)return this.v=duplicatePropertyValue(this.pv,this.mult),!0;"textSelector"===this.type&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),anchorPoint=transform.anchorPoint),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!(!elem.hierarchy||!elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),this.lock=!0,this.getPreValue&&this.getPreValue(),value=this.pv,time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),bindedFn(),this.frameExpressionId=elem.globalData.frameId;var t,e;if(this.mult)if("number"==typeof this.v||this.v instanceof Number||this.v instanceof String||"string"==typeof this.v)this.v*=this.mult;else if(1===this.v.length)this.v=this.v[0]*this.mult;else for(e=this.v.length,value===this.v&&(this.v=2===e?[value[0],value[1]]:[value[0],value[1],value[2]]),t=0;e>t;t+=1)this.v[t]*=this.mult;if(1===this.v.length&&(this.v=this.v[0]),"number"==typeof this.v||this.v instanceof Number||this.v instanceof String||"string"==typeof this.v)this.lastValue!==this.v&&(this.lastValue=this.v,this.mdf=!0);else if(this.v._length)shapesEqual(this.v,this.localShapeCollection.shapes[0])||(this.mdf=!0,this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(shape_pool.clone(this.v)));else for(e=this.v.length,t=0;e>t;t+=1)this.v[t]!==this.lastValue[t]&&(this.lastValue[t]=this.v[t],this.mdf=!0);this.lock=!1}}var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,content,effect,thisComp=elem.comp,thisProperty=property;elem.comp.frameDuration=1/elem.comp.globalData.frameRate;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,loopIn,loop_in,loopOut,loop_out,toWorld,fromWorld,fromComp,fromCompToSurface,anchorPoint,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,fn=new Function,fn=eval("[function(){"+val+";if($bm_rt.__shapeObject){this.v=shape_pool.clone($bm_rt.v);}else{this.v=$bm_rt;}}]")[0],bindedFn=fn.bind(this),numKeys=property.kf?data.k.length:0,wiggle=function(t,e){var r,s,i=this.pv.length?this.pv.length:1,a=Array.apply(null,{len:i});for(s=0;i>s;s+=1)a[s]=0;t=5;var n=Math.floor(time*t);for(r=0,s=0;n>r;){for(s=0;i>s;s+=1)a[s]+=-e+2*e*BMMath.random();r+=1}var o=time*t,h=o-Math.floor(o),l=Array.apply({length:i});if(i>1){for(s=0;i>s;s+=1)l[s]=this.pv[s]+a[s]+(-e+2*e*BMMath.random())*h;return l}return this.pv+a[0]+(-e+2*e*BMMath.random())*h}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut);var loopInDuration=function(t,e){return loopIn(t,e,!0)}.bind(this),loopOutDuration=function(t,e){return loopOut(t,e,!0)}.bind(this);this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random());return executeExpression}var ob={},Math=BMMath,window=null,document=null,add=sum,radians_to_degrees=radiansToDegrees,degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];return ob.initiateExpression=initiateExpression,ob}(),ShapeExpressionInterface=function(){function t(t,e,r){return d(t,e,r)}function e(t,e,r){return y(t,e,r)}function r(t,e,r){return g(t,e,r)}function s(t,e,r){return v(t,e,r)}function i(t,e,r){return b(t,e,r)}function a(t,e,r){return E(t,e,r)}function n(t,e,r){return P(t,e,r)}function o(t,e,r){return x(t,e,r)}function h(t,e,r){return S(t,e,r)}function l(t,e,r){return C(t,e,r)}function p(t,e,r){return k(t,e,r)}function m(t,e,r){return A(t,e,r)}function f(t,e,r){var s,i=[],a=t?t.length:0;for(s=0;a>s;s+=1)"gr"==t[s].ty?i.push(ShapeExpressionInterface.createGroupInterface(t[s],e[s],r)):"fl"==t[s].ty?i.push(ShapeExpressionInterface.createFillInterface(t[s],e[s],r)):"st"==t[s].ty?i.push(ShapeExpressionInterface.createStrokeInterface(t[s],e[s],r)):"tm"==t[s].ty?i.push(ShapeExpressionInterface.createTrimInterface(t[s],e[s],r)):"tr"==t[s].ty||("el"==t[s].ty?i.push(ShapeExpressionInterface.createEllipseInterface(t[s],e[s],r)):"sr"==t[s].ty?i.push(ShapeExpressionInterface.createStarInterface(t[s],e[s],r)):"sh"==t[s].ty?i.push(ShapeExpressionInterface.createPathInterface(t[s],e[s],r)):"rc"==t[s].ty?i.push(ShapeExpressionInterface.createRectInterface(t[s],e[s],r)):"rd"==t[s].ty?i.push(ShapeExpressionInterface.createRoundedInterface(t[s],e[s],r)):"rp"==t[s].ty&&i.push(ShapeExpressionInterface.createRepatearInterface(t[s],e[s],r)));return i}var c={createShapeInterface:t,createGroupInterface:e,createTrimInterface:i,createStrokeInterface:s,createTransformInterface:a,createEllipseInterface:n,createStarInterface:o,createRectInterface:h,createRoundedInterface:l,createRepatearInterface:p,createPathInterface:m,createFillInterface:r},d=function(){return function(t,e,r){function s(t){if("number"==typeof t)return i[t-1];for(var e=0,r=i.length;r>e;){if(i[e]._name===t)return i[e];e+=1}}var i;return s.propertyGroup=r,i=f(t,e,s),s}}(),u=function(){return function(t,e,r){var s,i=function(t){for(var e=0,r=s.length;r>e;){if(s[e]._name===t||s[e].mn===t||s[e].propertyIndex===t||s[e].ix===t||s[e].ind===t)return s[e];e+=1}return"number"==typeof t?s[t-1]:void 0};return i.propertyGroup=function(t){return 1===t?i:r(t-1)},s=f(t.it,e.it,i.propertyGroup),i.numProperties=s.length,i.propertyIndex=t.cix,i}}(),y=function(){return function(t,e,r){var s=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return s.content;case"ADBE Vector Transform Group":case 3:default:return s.transform}};s.propertyGroup=function(t){return 1===t?s:r(t-1)};var i=u(t,e,s.propertyGroup),a=ShapeExpressionInterface.createTransformInterface(t.it[t.it.length-1],e.it[e.it.length-1],s.propertyGroup);return s.content=i,s.transform=a,Object.defineProperty(s,"_name",{get:function(){return t.nm}}),s.numProperties=t.np,s.propertyIndex=t.ix,s.nm=t.nm,s.mn=t.mn,s}}(),g=function(){return function(t,e,r){function s(t){return"Color"===t||"color"===t?s.color:"Opacity"===t||"opacity"===t?s.opacity:void 0}return Object.defineProperty(s,"color",{get:function(){return ExpressionValue(e.c,1/e.c.mult,"color")}}),Object.defineProperty(s,"opacity",{get:function(){return ExpressionValue(e.o,100)}}),Object.defineProperty(s,"_name",{value:t.nm}),Object.defineProperty(s,"mn",{value:t.mn}),e.c.setGroupProperty(r),e.o.setGroupProperty(r),s}}(),v=function(){return function(t,e,r){function s(t){return 1===t?c:r(t-1)}function i(t){return 1===t?l:s(t-1)}function a(r){Object.defineProperty(l,t.d[r].nm,{get:function(){return ExpressionValue(e.d.dataProps[r].p)}})}function n(t){return"Color"===t||"color"===t?n.color:"Opacity"===t||"opacity"===t?n.opacity:"Stroke Width"===t||"stroke width"===t?n.strokeWidth:void 0}var o,h=t.d?t.d.length:0,l={};for(o=0;h>o;o+=1)a(o),e.d.dataProps[o].p.setGroupProperty(i);return Object.defineProperty(n,"color",{get:function(){return ExpressionValue(e.c,1/e.c.mult,"color")}}),Object.defineProperty(n,"opacity",{get:function(){return ExpressionValue(e.o,100)}}),Object.defineProperty(n,"strokeWidth",{get:function(){return ExpressionValue(e.w)}}),Object.defineProperty(n,"dash",{get:function(){return l}}),Object.defineProperty(n,"_name",{value:t.nm}),Object.defineProperty(n,"mn",{value:t.mn}),e.c.setGroupProperty(s),e.o.setGroupProperty(s),e.w.setGroupProperty(s),n}}(),b=function(){return function(t,e,r){function s(t){return 1==t?i:r(--t)}function i(e){return e===t.e.ix||"End"===e||"end"===e?i.end:e===t.s.ix?i.start:e===t.o.ix?i.offset:void 0}return i.propertyIndex=t.ix,e.s.setGroupProperty(s),e.e.setGroupProperty(s),e.o.setGroupProperty(s),i.propertyIndex=t.ix,Object.defineProperty(i,"start",{get:function(){return ExpressionValue(e.s,1/e.s.mult)}}),Object.defineProperty(i,"end",{get:function(){return ExpressionValue(e.e,1/e.e.mult)}}),Object.defineProperty(i,"offset",{get:function(){return ExpressionValue(e.o)}}),Object.defineProperty(i,"_name",{get:function(){return t.nm}}),i.mn=t.mn,i}}(),E=function(){return function(t,e,r){function s(t){return 1==t?i:r(--t)}function i(e){return t.a.ix===e?i.anchorPoint:t.o.ix===e?i.opacity:t.p.ix===e?i.position:t.r.ix===e?i.rotation:t.s.ix===e?i.scale:t.sk&&t.sk.ix===e?i.skew:t.sa&&t.sa.ix===e?i.skewAxis:"Opacity"===e?i.opacity:"Position"===e?i.position:"Anchor Point"===e?i.anchorPoint:"Scale"===e?i.scale:"Rotation"===e||"ADBE Vector Rotation"===e?i.rotation:"Skew"===e?i.skew:"Skew Axis"===e?i.skewAxis:void 0}e.transform.mProps.o.setGroupProperty(s),e.transform.mProps.p.setGroupProperty(s),e.transform.mProps.a.setGroupProperty(s),e.transform.mProps.s.setGroupProperty(s),e.transform.mProps.r.setGroupProperty(s),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(s),e.transform.mProps.sa.setGroupProperty(s)),e.transform.op.setGroupProperty(s),Object.defineProperty(i,"opacity",{get:function(){return ExpressionValue(e.transform.mProps.o,1/e.transform.mProps.o.mult)}}),Object.defineProperty(i,"position",{get:function(){return ExpressionValue(e.transform.mProps.p)}}),Object.defineProperty(i,"anchorPoint",{get:function(){return ExpressionValue(e.transform.mProps.a)}});return Object.defineProperty(i,"scale",{get:function(){return ExpressionValue(e.transform.mProps.s,1/e.transform.mProps.s.mult)}}),Object.defineProperty(i,"rotation",{get:function(){return ExpressionValue(e.transform.mProps.r,1/e.transform.mProps.r.mult)}}),Object.defineProperty(i,"skew",{get:function(){return ExpressionValue(e.transform.mProps.sk)}}),Object.defineProperty(i,"skewAxis",{get:function(){return ExpressionValue(e.transform.mProps.sa)}}),Object.defineProperty(i,"_name",{get:function(){return t.nm}}),i.ty="tr",i.mn=t.mn,i}}(),P=function(){return function(t,e,r){function s(t){return 1==t?i:r(--t)}function i(e){return t.p.ix===e?i.position:t.s.ix===e?i.size:void 0}i.propertyIndex=t.ix;var a="tm"===e.sh.ty?e.sh.prop:e.sh;return a.s.setGroupProperty(s),a.p.setGroupProperty(s),Object.defineProperty(i,"size",{get:function(){return ExpressionValue(a.s)}}),Object.defineProperty(i,"position",{get:function(){return ExpressionValue(a.p)}}),Object.defineProperty(i,"_name",{get:function(){return t.nm}}),i.mn=t.mn,i}}(),x=function(){return function(t,e,r){function s(t){return 1==t?i:r(--t)}function i(e){return t.p.ix===e?i.position:t.r.ix===e?i.rotation:t.pt.ix===e?i.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?i.outerRadius:t.os.ix===e?i.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?i.innerRoundness:void 0:i.innerRadius}var a="tm"===e.sh.ty?e.sh.prop:e.sh;return i.propertyIndex=t.ix,a.or.setGroupProperty(s),a.os.setGroupProperty(s),a.pt.setGroupProperty(s),a.p.setGroupProperty(s),a.r.setGroupProperty(s),t.ir&&(a.ir.setGroupProperty(s),a.is.setGroupProperty(s)),Object.defineProperty(i,"position",{get:function(){return ExpressionValue(a.p)}}),Object.defineProperty(i,"rotation",{get:function(){return ExpressionValue(a.r,1/a.r.mult)}}),Object.defineProperty(i,"points",{get:function(){return ExpressionValue(a.pt)}}),Object.defineProperty(i,"outerRadius",{get:function(){return ExpressionValue(a.or)}}),Object.defineProperty(i,"outerRoundness",{get:function(){return ExpressionValue(a.os)}}),Object.defineProperty(i,"innerRadius",{get:function(){return a.ir?ExpressionValue(a.ir):0}}),Object.defineProperty(i,"innerRoundness",{get:function(){return a.is?ExpressionValue(a.is,1/a.is.mult):0}}),Object.defineProperty(i,"_name",{get:function(){return t.nm}}),i.mn=t.mn,i}}(),S=function(){return function(t,e,r){function s(t){return 1==t?i:r(--t)}function i(e){return t.p.ix===e?i.position:t.r.ix===e?i.roundness:t.s.ix===e||"Size"===e?i.size:void 0}var a="tm"===e.sh.ty?e.sh.prop:e.sh;return i.propertyIndex=t.ix,a.p.setGroupProperty(s),a.s.setGroupProperty(s),a.r.setGroupProperty(s),Object.defineProperty(i,"position",{get:function(){return ExpressionValue(a.p)}}),Object.defineProperty(i,"roundness",{get:function(){return ExpressionValue(a.r)}}),Object.defineProperty(i,"size",{get:function(){return ExpressionValue(a.s)}}),Object.defineProperty(i,"_name",{get:function(){return t.nm}}),i.mn=t.mn,i}}(),C=function(){return function(t,e,r){function s(t){return 1==t?i:r(--t)}function i(e){return t.r.ix===e||"Round Corners 1"===e?i.radius:void 0}var a=e;return i.propertyIndex=t.ix,a.rd.setGroupProperty(s),Object.defineProperty(i,"radius",{get:function(){return ExpressionValue(a.rd)}}),Object.defineProperty(i,"_name",{get:function(){return t.nm}}),i.mn=t.mn,i}}(),k=function(){return function(t,e,r){function s(t){return 1==t?i:r(--t)}function i(e){return t.c.ix===e||"Copies"===e?i.copies:t.o.ix===e||"Offset"===e?i.offset:void 0}var a=e;return i.propertyIndex=t.ix,a.c.setGroupProperty(s),a.o.setGroupProperty(s),Object.defineProperty(i,"copies",{get:function(){return ExpressionValue(a.c)}}),Object.defineProperty(i,"offset",{get:function(){return ExpressionValue(a.o)}}),Object.defineProperty(i,"_name",{get:function(){return t.nm}}),i.mn=t.mn,i}}(),A=function(){return function(t,e,r){function s(t){return 1==t?i:r(--t)}function i(t){return"Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t?i.path:void 0}var a=e.sh;return a.setGroupProperty(s),Object.defineProperty(i,"path",{get:function(){return a.k&&a.getValue(),a}}),Object.defineProperty(i,"shape",{get:function(){return a.k&&a.getValue(),a}}),Object.defineProperty(i,"_name",{value:t.nm}),Object.defineProperty(i,"ix",{value:t.ix}),Object.defineProperty(i,"mn",{value:t.mn}),i}}();return c}(),TextExpressionInterface=function(){return function(t){function e(){}var r,s;return Object.defineProperty(e,"sourceText",{get:function(){var e=t.textProperty.currentData.t;return t.textProperty.currentData.t!==r&&(t.textProperty.currentData.t=r,s=new String(e),s.value=e?e:new String(e)),s}}),e}}(),LayerExpressionInterface=function(){function t(t,e){var r=new Matrix;r.reset();var s;if(s=e?this._elem.finalTransform.mProp:this._elem.finalTransform.mProp,s.applyToMatrix(r),this._elem.hierarchy&&this._elem.hierarchy.length){var i,a=this._elem.hierarchy.length;for(i=0;a>i;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(r);return r.applyToPointArray(t[0],t[1],t[2]||0)}return r.applyToPointArray(t[0],t[1],t[2]||0)}function e(t,e){var r=new Matrix;r.reset();var s;if(s=e?this._elem.finalTransform.mProp:this._elem.finalTransform.mProp,s.applyToMatrix(r),this._elem.hierarchy&&this._elem.hierarchy.length){var i,a=this._elem.hierarchy.length;for(i=0;a>i;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(r);return r.inversePoint(t)}return r.inversePoint(t)}function r(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var r,s=this._elem.hierarchy.length;for(r=0;s>r;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}return function(s){function i(t){n.mask=new MaskManagerInterface(t,s)}function a(t){n.effect=t}function n(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return n.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return o;case 4:case"ADBE Effect Parade":return n.effect}}var o=TransformExpressionInterface(s.transform);return n.toWorld=t,n.fromWorld=e,n.toComp=t,n.fromComp=r,n.sourceRectAtTime=s.sourceRectAtTime.bind(s),n._elem=s,Object.defineProperty(n,"hasParent",{get:function(){return!!s.hierarchy}}),Object.defineProperty(n,"parent",{get:function(){return s.hierarchy[0].layerInterface}}),Object.defineProperty(n,"rotation",{get:function(){return o.rotation}}),Object.defineProperty(n,"scale",{get:function(){return o.scale}}),Object.defineProperty(n,"position",{get:function(){return o.position}}),Object.defineProperty(n,"anchorPoint",{get:function(){return o.anchorPoint}}),Object.defineProperty(n,"transform",{get:function(){return o}}),Object.defineProperty(n,"width",{get:function(){return 0===s.data.ty?s.data.w:100}}),Object.defineProperty(n,"height",{get:function(){return 0===s.data.ty?s.data.h:100}}),Object.defineProperty(n,"source",{get:function(){return s.data.refId}}),Object.defineProperty(n,"index",{get:function(){return s.data.ind}}),Object.defineProperty(n,"_name",{value:s.data.nm}),Object.defineProperty(n,"content",{get:function(){return n.shapeInterface}}),Object.defineProperty(n,"active",{get:function(){return s.isVisible}}),Object.defineProperty(n,"text",{get:function(){return n.textInterface}}),n.registerMaskInterface=i,n.registerEffectsInterface=a,n}}(),CompExpressionInterface=function(){return function(t){function e(e){for(var r=0,s=t.layers.length;s>r;){if(t.layers[r].nm===e||t.layers[r].ind===e)return t.elements[r].layerInterface;r+=1}return{active:!1}}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.globalData.compSize.h,e.width=t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e}}(),TransformExpressionInterface=function(){return function(t){function e(r){switch(r){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity}}return Object.defineProperty(e,"rotation",{get:function(){return t.rotation}}),Object.defineProperty(e,"scale",{get:function(){return t.scale}}),Object.defineProperty(e,"position",{get:function(){return t.position}}),Object.defineProperty(e,"xPosition",{get:function(){return t.xPosition}}),Object.defineProperty(e,"yPosition",{get:function(){return t.yPosition}}),Object.defineProperty(e,"anchorPoint",{get:function(){return t.anchorPoint}}),Object.defineProperty(e,"opacity",{get:function(){return t.opacity}}),Object.defineProperty(e,"skew",{get:function(){return t.skew}}),Object.defineProperty(e,"skewAxis",{get:function(){return t.skewAxis}}),e}}(),ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,r=this.compositions.length;r>e;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),EffectsExpressionInterface=function(){function t(t,r){if(t.effects){var s,i=[],a=t.data.ef,n=t.effects.effectElements.length;for(s=0;n>s;s+=1)i.push(e(a[s],t.effects.effectElements[s],r,t));return function(e){for(var r=t.data.ef,s=0,a=r.length;a>s;){if(e===r[s].nm||e===r[s].mn||e===r[s].ix)return i[s];s+=1}}}}function e(t,s,i,a){function n(t){return 1===t?p:i(t-1)}var o,h=[],l=t.ef.length;for(o=0;l>o;o+=1)h.push(5===t.ef[o].ty?e(t.ef[o],s.effectElements[o],s.effectElements[o].propertyGroup,a):r(s.effectElements[o],t.ef[o].ty,a,n));var p=function(e){for(var r=t.ef,s=0,i=r.length;i>s;){if(e===r[s].nm||e===r[s].mn||e===r[s].ix)return 5===r[s].ty?h[s]:h[s]();s+=1}return h[0]()};return p.propertyGroup=n,"ADBE Color Control"===t.mn&&Object.defineProperty(p,"color",{get:function(){return h[0]()}}),Object.defineProperty(p,"numProperties",{get:function(){return t.np}}),p.active=0!==t.en,p}function r(t,e,r,s){function i(){return 10===e?r.comp.compInterface(t.p.v):ExpressionValue(t.p)}return t.p.setGroupProperty&&t.p.setGroupProperty(s),i}var s={createEffectsInterface:t};return s}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}});var e=function(e,r){var s,i=Array.apply(null,{length:e.viewData.length}),a=e.viewData.length;for(s=0;a>s;s+=1)i[s]=new t(e.viewData[s],e.masksProperties[s]);var n=function(t){for(s=0;a>s;){if(e.masksProperties[s].nm===t)return i[s];s+=1}};return n};return e}(),ExpressionValue=function(){return function(t,e,r){var s;t.k&&t.getValue();var i,a,n;if(r){if("color"===r){for(a=4,s=Array.apply(null,{length:a}),n=Array.apply(null,{length:a}),i=0;a>i;i+=1)s[i]=n[i]=e&&3>i?t.v[i]*e:1;s.value=n}}else if("number"==typeof t.v||t.v instanceof Number)s=new Number(e?t.v*e:t.v),s.value=e?t.v*e:t.v;else{for(a=t.v.length,s=Array.apply(null,{length:a}),n=Array.apply(null,{length:a}),i=0;a>i;i+=1)s[i]=n[i]=e?t.v[i]*e:t.v[i];s.value=n}return s.numKeys=t.keyframes?t.keyframes.length:0,s.key=function(e){return s.numKeys?t.keyframes[e-1].t:0},s.valueAtTime=t.getValueAtTime,s.propertyGroup=t.propertyGroup,s}}();GroupEffect.prototype.getValue=function(){this.mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;e>t;t+=1)this.dynamicProperties[t].getValue(),this.mdf=this.dynamicProperties[t].mdf?!0:this.mdf},GroupEffect.prototype.init=function(t,e,r){this.data=t,this.mdf=!1,this.effectElements=[];var s,i,a=this.data.ef.length,n=this.data.ef;for(s=0;a>s;s+=1)switch(n[s].ty){case 0:i=new SliderEffect(n[s],e,r),this.effectElements.push(i);break;case 1:i=new AngleEffect(n[s],e,r),this.effectElements.push(i);break;case 2:i=new ColorEffect(n[s],e,r),this.effectElements.push(i);break;case 3:i=new PointEffect(n[s],e,r),this.effectElements.push(i);break;case 4:case 7:i=new CheckboxEffect(n[s],e,r),this.effectElements.push(i);break;case 10:i=new LayerIndexEffect(n[s],e,r),this.effectElements.push(i);break;case 11:i=new MaskIndexEffect(n[s],e,r),this.effectElements.push(i);break;case 5:i=new EffectsManager(n[s],e,r),this.effectElements.push(i);break;case 6:i=new NoValueEffect(n[s],e,r),this.effectElements.push(i)}};var lottiejs={};lottiejs.play=play,lottiejs.pause=pause,lottiejs.setLocationHref=setLocationHref,lottiejs.togglePause=togglePause,lottiejs.setSpeed=setSpeed,lottiejs.setDirection=setDirection,lottiejs.stop=stop,lottiejs.moveFrame=moveFrame,lottiejs.searchAnimations=searchAnimations,lottiejs.registerAnimation=registerAnimation,lottiejs.loadAnimation=loadAnimation,lottiejs.setSubframeRendering=setSubframeRendering,lottiejs.resize=resize,lottiejs.start=start,lottiejs.goToAndStop=goToAndStop,lottiejs.destroy=destroy,lottiejs.setQuality=setQuality,lottiejs.inBrowser=inBrowser,lottiejs.installPlugin=installPlugin,lottiejs.__getFactory=getFactory,lottiejs.version="5.0.0";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src.replace(/^[^\?]+\??/,"");renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottiejs});
},{}],"myModule":[function(require,module,exports){
exports.myVar = "myVariable";

exports.myFunction = function() {
  return print("myFunction is running");
};

exports.myArray = [1, 2, 3];


},{}]},{},[])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnJhbWVyLm1vZHVsZXMuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL1VzZXJzL3NoaW5ha2FqL0Rlc2t0b3AvRHJpYmJibGUvRGFpbHlfVUkvIzAxNyBFbWFpbCBSZWNlaXB0LyMwMTcgRW1haWwgUmVjZWlwdC5mcmFtZXIvbW9kdWxlcy9teU1vZHVsZS5jb2ZmZWUiLCIuLi8uLi8uLi8uLi8uLi9Vc2Vycy9zaGluYWthai9EZXNrdG9wL0RyaWJiYmxlL0RhaWx5X1VJLyMwMTcgRW1haWwgUmVjZWlwdC8jMDE3IEVtYWlsIFJlY2VpcHQuZnJhbWVyL21vZHVsZXMvbG90dGllLm1pbi5qcyIsIi4uLy4uLy4uLy4uLy4uL1VzZXJzL3NoaW5ha2FqL0Rlc2t0b3AvRHJpYmJibGUvRGFpbHlfVUkvIzAxNyBFbWFpbCBSZWNlaXB0LyMwMTcgRW1haWwgUmVjZWlwdC5mcmFtZXIvbW9kdWxlcy9Mb3R0aWVMYXllci5jb2ZmZWUiLCJub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiMgQWRkIHRoZSBmb2xsb3dpbmcgbGluZSB0byB5b3VyIHByb2plY3QgaW4gRnJhbWVyIFN0dWRpby4gXG4jIG15TW9kdWxlID0gcmVxdWlyZSBcIm15TW9kdWxlXCJcbiMgUmVmZXJlbmNlIHRoZSBjb250ZW50cyBieSBuYW1lLCBsaWtlIG15TW9kdWxlLm15RnVuY3Rpb24oKSBvciBteU1vZHVsZS5teVZhclxuXG5leHBvcnRzLm15VmFyID0gXCJteVZhcmlhYmxlXCJcblxuZXhwb3J0cy5teUZ1bmN0aW9uID0gLT5cblx0cHJpbnQgXCJteUZ1bmN0aW9uIGlzIHJ1bm5pbmdcIlxuXG5leHBvcnRzLm15QXJyYXkgPSBbMSwgMiwgM10iLCIhZnVuY3Rpb24odCxlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGZ1bmN0aW9uKCl7cmV0dXJuIGUodCl9KTpcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lKHQpOih0LmxvdHRpZT1lKHQpLHQuYm9keW1vdmluPXQubG90dGllKX0od2luZG93fHx7fSxmdW5jdGlvbih3aW5kb3cpe2Z1bmN0aW9uIFByb2plY3RJbnRlcmZhY2UoKXtyZXR1cm57fX1mdW5jdGlvbiByb3VuZFZhbHVlcyh0KXtibV9ybmQ9dD9NYXRoLnJvdW5kOmZ1bmN0aW9uKHQpe3JldHVybiB0fX1mdW5jdGlvbiBzdHlsZURpdih0KXt0LnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0LnN0eWxlLnRvcD0wLHQuc3R5bGUubGVmdD0wLHQuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdC5zdHlsZS50cmFuc2Zvcm1PcmlnaW49dC5zdHlsZS53ZWJraXRUcmFuc2Zvcm1PcmlnaW49XCIwIDBcIix0LnN0eWxlLmJhY2tmYWNlVmlzaWJpbGl0eT10LnN0eWxlLndlYmtpdEJhY2tmYWNlVmlzaWJpbGl0eT1cInZpc2libGVcIix0LnN0eWxlLnRyYW5zZm9ybVN0eWxlPXQuc3R5bGUud2Via2l0VHJhbnNmb3JtU3R5bGU9dC5zdHlsZS5tb3pUcmFuc2Zvcm1TdHlsZT1cInByZXNlcnZlLTNkXCJ9ZnVuY3Rpb24gc3R5bGVVbnNlbGVjdGFibGVEaXYodCl7dC5zdHlsZS51c2VyU2VsZWN0PVwibm9uZVwiLHQuc3R5bGUuTW96VXNlclNlbGVjdD1cIm5vbmVcIix0LnN0eWxlLndlYmtpdFVzZXJTZWxlY3Q9XCJub25lXCIsdC5zdHlsZS5vVXNlclNlbGVjdD1cIm5vbmVcIn1mdW5jdGlvbiBCTUVudGVyRnJhbWVFdmVudCh0LGUscixzKXt0aGlzLnR5cGU9dCx0aGlzLmN1cnJlbnRUaW1lPWUsdGhpcy50b3RhbFRpbWU9cix0aGlzLmRpcmVjdGlvbj0wPnM/LTE6MX1mdW5jdGlvbiBCTUNvbXBsZXRlRXZlbnQodCxlKXt0aGlzLnR5cGU9dCx0aGlzLmRpcmVjdGlvbj0wPmU/LTE6MX1mdW5jdGlvbiBCTUNvbXBsZXRlTG9vcEV2ZW50KHQsZSxyLHMpe3RoaXMudHlwZT10LHRoaXMuY3VycmVudExvb3A9ZSx0aGlzLnRvdGFsTG9vcHM9cix0aGlzLmRpcmVjdGlvbj0wPnM/LTE6MX1mdW5jdGlvbiBCTVNlZ21lbnRTdGFydEV2ZW50KHQsZSxyKXt0aGlzLnR5cGU9dCx0aGlzLmZpcnN0RnJhbWU9ZSx0aGlzLnRvdGFsRnJhbWVzPXJ9ZnVuY3Rpb24gQk1EZXN0cm95RXZlbnQodCxlKXt0aGlzLnR5cGU9dCx0aGlzLnRhcmdldD1lfWZ1bmN0aW9uIF9hZGRFdmVudExpc3RlbmVyKHQsZSl7cmV0dXJuIHRoaXMuX2Nic1t0XXx8KHRoaXMuX2Nic1t0XT1bXSksdGhpcy5fY2JzW3RdLnB1c2goZSksZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxlKX0uYmluZCh0aGlzKX1mdW5jdGlvbiBfcmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUpe2lmKGUpe2lmKHRoaXMuX2Nic1t0XSl7Zm9yKHZhciByPTAscz10aGlzLl9jYnNbdF0ubGVuZ3RoO3M+cjspdGhpcy5fY2JzW3RdW3JdPT09ZSYmKHRoaXMuX2Nic1t0XS5zcGxpY2UociwxKSxyLT0xLHMtPTEpLHIrPTE7dGhpcy5fY2JzW3RdLmxlbmd0aHx8KHRoaXMuX2Nic1t0XT1udWxsKX19ZWxzZSB0aGlzLl9jYnNbdF09bnVsbH1mdW5jdGlvbiBfdHJpZ2dlckV2ZW50KHQsZSl7aWYodGhpcy5fY2JzW3RdKWZvcih2YXIgcj10aGlzLl9jYnNbdF0ubGVuZ3RoLHM9MDtyPnM7cysrKXRoaXMuX2Nic1t0XVtzXShlKX1mdW5jdGlvbiByYW5kb21TdHJpbmcodCxlKXt2b2lkIDA9PT1lJiYoZT1cImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVoxMjM0NTY3ODkwXCIpO3ZhciByLHM9XCJcIjtmb3Iocj10O3I+MDstLXIpcys9ZVtNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqKGUubGVuZ3RoLTEpKV07cmV0dXJuIHN9ZnVuY3Rpb24gSFNWdG9SR0IodCxlLHIpe3ZhciBzLGksYSxuLG8saCxsLHA7c3dpdGNoKDE9PT1hcmd1bWVudHMubGVuZ3RoJiYoZT10LnMscj10LnYsdD10LmgpLG49TWF0aC5mbG9vcig2KnQpLG89Nip0LW4saD1yKigxLWUpLGw9ciooMS1vKmUpLHA9ciooMS0oMS1vKSplKSxuJTYpe2Nhc2UgMDpzPXIsaT1wLGE9aDticmVhaztjYXNlIDE6cz1sLGk9cixhPWg7YnJlYWs7Y2FzZSAyOnM9aCxpPXIsYT1wO2JyZWFrO2Nhc2UgMzpzPWgsaT1sLGE9cjticmVhaztjYXNlIDQ6cz1wLGk9aCxhPXI7YnJlYWs7Y2FzZSA1OnM9cixpPWgsYT1sfXJldHVybltzLGksYV19ZnVuY3Rpb24gUkdCdG9IU1YodCxlLHIpezE9PT1hcmd1bWVudHMubGVuZ3RoJiYoZT10Lmcscj10LmIsdD10LnIpO3ZhciBzLGk9TWF0aC5tYXgodCxlLHIpLGE9TWF0aC5taW4odCxlLHIpLG49aS1hLG89MD09PWk/MDpuL2ksaD1pLzI1NTtzd2l0Y2goaSl7Y2FzZSBhOnM9MDticmVhaztjYXNlIHQ6cz1lLXIrbioocj5lPzY6MCkscy89NipuO2JyZWFrO2Nhc2UgZTpzPXItdCsyKm4scy89NipuO2JyZWFrO2Nhc2UgcjpzPXQtZSs0Km4scy89NipufXJldHVybltzLG8saF19ZnVuY3Rpb24gYWRkU2F0dXJhdGlvblRvUkdCKHQsZSl7dmFyIHI9UkdCdG9IU1YoMjU1KnRbMF0sMjU1KnRbMV0sMjU1KnRbMl0pO3JldHVybiByWzFdKz1lLHJbMV0+MT9yWzFdPTE6clsxXTw9MCYmKHJbMV09MCksSFNWdG9SR0IoclswXSxyWzFdLHJbMl0pfWZ1bmN0aW9uIGFkZEJyaWdodG5lc3NUb1JHQih0LGUpe3ZhciByPVJHQnRvSFNWKDI1NSp0WzBdLDI1NSp0WzFdLDI1NSp0WzJdKTtyZXR1cm4gclsyXSs9ZSxyWzJdPjE/clsyXT0xOnJbMl08MCYmKHJbMl09MCksSFNWdG9SR0IoclswXSxyWzFdLHJbMl0pfWZ1bmN0aW9uIGFkZEh1ZVRvUkdCKHQsZSl7dmFyIHI9UkdCdG9IU1YoMjU1KnRbMF0sMjU1KnRbMV0sMjU1KnRbMl0pO3JldHVybiByWzBdKz1lLzM2MCxyWzBdPjE/clswXS09MTpyWzBdPDAmJihyWzBdKz0xKSxIU1Z0b1JHQihyWzBdLHJbMV0sclsyXSl9ZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0LGUscil7aWYoIWUpe3ZhciBzPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUsciksaT17fTtyZXR1cm4gcyYmXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT09aS50b1N0cmluZy5jYWxsKHMuaW5pdCkmJnMuaW5pdCgpLHN9ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcGFyZW50PXQucHJvdG90eXBlfWZ1bmN0aW9uIGV4dGVuZFByb3RvdHlwZSh0LGUpe2Zvcih2YXIgciBpbiB0LnByb3RvdHlwZSl0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShyKSYmKGUucHJvdG90eXBlW3JdPXQucHJvdG90eXBlW3JdKX1mdW5jdGlvbiBiZXpGdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLHIscyxpLGEpe3ZhciBuPXQqcytlKmkrciphLWkqcy1hKnQtciplO3JldHVybiBuPi0xZS00JiYxZS00Pm59ZnVuY3Rpb24gZShlLHIscyxpLGEsbixvLGgsbCl7aWYoMD09PXMmJjA9PT1uJiYwPT09bClyZXR1cm4gdChlLHIsaSxhLG8saCk7dmFyIHAsbT1NYXRoLnNxcnQoTWF0aC5wb3coaS1lLDIpK01hdGgucG93KGEtciwyKStNYXRoLnBvdyhuLXMsMikpLGY9TWF0aC5zcXJ0KE1hdGgucG93KG8tZSwyKStNYXRoLnBvdyhoLXIsMikrTWF0aC5wb3cobC1zLDIpKSxjPU1hdGguc3FydChNYXRoLnBvdyhvLWksMikrTWF0aC5wb3coaC1hLDIpK01hdGgucG93KGwtbiwyKSk7cmV0dXJuIHA9bT5mP20+Yz9tLWYtYzpjLWYtbTpjPmY/Yy1mLW06Zi1tLWMscD4tMWUtNCYmMWUtND5wfWZ1bmN0aW9uIHIodCl7dmFyIGUscj10LmMscz10LnYsaT10Lm8sYT10Lmksbj10Ll9sZW5ndGgsbz1bXSxoPTA7Zm9yKGU9MDtuLTE+ZTtlKz0xKW9bZV09bChzW2VdLHNbZSsxXSxpW2VdLGFbZSsxXSksaCs9b1tlXS5hZGRlZExlbmd0aDtyZXR1cm4gciYmKG9bZV09bChzW2VdLHNbMF0saVtlXSxhWzBdKSxoKz1vW2VdLmFkZGVkTGVuZ3RoKSx7bGVuZ3RoczpvLHRvdGFsTGVuZ3RoOmh9fWZ1bmN0aW9uIHModCl7dGhpcy5zZWdtZW50TGVuZ3RoPTAsdGhpcy5wb2ludHM9bmV3IEFycmF5KHQpfWZ1bmN0aW9uIGkodCxlKXt0aGlzLnBhcnRpYWxMZW5ndGg9dCx0aGlzLnBvaW50PWV9ZnVuY3Rpb24gYSh0LGUpe3ZhciByPWUuc2VnbWVudHMscz1yLmxlbmd0aCxpPWJtX2Zsb29yKChzLTEpKnQpLGE9dCplLmFkZGVkTGVuZ3RoLG49MDtpZihhPT1yW2ldLmwpcmV0dXJuIHJbaV0ucDtmb3IodmFyIG89cltpXS5sPmE/LTE6MSxoPSEwO2g7KXJbaV0ubDw9YSYmcltpKzFdLmw+YT8obj0oYS1yW2ldLmwpLyhyW2krMV0ubC1yW2ldLmwpLGg9ITEpOmkrPW8sKDA+aXx8aT49cy0xKSYmKGg9ITEpO3JldHVybiByW2ldLnArKHJbaSsxXS5wLXJbaV0ucCkqbn1mdW5jdGlvbiBuKCl7dGhpcy5wdDE9bmV3IEFycmF5KDIpLHRoaXMucHQyPW5ldyBBcnJheSgyKSx0aGlzLnB0Mz1uZXcgQXJyYXkoMiksdGhpcy5wdDQ9bmV3IEFycmF5KDIpfWZ1bmN0aW9uIG8odCxlLHIscyxpLG4pe3ZhciBvPWEoaSxuKSxoPTEtbyxsPU1hdGgucm91bmQoMWUzKihoKmgqaCp0WzBdKyhvKmgqaCtoKm8qaCtoKmgqbykqclswXSsobypvKmgraCpvKm8rbypoKm8pKnNbMF0rbypvKm8qZVswXSkpLzFlMyxwPU1hdGgucm91bmQoMWUzKihoKmgqaCp0WzFdKyhvKmgqaCtoKm8qaCtoKmgqbykqclsxXSsobypvKmgraCpvKm8rbypoKm8pKnNbMV0rbypvKm8qZVsxXSkpLzFlMztyZXR1cm5bbCxwXX1mdW5jdGlvbiBoKHQsZSxyLHMsaSxvLGgpe3ZhciBsPW5ldyBuO2k9MD5pPzA6aT4xPzE6aTt2YXIgcD1hKGksaCk7bz1vPjE/MTpvO3ZhciBtLGY9YShvLGgpLGM9dC5sZW5ndGgsZD0xLXAsdT0xLWY7Zm9yKG09MDtjPm07bSs9MSlsLnB0MVttXT1NYXRoLnJvdW5kKDFlMyooZCpkKmQqdFttXSsocCpkKmQrZCpwKmQrZCpkKnApKnJbbV0rKHAqcCpkK2QqcCpwK3AqZCpwKSpzW21dK3AqcCpwKmVbbV0pKS8xZTMsbC5wdDNbbV09TWF0aC5yb3VuZCgxZTMqKGQqZCp1KnRbbV0rKHAqZCp1K2QqcCp1K2QqZCpmKSpyW21dKyhwKnAqdStkKnAqZitwKmQqZikqc1ttXStwKnAqZiplW21dKSkvMWUzLGwucHQ0W21dPU1hdGgucm91bmQoMWUzKihkKnUqdSp0W21dKyhwKnUqdStkKmYqdStkKnUqZikqclttXSsocCpmKnUrZCpmKmYrcCp1KmYpKnNbbV0rcCpmKmYqZVttXSkpLzFlMyxsLnB0MlttXT1NYXRoLnJvdW5kKDFlMyoodSp1KnUqdFttXSsoZip1KnUrdSpmKnUrdSp1KmYpKnJbbV0rKGYqZip1K3UqZipmK2YqdSpmKSpzW21dK2YqZipmKmVbbV0pKS8xZTM7cmV0dXJuIGx9dmFyIGw9KE1hdGgsZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5sPXQsdGhpcy5wPWV9cmV0dXJuIGZ1bmN0aW9uKGUscixzLGkpe3ZhciBhLG4sbyxoLGwscCxtPWRlZmF1bHRDdXJ2ZVNlZ21lbnRzLGY9MCxjPVtdLGQ9W10sdT17YWRkZWRMZW5ndGg6MCxzZWdtZW50czpBcnJheS5hcHBseShudWxsLHtsZW5ndGg6bX0pfTtmb3Iobz1zLmxlbmd0aCxhPTA7bT5hO2ErPTEpe2ZvcihsPWEvKG0tMSkscD0wLG49MDtvPm47bis9MSloPWJtX3BvdygxLWwsMykqZVtuXSszKmJtX3BvdygxLWwsMikqbCpzW25dKzMqKDEtbCkqYm1fcG93KGwsMikqaVtuXStibV9wb3cobCwzKSpyW25dLGNbbl09aCxudWxsIT09ZFtuXSYmKHArPWJtX3BvdyhjW25dLWRbbl0sMikpLGRbbl09Y1tuXTtwJiYocD1ibV9zcXJ0KHApLGYrPXApLHUuc2VnbWVudHNbYV09bmV3IHQoZixsKX1yZXR1cm4gdS5hZGRlZExlbmd0aD1mLHV9fSgpKSxwPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBhPXIucyxuPXIuZSxvPXIudG8saD1yLnRpLGw9KGEuam9pbihcIl9cIikrXCJfXCIrbi5qb2luKFwiX1wiKStcIl9cIitvLmpvaW4oXCJfXCIpK1wiX1wiK2guam9pbihcIl9cIikpLnJlcGxhY2UoL1xcLi9nLFwicFwiKTtpZihlW2xdKXJldHVybiB2b2lkKHIuYmV6aWVyRGF0YT1lW2xdKTt2YXIgcCxtLGYsYyxkLHUseSxnPWRlZmF1bHRDdXJ2ZVNlZ21lbnRzLHY9MCxiPW51bGw7Mj09PWEubGVuZ3RoJiYoYVswXSE9blswXXx8YVsxXSE9blsxXSkmJnQoYVswXSxhWzFdLG5bMF0sblsxXSxhWzBdK29bMF0sYVsxXStvWzFdKSYmdChhWzBdLGFbMV0sblswXSxuWzFdLG5bMF0raFswXSxuWzFdK2hbMV0pJiYoZz0yKTt2YXIgRT1uZXcgcyhnKTtmb3IoZj1vLmxlbmd0aCxwPTA7Zz5wO3ArPTEpe2Zvcih5PW5ldyBBcnJheShmKSxkPXAvKGctMSksdT0wLG09MDtmPm07bSs9MSljPWJtX3BvdygxLWQsMykqYVttXSszKmJtX3BvdygxLWQsMikqZCooYVttXStvW21dKSszKigxLWQpKmJtX3BvdyhkLDIpKihuW21dK2hbbV0pK2JtX3BvdyhkLDMpKm5bbV0seVttXT1jLG51bGwhPT1iJiYodSs9Ym1fcG93KHlbbV0tYlttXSwyKSk7dT1ibV9zcXJ0KHUpLHYrPXUsRS5wb2ludHNbcF09bmV3IGkodSx5KSxiPXl9RS5zZWdtZW50TGVuZ3RoPXYsci5iZXppZXJEYXRhPUUsZVtsXT1FfX0oKTtyZXR1cm57Z2V0QmV6aWVyTGVuZ3RoOmwsZ2V0U2VnbWVudHNMZW5ndGg6cixnZXROZXdTZWdtZW50OmgsZ2V0UG9pbnRJblNlZ21lbnQ6byxidWlsZEJlemllckRhdGE6cCxwb2ludE9uTGluZTJEOnQscG9pbnRPbkxpbmUzRDplfX1mdW5jdGlvbiBkYXRhRnVuY3Rpb25NYW5hZ2VyKCl7ZnVuY3Rpb24gdChpLGEsbyl7dmFyIGgsbCxwLG0sZixjLGQsdSx5PWkubGVuZ3RoO2ZvcihtPTA7eT5tO20rPTEpaWYoaD1pW21dLFwia3NcImluIGgmJiFoLmNvbXBsZXRlZCl7aWYoaC5jb21wbGV0ZWQ9ITAsaC50dCYmKGlbbS0xXS50ZD1oLnR0KSxsPVtdLHA9LTEsaC5oYXNNYXNrKXt2YXIgZz1oLm1hc2tzUHJvcGVydGllcztmb3IoYz1nLmxlbmd0aCxmPTA7Yz5mO2YrPTEpaWYoZ1tmXS5wdC5rLmkpcyhnW2ZdLnB0LmspO2Vsc2UgZm9yKHU9Z1tmXS5wdC5rLmxlbmd0aCxkPTA7dT5kO2QrPTEpZ1tmXS5wdC5rW2RdLnMmJnMoZ1tmXS5wdC5rW2RdLnNbMF0pLGdbZl0ucHQua1tkXS5lJiZzKGdbZl0ucHQua1tkXS5lWzBdKX0wPT09aC50eT8oaC5sYXllcnM9ZShoLnJlZklkLGEpLHQoaC5sYXllcnMsYSxvKSk6ND09PWgudHk/cihoLnNoYXBlcyk6NT09aC50eSYmbihoLG8pfX1mdW5jdGlvbiBlKHQsZSl7Zm9yKHZhciByPTAscz1lLmxlbmd0aDtzPnI7KXtpZihlW3JdLmlkPT09dClyZXR1cm4gZVtyXS5sYXllcnMuX191c2VkP0pTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZVtyXS5sYXllcnMpKTooZVtyXS5sYXllcnMuX191c2VkPSEwLGVbcl0ubGF5ZXJzKTtyKz0xfX1mdW5jdGlvbiByKHQpe3ZhciBlLGksYSxuPXQubGVuZ3RoLG89ITE7Zm9yKGU9bi0xO2U+PTA7ZS09MSlpZihcInNoXCI9PXRbZV0udHkpe2lmKHRbZV0ua3Muay5pKXModFtlXS5rcy5rKTtlbHNlIGZvcihhPXRbZV0ua3Muay5sZW5ndGgsaT0wO2E+aTtpKz0xKXRbZV0ua3Mua1tpXS5zJiZzKHRbZV0ua3Mua1tpXS5zWzBdKSx0W2VdLmtzLmtbaV0uZSYmcyh0W2VdLmtzLmtbaV0uZVswXSk7bz0hMH1lbHNlXCJnclwiPT10W2VdLnR5JiZyKHRbZV0uaXQpfWZ1bmN0aW9uIHModCl7dmFyIGUscj10LmkubGVuZ3RoO2ZvcihlPTA7cj5lO2UrPTEpdC5pW2VdWzBdKz10LnZbZV1bMF0sdC5pW2VdWzFdKz10LnZbZV1bMV0sdC5vW2VdWzBdKz10LnZbZV1bMF0sdC5vW2VdWzFdKz10LnZbZV1bMV19ZnVuY3Rpb24gaSh0LGUpe3ZhciByPWU/ZS5zcGxpdChcIi5cIik6WzEwMCwxMDAsMTAwXTtyZXR1cm4gdFswXT5yWzBdPyEwOnJbMF0+dFswXT8hMTp0WzFdPnJbMV0/ITA6clsxXT50WzFdPyExOnRbMl0+clsyXT8hMDpyWzJdPnRbMl0/ITE6dm9pZCAwfWZ1bmN0aW9uIGEoZSxyKXtlLl9fY29tcGxldGV8fChsKGUpLG8oZSksaChlKSxwKGUpLHQoZS5sYXllcnMsZS5hc3NldHMsciksZS5fX2NvbXBsZXRlPSEwKX1mdW5jdGlvbiBuKHQsZSl7MCE9PXQudC5hLmxlbmd0aHx8XCJtXCJpbiB0LnQucHx8KHQuc2luZ2xlU2hhcGU9ITApfXZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT10LnQuZDt0LnQuZD17azpbe3M6ZSx0OjB9XX19ZnVuY3Rpb24gZShlKXt2YXIgcixzPWUubGVuZ3RoO2ZvcihyPTA7cz5yO3IrPTEpNT09PWVbcl0udHkmJnQoZVtyXSl9dmFyIHI9WzQsNCwxNF07cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKGkocix0LnYpJiYoZSh0LmxheWVycyksdC5hc3NldHMpKXt2YXIgcyxhPXQuYXNzZXRzLmxlbmd0aDtmb3Iocz0wO2E+cztzKz0xKXQuYXNzZXRzW3NdLmxheWVycyYmZSh0LmFzc2V0c1tzXS5sYXllcnMpfX19KCksaD1mdW5jdGlvbigpe3ZhciB0PVs0LDcsOTldO3JldHVybiBmdW5jdGlvbihlKXtpZihlLmNoYXJzJiYhaSh0LGUudikpe3ZhciByLGEsbixvLGgsbD1lLmNoYXJzLmxlbmd0aDtmb3Iocj0wO2w+cjtyKz0xKWlmKGUuY2hhcnNbcl0uZGF0YSYmZS5jaGFyc1tyXS5kYXRhLnNoYXBlcylmb3IoaD1lLmNoYXJzW3JdLmRhdGEuc2hhcGVzWzBdLml0LG49aC5sZW5ndGgsYT0wO24+YTthKz0xKW89aFthXS5rcy5rLG8uX19jb252ZXJ0ZWR8fChzKGhbYV0ua3Muayksby5fX2NvbnZlcnRlZD0hMCl9fX0oKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcixzLGksYT1lLmxlbmd0aDtmb3Iocj0wO2E+cjtyKz0xKWlmKFwiZ3JcIj09PWVbcl0udHkpdChlW3JdLml0KTtlbHNlIGlmKFwiZmxcIj09PWVbcl0udHl8fFwic3RcIj09PWVbcl0udHkpaWYoZVtyXS5jLmsmJmVbcl0uYy5rWzBdLmkpZm9yKGk9ZVtyXS5jLmsubGVuZ3RoLHM9MDtpPnM7cys9MSllW3JdLmMua1tzXS5zJiYoZVtyXS5jLmtbc10uc1swXS89MjU1LGVbcl0uYy5rW3NdLnNbMV0vPTI1NSxlW3JdLmMua1tzXS5zWzJdLz0yNTUsZVtyXS5jLmtbc10uc1szXS89MjU1KSxlW3JdLmMua1tzXS5lJiYoZVtyXS5jLmtbc10uZVswXS89MjU1LGVbcl0uYy5rW3NdLmVbMV0vPTI1NSxlW3JdLmMua1tzXS5lWzJdLz0yNTUsZVtyXS5jLmtbc10uZVszXS89MjU1KTtlbHNlIGVbcl0uYy5rWzBdLz0yNTUsZVtyXS5jLmtbMV0vPTI1NSxlW3JdLmMua1syXS89MjU1LGVbcl0uYy5rWzNdLz0yNTV9ZnVuY3Rpb24gZShlKXt2YXIgcixzPWUubGVuZ3RoO2ZvcihyPTA7cz5yO3IrPTEpND09PWVbcl0udHkmJnQoZVtyXS5zaGFwZXMpfXZhciByPVs0LDEsOV07cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKGkocix0LnYpJiYoZSh0LmxheWVycyksdC5hc3NldHMpKXt2YXIgcyxhPXQuYXNzZXRzLmxlbmd0aDtmb3Iocz0wO2E+cztzKz0xKXQuYXNzZXRzW3NdLmxheWVycyYmZSh0LmFzc2V0c1tzXS5sYXllcnMpfX19KCkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHIscyxpLGE9ZS5sZW5ndGgsbj0hMTtmb3Iocj1hLTE7cj49MDtyLT0xKWlmKFwic2hcIj09ZVtyXS50eSl7aWYoZVtyXS5rcy5rLmkpZVtyXS5rcy5rLmM9ZVtyXS5jbG9zZWQ7ZWxzZSBmb3IoaT1lW3JdLmtzLmsubGVuZ3RoLHM9MDtpPnM7cys9MSllW3JdLmtzLmtbc10ucyYmKGVbcl0ua3Mua1tzXS5zWzBdLmM9ZVtyXS5jbG9zZWQpLGVbcl0ua3Mua1tzXS5lJiYoZVtyXS5rcy5rW3NdLmVbMF0uYz1lW3JdLmNsb3NlZCk7bj0hMH1lbHNlXCJnclwiPT1lW3JdLnR5JiZ0KGVbcl0uaXQpfWZ1bmN0aW9uIGUoZSl7dmFyIHIscyxpLGEsbixvLGg9ZS5sZW5ndGg7Zm9yKHM9MDtoPnM7cys9MSl7aWYocj1lW3NdLHIuaGFzTWFzayl7dmFyIGw9ci5tYXNrc1Byb3BlcnRpZXM7Zm9yKGE9bC5sZW5ndGgsaT0wO2E+aTtpKz0xKWlmKGxbaV0ucHQuay5pKWxbaV0ucHQuay5jPWxbaV0uY2w7ZWxzZSBmb3Iobz1sW2ldLnB0LmsubGVuZ3RoLG49MDtvPm47bis9MSlsW2ldLnB0Lmtbbl0ucyYmKGxbaV0ucHQua1tuXS5zWzBdLmM9bFtpXS5jbCksbFtpXS5wdC5rW25dLmUmJihsW2ldLnB0Lmtbbl0uZVswXS5jPWxbaV0uY2wpfTQ9PT1yLnR5JiZ0KHIuc2hhcGVzKX19dmFyIHI9WzQsNCwxOF07cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKGkocix0LnYpJiYoZSh0LmxheWVycyksdC5hc3NldHMpKXt2YXIgcyxhPXQuYXNzZXRzLmxlbmd0aDtmb3Iocz0wO2E+cztzKz0xKXQuYXNzZXRzW3NdLmxheWVycyYmZSh0LmFzc2V0c1tzXS5sYXllcnMpfX19KCksbT17fTtyZXR1cm4gbS5jb21wbGV0ZURhdGE9YSxtfWZ1bmN0aW9uIFNoYXBlUGF0aCgpe3RoaXMuYz0hMSx0aGlzLl9sZW5ndGg9MCx0aGlzLl9tYXhMZW5ndGg9OCx0aGlzLnY9QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOnRoaXMuX21heExlbmd0aH0pLHRoaXMubz1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6dGhpcy5fbWF4TGVuZ3RofSksdGhpcy5pPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDp0aGlzLl9tYXhMZW5ndGh9KX1mdW5jdGlvbiBTaGFwZU1vZGlmaWVyKCl7fWZ1bmN0aW9uIFRyaW1Nb2RpZmllcigpe31mdW5jdGlvbiBSb3VuZENvcm5lcnNNb2RpZmllcigpe31mdW5jdGlvbiBSZXBlYXRlck1vZGlmaWVyKCl7fWZ1bmN0aW9uIFNoYXBlQ29sbGVjdGlvbigpe3RoaXMuX2xlbmd0aD0wLHRoaXMuX21heExlbmd0aD00LHRoaXMuc2hhcGVzPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDp0aGlzLl9tYXhMZW5ndGh9KX1mdW5jdGlvbiBEYXNoUHJvcGVydHkodCxlLHIscyl7dGhpcy5lbGVtPXQsdGhpcy5mcmFtZUlkPS0xLHRoaXMuZGF0YVByb3BzPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDplLmxlbmd0aH0pLHRoaXMucmVuZGVyZXI9cix0aGlzLm1kZj0hMSx0aGlzLms9ITEsdGhpcy5kYXNoU3RyPVwiXCIsdGhpcy5kYXNoQXJyYXk9Y3JlYXRlVHlwZWRBcnJheShcImZsb2F0MzJcIixlLmxlbmd0aC0xKSx0aGlzLmRhc2hvZmZzZXQ9Y3JlYXRlVHlwZWRBcnJheShcImZsb2F0MzJcIiwxKTt2YXIgaSxhLG49ZS5sZW5ndGg7Zm9yKGk9MDtuPmk7aSs9MSlhPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZVtpXS52LDAsMCxzKSx0aGlzLms9YS5rPyEwOnRoaXMuayx0aGlzLmRhdGFQcm9wc1tpXT17bjplW2ldLm4scDphfTt0aGlzLms/cy5wdXNoKHRoaXMpOnRoaXMuZ2V0VmFsdWUoITApfWZ1bmN0aW9uIEdyYWRpZW50UHJvcGVydHkodCxlLHIpe3RoaXMucHJvcD1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUuaywxLG51bGwsW10pLHRoaXMuZGF0YT1lLHRoaXMuaz10aGlzLnByb3Auayx0aGlzLmM9Y3JlYXRlVHlwZWRBcnJheShcInVpbnQ4Y1wiLDQqZS5wKTt2YXIgcz1lLmsua1swXS5zP2Uuay5rWzBdLnMubGVuZ3RoLTQqZS5wOmUuay5rLmxlbmd0aC00KmUucDt0aGlzLm89Y3JlYXRlVHlwZWRBcnJheShcImZsb2F0MzJcIixzKSx0aGlzLmNtZGY9ITEsdGhpcy5vbWRmPSExLHRoaXMucHJvcC5rJiZyLnB1c2godGhpcyksdGhpcy5nZXRWYWx1ZSghMCl9ZnVuY3Rpb24gVGV4dEFuaW1hdG9yUHJvcGVydHkodCxlLHIpe3RoaXMubWRmPSExLHRoaXMuX2ZpcnN0RnJhbWU9ITAsdGhpcy5faGFzTWFza2VkUGF0aD0hMSx0aGlzLl9mcmFtZUlkPS0xLHRoaXMuX2R5bmFtaWNQcm9wZXJ0aWVzPVtdLHRoaXMuX3RleHREYXRhPXQsdGhpcy5fcmVuZGVyVHlwZT1lLHRoaXMuX2VsZW09cix0aGlzLl9hbmltYXRvcnNEYXRhPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDp0aGlzLl90ZXh0RGF0YS5hLmxlbmd0aH0pLHRoaXMuX3BhdGhEYXRhPXt9LHRoaXMuX21vcmVPcHRpb25zPXthbGlnbm1lbnQ6e319LHRoaXMucmVuZGVyZWRMZXR0ZXJzPVtdLHRoaXMubGV0dGVyc0NoYW5nZWRGbGFnPSExfWZ1bmN0aW9uIExldHRlclByb3BzKHQsZSxyLHMsaSxhKXt0aGlzLm89dCx0aGlzLnN3PWUsdGhpcy5zYz1yLHRoaXMuZmM9cyx0aGlzLm09aSx0aGlzLnA9YSx0aGlzLm1kZj17bzohMCxzdzohIWUsc2M6ISFyLGZjOiEhcyxtOiEwLHA6ITB9fWZ1bmN0aW9uIFRleHRQcm9wZXJ0eSh0LGUscil7dGhpcy5fZnJhbWVJZD0tOTk5OTksdGhpcy5wdj1cIlwiLHRoaXMudj1cIlwiLHRoaXMua2Y9ITEsdGhpcy5maXJzdEZyYW1lPSEwLHRoaXMubWRmPSEwLHRoaXMuZGF0YT1lLHRoaXMuZWxlbT10LHRoaXMua2V5c0luZGV4PS0xLHRoaXMuY3VycmVudERhdGE9e2FzY2VudDowLGJveFdpZHRoOlswLDBdLGY6XCJcIixmU3R5bGU6XCJcIixmV2VpZ2h0OlwiXCIsZmM6XCJcIixqOlwiXCIsanVzdGlmeU9mZnNldDpcIlwiLGw6W10sbGg6MCxsaW5lV2lkdGhzOltdLGxzOlwiXCIsb2Y6XCJcIixzOlwiXCIsc2M6XCJcIixzdzowLHQ6MCx0cjowLGZpbGxDb2xvckFuaW06ITEsc3Ryb2tlQ29sb3JBbmltOiExLHN0cm9rZVdpZHRoQW5pbTohMSx5T2Zmc2V0OjAsX19jb21wbGV0ZTohMX0sdGhpcy5zZWFyY2hQcm9wZXJ0eSgpP3IucHVzaCh0aGlzKTp0aGlzLmdldFZhbHVlKCEwKX1mdW5jdGlvbiBCYXNlUmVuZGVyZXIoKXt9ZnVuY3Rpb24gU1ZHUmVuZGVyZXIodCxlKXt0aGlzLmFuaW1hdGlvbkl0ZW09dCx0aGlzLmxheWVycz1udWxsLHRoaXMucmVuZGVyZWRGcmFtZT0tMSx0aGlzLmdsb2JhbERhdGE9e2ZyYW1lTnVtOi0xfSx0aGlzLnJlbmRlckNvbmZpZz17cHJlc2VydmVBc3BlY3RSYXRpbzplJiZlLnByZXNlcnZlQXNwZWN0UmF0aW98fFwieE1pZFlNaWQgbWVldFwiLHByb2dyZXNzaXZlTG9hZDplJiZlLnByb2dyZXNzaXZlTG9hZHx8ITEsaGlkZU9uVHJhbnNwYXJlbnQ6ZSYmZS5oaWRlT25UcmFuc3BhcmVudD09PSExPyExOiEwLHZpZXdCb3hPbmx5OmUmJmUudmlld0JveE9ubHl8fCExLGNsYXNzTmFtZTplJiZlLmNsYXNzTmFtZXx8XCJcIn0sdGhpcy5nbG9iYWxEYXRhLnJlbmRlckNvbmZpZz10aGlzLnJlbmRlckNvbmZpZyx0aGlzLmVsZW1lbnRzPVtdLHRoaXMucGVuZGluZ0VsZW1lbnRzPVtdLHRoaXMuZGVzdHJveWVkPSExfWZ1bmN0aW9uIE1hc2tFbGVtZW50KHQsZSxyKXt0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzPVtdLHRoaXMuZGF0YT10LHRoaXMuZWxlbWVudD1lLHRoaXMuZ2xvYmFsRGF0YT1yLHRoaXMuc3RvcmVkRGF0YT1bXSx0aGlzLm1hc2tzUHJvcGVydGllcz10aGlzLmRhdGEubWFza3NQcm9wZXJ0aWVzLHRoaXMudmlld0RhdGE9QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOnRoaXMubWFza3NQcm9wZXJ0aWVzLmxlbmd0aH0pLHRoaXMubWFza0VsZW1lbnQ9bnVsbCx0aGlzLmZpcnN0RnJhbWU9ITA7dmFyIHMsaSxhLG4sbyxoLGwscCxtPXRoaXMuZ2xvYmFsRGF0YS5kZWZzLGY9dGhpcy5tYXNrc1Byb3BlcnRpZXMubGVuZ3RoLGM9dGhpcy5tYXNrc1Byb3BlcnRpZXMsZD0wLHU9W10seT1yYW5kb21TdHJpbmcoMTApLGc9XCJjbGlwUGF0aFwiLHY9XCJjbGlwLXBhdGhcIjtmb3Iocz0wO2Y+cztzKyspaWYoKFwiYVwiIT09Y1tzXS5tb2RlJiZcIm5cIiE9PWNbc10ubW9kZXx8Y1tzXS5pbnZ8fDEwMCE9PWNbc10uby5rKSYmKGc9XCJtYXNrXCIsdj1cIm1hc2tcIiksXCJzXCIhPWNbc10ubW9kZSYmXCJpXCIhPWNbc10ubW9kZXx8MCE9ZD9vPW51bGw6KG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwicmVjdFwiKSxvLnNldEF0dHJpYnV0ZShcImZpbGxcIixcIiNmZmZmZmZcIiksby5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLHRoaXMuZWxlbWVudC5jb21wLmRhdGEudyksby5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIix0aGlzLmVsZW1lbnQuY29tcC5kYXRhLmgpLHUucHVzaChvKSksaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJwYXRoXCIpLFwiblwiIT1jW3NdLm1vZGUpe2lmKGQrPTEsXCJzXCI9PWNbc10ubW9kZT9pLnNldEF0dHJpYnV0ZShcImZpbGxcIixcIiMwMDAwMDBcIik6aS5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsXCIjZmZmZmZmXCIpLGkuc2V0QXR0cmlidXRlKFwiY2xpcC1ydWxlXCIsXCJub256ZXJvXCIpLDAhPT1jW3NdLnguayl7Zz1cIm1hc2tcIix2PVwibWFza1wiLHA9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcy5lbGVtZW50LGNbc10ueCwwLG51bGwsdGhpcy5keW5hbWljUHJvcGVydGllcyk7dmFyIGI9XCJmaV9cIityYW5kb21TdHJpbmcoMTApO2g9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZmlsdGVyXCIpLGguc2V0QXR0cmlidXRlKFwiaWRcIixiKSxsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImZlTW9ycGhvbG9neVwiKSxsLnNldEF0dHJpYnV0ZShcIm9wZXJhdG9yXCIsXCJkaWxhdGVcIiksbC5zZXRBdHRyaWJ1dGUoXCJpblwiLFwiU291cmNlR3JhcGhpY1wiKSxsLnNldEF0dHJpYnV0ZShcInJhZGl1c1wiLFwiMFwiKSxoLmFwcGVuZENoaWxkKGwpLG0uYXBwZW5kQ2hpbGQoaCksXCJzXCI9PWNbc10ubW9kZT9pLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLFwiIzAwMDAwMFwiKTppLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLFwiI2ZmZmZmZlwiKX1lbHNlIGw9bnVsbCxwPW51bGw7aWYodGhpcy5zdG9yZWREYXRhW3NdPXtlbGVtOmkseDpwLGV4cGFuOmwsbGFzdFBhdGg6XCJcIixsYXN0T3BlcmF0b3I6XCJcIixmaWx0ZXJJZDpiLGxhc3RSYWRpdXM6MH0sXCJpXCI9PWNbc10ubW9kZSl7bj11Lmxlbmd0aDt2YXIgRT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJnXCIpO2ZvcihhPTA7bj5hO2ErPTEpRS5hcHBlbmRDaGlsZCh1W2FdKTt2YXIgUD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJtYXNrXCIpO1Auc2V0QXR0cmlidXRlKFwibWFzay10eXBlXCIsXCJhbHBoYVwiKSxQLnNldEF0dHJpYnV0ZShcImlkXCIseStcIl9cIitkKSxQLmFwcGVuZENoaWxkKGkpLG0uYXBwZW5kQ2hpbGQoUCksRS5zZXRBdHRyaWJ1dGUoXCJtYXNrXCIsXCJ1cmwoXCIrbG9jYXRpb25IcmVmK1wiI1wiK3krXCJfXCIrZCtcIilcIiksdS5sZW5ndGg9MCx1LnB1c2goRSl9ZWxzZSB1LnB1c2goaSk7Y1tzXS5pbnYmJiF0aGlzLnNvbGlkUGF0aCYmKHRoaXMuc29saWRQYXRoPXRoaXMuY3JlYXRlTGF5ZXJTb2xpZFBhdGgoKSksdGhpcy52aWV3RGF0YVtzXT17ZWxlbTppLGxhc3RQYXRoOlwiXCIsb3A6UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcy5lbGVtZW50LGNbc10ubywwLC4wMSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSxwcm9wOlNoYXBlUHJvcGVydHlGYWN0b3J5LmdldFNoYXBlUHJvcCh0aGlzLmVsZW1lbnQsY1tzXSwzLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMsbnVsbCl9LG8mJih0aGlzLnZpZXdEYXRhW3NdLmludlJlY3Q9byksdGhpcy52aWV3RGF0YVtzXS5wcm9wLmt8fHRoaXMuZHJhd1BhdGgoY1tzXSx0aGlzLnZpZXdEYXRhW3NdLnByb3Audix0aGlzLnZpZXdEYXRhW3NdKX1lbHNlIHRoaXMudmlld0RhdGFbc109e29wOlByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMuZWxlbWVudCxjW3NdLm8sMCwuMDEsdGhpcy5keW5hbWljUHJvcGVydGllcykscHJvcDpTaGFwZVByb3BlcnR5RmFjdG9yeS5nZXRTaGFwZVByb3AodGhpcy5lbGVtZW50LGNbc10sMyx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLG51bGwpLGVsZW06aX0sbS5hcHBlbmRDaGlsZChpKTtmb3IodGhpcy5tYXNrRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsZyksZj11Lmxlbmd0aCxzPTA7Zj5zO3MrPTEpdGhpcy5tYXNrRWxlbWVudC5hcHBlbmRDaGlsZCh1W3NdKTt0aGlzLm1hc2tFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIseSksZD4wJiZ0aGlzLmVsZW1lbnQubWFza2VkRWxlbWVudC5zZXRBdHRyaWJ1dGUodixcInVybChcIitsb2NhdGlvbkhyZWYrXCIjXCIreStcIilcIiksbS5hcHBlbmRDaGlsZCh0aGlzLm1hc2tFbGVtZW50KX1mdW5jdGlvbiBCYXNlRWxlbWVudCgpe31mdW5jdGlvbiBTVkdCYXNlRWxlbWVudCh0LGUscixzLGkpe3RoaXMuZ2xvYmFsRGF0YT1yLHRoaXMuY29tcD1zLHRoaXMuZGF0YT10LHRoaXMubWF0dGVFbGVtZW50PW51bGwsdGhpcy50cmFuc2Zvcm1lZEVsZW1lbnQ9bnVsbCx0aGlzLmlzVHJhbnNwYXJlbnQ9ITEsdGhpcy5wYXJlbnRDb250YWluZXI9ZSx0aGlzLmxheWVySWQ9aT9pLmxheWVySWQ6XCJseV9cIityYW5kb21TdHJpbmcoMTApLHRoaXMucGxhY2Vob2xkZXI9aSx0aGlzLl9zaXplQ2hhbmdlZD0hMSx0aGlzLmluaXQoKX1mdW5jdGlvbiBJU2hhcGVFbGVtZW50KHQsZSxyLHMsaSl7dGhpcy5zaGFwZXM9W10sdGhpcy5zaGFwZXNEYXRhPXQuc2hhcGVzLHRoaXMuc3R5bGVzTGlzdD1bXSx0aGlzLml0ZW1zRGF0YT1bXSx0aGlzLnByZXZWaWV3RGF0YT1bXSx0aGlzLnNoYXBlTW9kaWZpZXJzPVtdLHRoaXMucHJvY2Vzc2VkRWxlbWVudHM9W10sdGhpcy5fcGFyZW50LmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0LGUscixzLGkpfWZ1bmN0aW9uIElUZXh0RWxlbWVudCh0LGUscixzKXt9ZnVuY3Rpb24gU1ZHVGV4dEVsZW1lbnQodCxlLHIscyxpKXt0aGlzLnRleHRTcGFucz1bXSx0aGlzLnJlbmRlclR5cGU9XCJzdmdcIix0aGlzLl9wYXJlbnQuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQsZSxyLHMsaSl9ZnVuY3Rpb24gU1ZHVGludEZpbHRlcih0LGUpe3RoaXMuZmlsdGVyTWFuYWdlcj1lO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImZlQ29sb3JNYXRyaXhcIik7aWYoci5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJtYXRyaXhcIiksci5zZXRBdHRyaWJ1dGUoXCJjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnNcIixcImxpbmVhclJHQlwiKSxyLnNldEF0dHJpYnV0ZShcInZhbHVlc1wiLFwiMC4zMzMzIDAuMzMzMyAwLjMzMzMgMCAwIDAuMzMzMyAwLjMzMzMgMC4zMzMzIDAgMCAwLjMzMzMgMC4zMzMzIDAuMzMzMyAwIDAgMCAwIDAgMSAwXCIpLHIuc2V0QXR0cmlidXRlKFwicmVzdWx0XCIsXCJmMVwiKSx0LmFwcGVuZENoaWxkKHIpLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZmVDb2xvck1hdHJpeFwiKSxyLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIm1hdHJpeFwiKSxyLnNldEF0dHJpYnV0ZShcImNvbG9yLWludGVycG9sYXRpb24tZmlsdGVyc1wiLFwic1JHQlwiKSxyLnNldEF0dHJpYnV0ZShcInZhbHVlc1wiLFwiMSAwIDAgMCAwIDAgMSAwIDAgMCAwIDAgMSAwIDAgMCAwIDAgMSAwXCIpLHIuc2V0QXR0cmlidXRlKFwicmVzdWx0XCIsXCJmMlwiKSx0LmFwcGVuZENoaWxkKHIpLHRoaXMubWF0cml4RmlsdGVyPXIsMTAwIT09ZS5lZmZlY3RFbGVtZW50c1syXS5wLnZ8fGUuZWZmZWN0RWxlbWVudHNbMl0ucC5rKXt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJmZU1lcmdlXCIpO3QuYXBwZW5kQ2hpbGQocyk7dmFyIGk7aT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJmZU1lcmdlTm9kZVwiKSxpLnNldEF0dHJpYnV0ZShcImluXCIsXCJTb3VyY2VHcmFwaGljXCIpLHMuYXBwZW5kQ2hpbGQoaSksaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJmZU1lcmdlTm9kZVwiKSxpLnNldEF0dHJpYnV0ZShcImluXCIsXCJmMlwiKSxzLmFwcGVuZENoaWxkKGkpfX1mdW5jdGlvbiBTVkdGaWxsRmlsdGVyKHQsZSl7dGhpcy5maWx0ZXJNYW5hZ2VyPWU7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZmVDb2xvck1hdHJpeFwiKTtyLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIm1hdHJpeFwiKSxyLnNldEF0dHJpYnV0ZShcImNvbG9yLWludGVycG9sYXRpb24tZmlsdGVyc1wiLFwic1JHQlwiKSxyLnNldEF0dHJpYnV0ZShcInZhbHVlc1wiLFwiMSAwIDAgMCAwIDAgMSAwIDAgMCAwIDAgMSAwIDAgMCAwIDAgMSAwXCIpLHQuYXBwZW5kQ2hpbGQociksdGhpcy5tYXRyaXhGaWx0ZXI9cn1mdW5jdGlvbiBTVkdTdHJva2VFZmZlY3QodCxlKXt0aGlzLmluaXRpYWxpemVkPSExLHRoaXMuZmlsdGVyTWFuYWdlcj1lLHRoaXMuZWxlbT10LHRoaXMucGF0aHM9W119ZnVuY3Rpb24gU1ZHVHJpdG9uZUZpbHRlcih0LGUpe3RoaXMuZmlsdGVyTWFuYWdlcj1lO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImZlQ29sb3JNYXRyaXhcIik7ci5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJtYXRyaXhcIiksci5zZXRBdHRyaWJ1dGUoXCJjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnNcIixcImxpbmVhclJHQlwiKSxyLnNldEF0dHJpYnV0ZShcInZhbHVlc1wiLFwiMC4zMzMzIDAuMzMzMyAwLjMzMzMgMCAwIDAuMzMzMyAwLjMzMzMgMC4zMzMzIDAgMCAwLjMzMzMgMC4zMzMzIDAuMzMzMyAwIDAgMCAwIDAgMSAwXCIpLHIuc2V0QXR0cmlidXRlKFwicmVzdWx0XCIsXCJmMVwiKSx0LmFwcGVuZENoaWxkKHIpO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImZlQ29tcG9uZW50VHJhbnNmZXJcIik7cy5zZXRBdHRyaWJ1dGUoXCJjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnNcIixcInNSR0JcIiksdC5hcHBlbmRDaGlsZChzKSx0aGlzLm1hdHJpeEZpbHRlcj1zO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImZlRnVuY1JcIik7aS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ0YWJsZVwiKSxzLmFwcGVuZENoaWxkKGkpLHRoaXMuZmVGdW5jUj1pO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImZlRnVuY0dcIik7YS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ0YWJsZVwiKSxzLmFwcGVuZENoaWxkKGEpLHRoaXMuZmVGdW5jRz1hO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImZlRnVuY0JcIik7bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ0YWJsZVwiKSxzLmFwcGVuZENoaWxkKG4pLHRoaXMuZmVGdW5jQj1ufWZ1bmN0aW9uIFNWR1Byb0xldmVsc0ZpbHRlcih0LGUpe3RoaXMuZmlsdGVyTWFuYWdlcj1lO3ZhciByPXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50cyxzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImZlQ29tcG9uZW50VHJhbnNmZXJcIik7KHJbOV0ucC5rfHwwIT09cls5XS5wLnZ8fHJbMTBdLnAua3x8MSE9PXJbMTBdLnAudnx8clsxMV0ucC5rfHwxIT09clsxMV0ucC52fHxyWzEyXS5wLmt8fDAhPT1yWzEyXS5wLnZ8fHJbMTNdLnAua3x8MSE9PXJbMTNdLnAudikmJih0aGlzLmZlRnVuY1I9dGhpcy5jcmVhdGVGZUZ1bmMoXCJmZUZ1bmNSXCIscykpLChyWzE2XS5wLmt8fDAhPT1yWzE2XS5wLnZ8fHJbMTddLnAua3x8MSE9PXJbMTddLnAudnx8clsxOF0ucC5rfHwxIT09clsxOF0ucC52fHxyWzE5XS5wLmt8fDAhPT1yWzE5XS5wLnZ8fHJbMjBdLnAua3x8MSE9PXJbMjBdLnAudikmJih0aGlzLmZlRnVuY0c9dGhpcy5jcmVhdGVGZUZ1bmMoXCJmZUZ1bmNHXCIscykpLChyWzIzXS5wLmt8fDAhPT1yWzIzXS5wLnZ8fHJbMjRdLnAua3x8MSE9PXJbMjRdLnAudnx8clsyNV0ucC5rfHwxIT09clsyNV0ucC52fHxyWzI2XS5wLmt8fDAhPT1yWzI2XS5wLnZ8fHJbMjddLnAua3x8MSE9PXJbMjddLnAudikmJih0aGlzLmZlRnVuY0I9dGhpcy5jcmVhdGVGZUZ1bmMoXCJmZUZ1bmNCXCIscykpLChyWzMwXS5wLmt8fDAhPT1yWzMwXS5wLnZ8fHJbMzFdLnAua3x8MSE9PXJbMzFdLnAudnx8clszMl0ucC5rfHwxIT09clszMl0ucC52fHxyWzMzXS5wLmt8fDAhPT1yWzMzXS5wLnZ8fHJbMzRdLnAua3x8MSE9PXJbMzRdLnAudikmJih0aGlzLmZlRnVuY0E9dGhpcy5jcmVhdGVGZUZ1bmMoXCJmZUZ1bmNBXCIscykpLCh0aGlzLmZlRnVuY1J8fHRoaXMuZmVGdW5jR3x8dGhpcy5mZUZ1bmNCfHx0aGlzLmZlRnVuY0EpJiYocy5zZXRBdHRyaWJ1dGUoXCJjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnNcIixcInNSR0JcIiksdC5hcHBlbmRDaGlsZChzKSxzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImZlQ29tcG9uZW50VHJhbnNmZXJcIikpLChyWzJdLnAua3x8MCE9PXJbMl0ucC52fHxyWzNdLnAua3x8MSE9PXJbM10ucC52fHxyWzRdLnAua3x8MSE9PXJbNF0ucC52fHxyWzVdLnAua3x8MCE9PXJbNV0ucC52fHxyWzZdLnAua3x8MSE9PXJbNl0ucC52KSYmKHMuc2V0QXR0cmlidXRlKFwiY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzXCIsXCJzUkdCXCIpLHQuYXBwZW5kQ2hpbGQocyksdGhpcy5mZUZ1bmNSQ29tcG9zZWQ9dGhpcy5jcmVhdGVGZUZ1bmMoXCJmZUZ1bmNSXCIscyksdGhpcy5mZUZ1bmNHQ29tcG9zZWQ9dGhpcy5jcmVhdGVGZUZ1bmMoXCJmZUZ1bmNHXCIscyksdGhpcy5mZUZ1bmNCQ29tcG9zZWQ9dGhpcy5jcmVhdGVGZUZ1bmMoXCJmZUZ1bmNCXCIscykpfWZ1bmN0aW9uIFNWR0Ryb3BTaGFkb3dFZmZlY3QodCxlKXt0LnNldEF0dHJpYnV0ZShcInhcIixcIi0xMDAlXCIpLHQuc2V0QXR0cmlidXRlKFwieVwiLFwiLTEwMCVcIiksdC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLFwiNDAwJVwiKSx0LnNldEF0dHJpYnV0ZShcImhlaWdodFwiLFwiNDAwJVwiKSx0aGlzLmZpbHRlck1hbmFnZXI9ZTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJmZUdhdXNzaWFuQmx1clwiKTtyLnNldEF0dHJpYnV0ZShcImluXCIsXCJTb3VyY2VBbHBoYVwiKSxyLnNldEF0dHJpYnV0ZShcInJlc3VsdFwiLFwiZHJvcF9zaGFkb3dfMVwiKSxyLnNldEF0dHJpYnV0ZShcInN0ZERldmlhdGlvblwiLFwiMFwiKSx0aGlzLmZlR2F1c3NpYW5CbHVyPXIsdC5hcHBlbmRDaGlsZChyKTt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJmZU9mZnNldFwiKTtzLnNldEF0dHJpYnV0ZShcImR4XCIsXCIyNVwiKSxzLnNldEF0dHJpYnV0ZShcImR5XCIsXCIwXCIpLHMuc2V0QXR0cmlidXRlKFwiaW5cIixcImRyb3Bfc2hhZG93XzFcIikscy5zZXRBdHRyaWJ1dGUoXCJyZXN1bHRcIixcImRyb3Bfc2hhZG93XzJcIiksdGhpcy5mZU9mZnNldD1zLHQuYXBwZW5kQ2hpbGQocyk7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZmVGbG9vZFwiKTtpLnNldEF0dHJpYnV0ZShcImZsb29kLWNvbG9yXCIsXCIjMDBmZjAwXCIpLGkuc2V0QXR0cmlidXRlKFwiZmxvb2Qtb3BhY2l0eVwiLFwiMVwiKSxpLnNldEF0dHJpYnV0ZShcInJlc3VsdFwiLFwiZHJvcF9zaGFkb3dfM1wiKSx0aGlzLmZlRmxvb2Q9aSx0LmFwcGVuZENoaWxkKGkpO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImZlQ29tcG9zaXRlXCIpO2Euc2V0QXR0cmlidXRlKFwiaW5cIixcImRyb3Bfc2hhZG93XzNcIiksYS5zZXRBdHRyaWJ1dGUoXCJpbjJcIixcImRyb3Bfc2hhZG93XzJcIiksYS5zZXRBdHRyaWJ1dGUoXCJvcGVyYXRvclwiLFwiaW5cIiksYS5zZXRBdHRyaWJ1dGUoXCJyZXN1bHRcIixcImRyb3Bfc2hhZG93XzRcIiksdC5hcHBlbmRDaGlsZChhKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJmZU1lcmdlXCIpO3QuYXBwZW5kQ2hpbGQobik7dmFyIG87bz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJmZU1lcmdlTm9kZVwiKSxuLmFwcGVuZENoaWxkKG8pLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZmVNZXJnZU5vZGVcIiksby5zZXRBdHRyaWJ1dGUoXCJpblwiLFwiU291cmNlR3JhcGhpY1wiKSx0aGlzLmZlTWVyZ2VOb2RlPW8sdGhpcy5mZU1lcmdlPW4sdGhpcy5vcmlnaW5hbE5vZGVBZGRlZD0hMSxuLmFwcGVuZENoaWxkKG8pfWZ1bmN0aW9uIFNWR01hdHRlM0VmZmVjdCh0LGUscil7dGhpcy5pbml0aWFsaXplZD0hMSx0aGlzLmZpbHRlck1hbmFnZXI9ZSx0aGlzLmZpbHRlckVsZW09dCx0aGlzLmVsZW09cixyLm1hdHRlRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJnXCIpLHIubWF0dGVFbGVtZW50LmFwcGVuZENoaWxkKHIubGF5ZXJFbGVtZW50KSxyLm1hdHRlRWxlbWVudC5hcHBlbmRDaGlsZChyLnRyYW5zZm9ybWVkRWxlbWVudCksci5iYXNlRWxlbWVudD1yLm1hdHRlRWxlbWVudH1mdW5jdGlvbiBTVkdFZmZlY3RzKHQpe3ZhciBlLHI9dC5kYXRhLmVmLmxlbmd0aCxzPXJhbmRvbVN0cmluZygxMCksaT1maWx0ZXJzRmFjdG9yeS5jcmVhdGVGaWx0ZXIocyksYT0wO3RoaXMuZmlsdGVycz1bXTt2YXIgbjtmb3IoZT0wO3I+ZTtlKz0xKTIwPT09dC5kYXRhLmVmW2VdLnR5PyhhKz0xLG49bmV3IFNWR1RpbnRGaWx0ZXIoaSx0LmVmZmVjdHMuZWZmZWN0RWxlbWVudHNbZV0pLHRoaXMuZmlsdGVycy5wdXNoKG4pKToyMT09PXQuZGF0YS5lZltlXS50eT8oYSs9MSxuPW5ldyBTVkdGaWxsRmlsdGVyKGksdC5lZmZlY3RzLmVmZmVjdEVsZW1lbnRzW2VdKSx0aGlzLmZpbHRlcnMucHVzaChuKSk6MjI9PT10LmRhdGEuZWZbZV0udHk/KG49bmV3IFNWR1N0cm9rZUVmZmVjdCh0LHQuZWZmZWN0cy5lZmZlY3RFbGVtZW50c1tlXSksdGhpcy5maWx0ZXJzLnB1c2gobikpOjIzPT09dC5kYXRhLmVmW2VdLnR5PyhhKz0xLG49bmV3IFNWR1RyaXRvbmVGaWx0ZXIoaSx0LmVmZmVjdHMuZWZmZWN0RWxlbWVudHNbZV0pLHRoaXMuZmlsdGVycy5wdXNoKG4pKToyND09PXQuZGF0YS5lZltlXS50eT8oYSs9MSxuPW5ldyBTVkdQcm9MZXZlbHNGaWx0ZXIoaSx0LmVmZmVjdHMuZWZmZWN0RWxlbWVudHNbZV0pLHRoaXMuZmlsdGVycy5wdXNoKG4pKToyNT09PXQuZGF0YS5lZltlXS50eT8oYSs9MSxuPW5ldyBTVkdEcm9wU2hhZG93RWZmZWN0KGksdC5lZmZlY3RzLmVmZmVjdEVsZW1lbnRzW2VdKSx0aGlzLmZpbHRlcnMucHVzaChuKSk6Mjg9PT10LmRhdGEuZWZbZV0udHkmJihuPW5ldyBTVkdNYXR0ZTNFZmZlY3QoaSx0LmVmZmVjdHMuZWZmZWN0RWxlbWVudHNbZV0sdCksdGhpcy5maWx0ZXJzLnB1c2gobikpO2EmJih0Lmdsb2JhbERhdGEuZGVmcy5hcHBlbmRDaGlsZChpKSx0LmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJmaWx0ZXJcIixcInVybChcIitsb2NhdGlvbkhyZWYrXCIjXCIrcytcIilcIikpfWZ1bmN0aW9uIElDb21wRWxlbWVudCh0LGUscixzLGkpe3RoaXMuX3BhcmVudC5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCxlLHIscyxpKSx0aGlzLmxheWVycz10LmxheWVycyx0aGlzLnN1cHBvcnRzM2Q9ITAsdGhpcy5jb21wbGV0ZUxheWVycz0hMSx0aGlzLnBlbmRpbmdFbGVtZW50cz1bXSx0aGlzLmVsZW1lbnRzPXRoaXMubGF5ZXJzP0FycmF5LmFwcGx5KG51bGwse2xlbmd0aDp0aGlzLmxheWVycy5sZW5ndGh9KTpbXSx0aGlzLmRhdGEudG0mJih0aGlzLnRtPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdGhpcy5kYXRhLnRtLDAsci5mcmFtZVJhdGUsdGhpcy5keW5hbWljUHJvcGVydGllcykpLHRoaXMuZGF0YS54dD8odGhpcy5sYXllckVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZ1wiKSx0aGlzLmJ1aWxkQWxsSXRlbXMoKSk6ci5wcm9ncmVzc2l2ZUxvYWR8fHRoaXMuYnVpbGRBbGxJdGVtcygpfWZ1bmN0aW9uIElJbWFnZUVsZW1lbnQodCxlLHIscyxpKXt0aGlzLmFzc2V0RGF0YT1yLmdldEFzc2V0RGF0YSh0LnJlZklkKSx0aGlzLl9wYXJlbnQuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQsZSxyLHMsaSl9ZnVuY3Rpb24gSVNvbGlkRWxlbWVudCh0LGUscixzLGkpe3RoaXMuX3BhcmVudC5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCxlLHIscyxpKX1mdW5jdGlvbiBDYW52YXNSZW5kZXJlcih0LGUpe3RoaXMuYW5pbWF0aW9uSXRlbT10LHRoaXMucmVuZGVyQ29uZmlnPXtjbGVhckNhbnZhczplJiZ2b2lkIDAhPT1lLmNsZWFyQ2FudmFzP2UuY2xlYXJDYW52YXM6ITAsY29udGV4dDplJiZlLmNvbnRleHR8fG51bGwscHJvZ3Jlc3NpdmVMb2FkOmUmJmUucHJvZ3Jlc3NpdmVMb2FkfHwhMSxwcmVzZXJ2ZUFzcGVjdFJhdGlvOmUmJmUucHJlc2VydmVBc3BlY3RSYXRpb3x8XCJ4TWlkWU1pZCBtZWV0XCIsY2xhc3NOYW1lOmUmJmUuY2xhc3NOYW1lfHxcIlwifSx0aGlzLnJlbmRlckNvbmZpZy5kcHI9ZSYmZS5kcHJ8fDEsdGhpcy5hbmltYXRpb25JdGVtLndyYXBwZXImJih0aGlzLnJlbmRlckNvbmZpZy5kcHI9ZSYmZS5kcHJ8fHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxKSx0aGlzLnJlbmRlcmVkRnJhbWU9LTEsdGhpcy5nbG9iYWxEYXRhPXtmcmFtZU51bTotMX0sdGhpcy5jb250ZXh0RGF0YT17c2F2ZWQ6QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOjE1fSksc2F2ZWRPcDpBcnJheS5hcHBseShudWxsLHtsZW5ndGg6MTV9KSxjQXJyUG9zOjAsY1RyOm5ldyBNYXRyaXgsY086MX07dmFyIHIscz0xNTtmb3Iocj0wO3M+cjtyKz0xKXRoaXMuY29udGV4dERhdGEuc2F2ZWRbcl09QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOjE2fSk7dGhpcy5lbGVtZW50cz1bXSx0aGlzLnBlbmRpbmdFbGVtZW50cz1bXSx0aGlzLnRyYW5zZm9ybU1hdD1uZXcgTWF0cml4LHRoaXMuY29tcGxldGVMYXllcnM9ITF9ZnVuY3Rpb24gSHlicmlkUmVuZGVyZXIodCxlKXt0aGlzLmFuaW1hdGlvbkl0ZW09dCx0aGlzLmxheWVycz1udWxsLHRoaXMucmVuZGVyZWRGcmFtZT0tMSx0aGlzLmdsb2JhbERhdGE9e2ZyYW1lTnVtOi0xfSx0aGlzLnJlbmRlckNvbmZpZz17Y2xhc3NOYW1lOmUmJmUuY2xhc3NOYW1lfHxcIlwifSx0aGlzLnBlbmRpbmdFbGVtZW50cz1bXSx0aGlzLmVsZW1lbnRzPVtdLHRoaXMudGhyZWVERWxlbWVudHM9W10sdGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy5jYW1lcmE9bnVsbCx0aGlzLnN1cHBvcnRzM2Q9ITB9ZnVuY3Rpb24gQ1ZCYXNlRWxlbWVudCh0LGUscil7dGhpcy5nbG9iYWxEYXRhPXIsdGhpcy5kYXRhPXQsdGhpcy5jb21wPWUsdGhpcy5jYW52YXNDb250ZXh0PXIuY2FudmFzQ29udGV4dCx0aGlzLmluaXQoKX1mdW5jdGlvbiBDVkNvbXBFbGVtZW50KHQsZSxyKXt0aGlzLl9wYXJlbnQuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQsZSxyKTt2YXIgcz17fTtmb3IodmFyIGkgaW4gcilyLmhhc093blByb3BlcnR5KGkpJiYoc1tpXT1yW2ldKTtzLnJlbmRlcmVyPXRoaXMscy5jb21wSGVpZ2h0PXRoaXMuZGF0YS5oLHMuY29tcFdpZHRoPXRoaXMuZGF0YS53LHRoaXMucmVuZGVyQ29uZmlnPXtjbGVhckNhbnZhczohMH0sdGhpcy5jb250ZXh0RGF0YT17c2F2ZWQ6QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOjE1fSksc2F2ZWRPcDpBcnJheS5hcHBseShudWxsLHtsZW5ndGg6MTV9KSxjQXJyUG9zOjAsY1RyOm5ldyBNYXRyaXgsY086MX0sdGhpcy5jb21wbGV0ZUxheWVycz0hMTt2YXIgYSxuPTE1O2ZvcihhPTA7bj5hO2ErPTEpdGhpcy5jb250ZXh0RGF0YS5zYXZlZFthXT1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6MTZ9KTt0aGlzLnRyYW5zZm9ybU1hdD1uZXcgTWF0cml4LHRoaXMucGFyZW50R2xvYmFsRGF0YT10aGlzLmdsb2JhbERhdGE7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtzLmNhbnZhc0NvbnRleHQ9by5nZXRDb250ZXh0KFwiMmRcIiksdGhpcy5jYW52YXNDb250ZXh0PXMuY2FudmFzQ29udGV4dCxvLndpZHRoPXRoaXMuZGF0YS53LG8uaGVpZ2h0PXRoaXMuZGF0YS5oLHRoaXMuY2FudmFzPW8sdGhpcy5nbG9iYWxEYXRhPXMsdGhpcy5sYXllcnM9dC5sYXllcnMsdGhpcy5wZW5kaW5nRWxlbWVudHM9W10sdGhpcy5lbGVtZW50cz1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6dGhpcy5sYXllcnMubGVuZ3RofSksdGhpcy5kYXRhLnRtJiYodGhpcy50bT1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLHRoaXMuZGF0YS50bSwwLHIuZnJhbWVSYXRlLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpKSwodGhpcy5kYXRhLnh0fHwhci5wcm9ncmVzc2l2ZUxvYWQpJiZ0aGlzLmJ1aWxkQWxsSXRlbXMoKX1mdW5jdGlvbiBDVkltYWdlRWxlbWVudCh0LGUscil7dGhpcy5hc3NldERhdGE9ci5nZXRBc3NldERhdGEodC5yZWZJZCksdGhpcy5fcGFyZW50LmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0LGUsciksdGhpcy5nbG9iYWxEYXRhLmFkZFBlbmRpbmdFbGVtZW50KCl9ZnVuY3Rpb24gQ1ZNYXNrRWxlbWVudCh0LGUpe3RoaXMuZGF0YT10LHRoaXMuZWxlbWVudD1lLHRoaXMuZHluYW1pY1Byb3BlcnRpZXM9W10sdGhpcy5tYXNrc1Byb3BlcnRpZXM9dGhpcy5kYXRhLm1hc2tzUHJvcGVydGllcyx0aGlzLnZpZXdEYXRhPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDp0aGlzLm1hc2tzUHJvcGVydGllcy5sZW5ndGh9KTt2YXIgcixzPXRoaXMubWFza3NQcm9wZXJ0aWVzLmxlbmd0aDtmb3Iocj0wO3M+cjtyKyspdGhpcy52aWV3RGF0YVtyXT1TaGFwZVByb3BlcnR5RmFjdG9yeS5nZXRTaGFwZVByb3AodGhpcy5lbGVtZW50LHRoaXMubWFza3NQcm9wZXJ0aWVzW3JdLDMsdGhpcy5keW5hbWljUHJvcGVydGllcyxudWxsKX1mdW5jdGlvbiBDVlNoYXBlRWxlbWVudCh0LGUscil7dGhpcy5zaGFwZXM9W10sdGhpcy5zaGFwZXNEYXRhPXQuc2hhcGVzLHRoaXMuc3R5bGVzTGlzdD1bXSx0aGlzLml0ZW1zRGF0YT1bXSx0aGlzLnByZXZWaWV3RGF0YT1bXSx0aGlzLnNoYXBlTW9kaWZpZXJzPVtdLHRoaXMucHJvY2Vzc2VkRWxlbWVudHM9W10sdGhpcy5fcGFyZW50LmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0LGUscil9ZnVuY3Rpb24gQ1ZTb2xpZEVsZW1lbnQodCxlLHIpe3RoaXMuX3BhcmVudC5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCxlLHIpfWZ1bmN0aW9uIENWVGV4dEVsZW1lbnQodCxlLHIpe3RoaXMudGV4dFNwYW5zPVtdLHRoaXMueU9mZnNldD0wLHRoaXMuZmlsbENvbG9yQW5pbT0hMSx0aGlzLnN0cm9rZUNvbG9yQW5pbT0hMSx0aGlzLnN0cm9rZVdpZHRoQW5pbT0hMSx0aGlzLnN0cm9rZT0hMSx0aGlzLmZpbGw9ITEsdGhpcy5qdXN0aWZ5T2Zmc2V0PTAsdGhpcy5jdXJyZW50UmVuZGVyPW51bGwsdGhpcy5yZW5kZXJUeXBlPVwiY2FudmFzXCIsdGhpcy52YWx1ZXM9e2ZpbGw6XCJyZ2JhKDAsMCwwLDApXCIsc3Ryb2tlOlwicmdiYSgwLDAsMCwwKVwiLHNXaWR0aDowLGZWYWx1ZTpcIlwifSx0aGlzLl9wYXJlbnQuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQsZSxyKX1mdW5jdGlvbiBIQmFzZUVsZW1lbnQodCxlLHIscyxpKXt0aGlzLmdsb2JhbERhdGE9cix0aGlzLmNvbXA9cyx0aGlzLmRhdGE9dCx0aGlzLm1hdHRlRWxlbWVudD1udWxsLHRoaXMucGFyZW50Q29udGFpbmVyPWUsdGhpcy5sYXllcklkPWk/aS5sYXllcklkOlwibHlfXCIrcmFuZG9tU3RyaW5nKDEwKSx0aGlzLnBsYWNlaG9sZGVyPWksdGhpcy5pbml0KCl9ZnVuY3Rpb24gSFNvbGlkRWxlbWVudCh0LGUscixzLGkpe3RoaXMuX3BhcmVudC5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCxlLHIscyxpKX1mdW5jdGlvbiBIQ29tcEVsZW1lbnQodCxlLHIscyxpKXt0aGlzLl9wYXJlbnQuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQsZSxyLHMsaSksdGhpcy5sYXllcnM9dC5sYXllcnMsdGhpcy5zdXBwb3J0czNkPSEwLHRoaXMuY29tcGxldGVMYXllcnM9ITEsdGhpcy5wZW5kaW5nRWxlbWVudHM9W10sdGhpcy5lbGVtZW50cz1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6dGhpcy5sYXllcnMubGVuZ3RofSksdGhpcy5kYXRhLnRtJiYodGhpcy50bT1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLHRoaXMuZGF0YS50bSwwLHIuZnJhbWVSYXRlLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpKSx0aGlzLmRhdGEuaGFzTWFzayYmKHRoaXMuc3VwcG9ydHMzZD0hMSksdGhpcy5kYXRhLnh0JiYodGhpcy5sYXllckVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSksdGhpcy5idWlsZEFsbEl0ZW1zKCl9ZnVuY3Rpb24gSFNoYXBlRWxlbWVudCh0LGUscixzLGkpe3RoaXMuc2hhcGVzPVtdLHRoaXMuc2hhcGVzRGF0YT10LnNoYXBlcyx0aGlzLnN0eWxlc0xpc3Q9W10sdGhpcy5pdGVtc0RhdGE9W10sdGhpcy5wcmV2Vmlld0RhdGE9W10sdGhpcy5zaGFwZU1vZGlmaWVycz1bXSx0aGlzLnByb2Nlc3NlZEVsZW1lbnRzPVtdLHRoaXMuX3BhcmVudC5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCxlLHIscyxpKSx0aGlzLmN1cnJlbnRCQm94PXt4Ojk5OTk5OSx5Oi05OTk5OTksaDowLHc6MH19ZnVuY3Rpb24gSFRleHRFbGVtZW50KHQsZSxyLHMsaSl7dGhpcy50ZXh0U3BhbnM9W10sdGhpcy50ZXh0UGF0aHM9W10sdGhpcy5jdXJyZW50QkJveD17eDo5OTk5OTkseTotOTk5OTk5LGg6MCx3OjB9LHRoaXMucmVuZGVyVHlwZT1cInN2Z1wiLHRoaXMuaXNNYXNrZWQ9ITEsdGhpcy5fcGFyZW50LmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0LGUscixzLGkpfWZ1bmN0aW9uIEhJbWFnZUVsZW1lbnQodCxlLHIscyxpKXt0aGlzLmFzc2V0RGF0YT1yLmdldEFzc2V0RGF0YSh0LnJlZklkKSx0aGlzLl9wYXJlbnQuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQsZSxyLHMsaSl9ZnVuY3Rpb24gSENhbWVyYUVsZW1lbnQodCxlLHIscyxpKXt0aGlzLl9wYXJlbnQuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQsZSxyLHMsaSk7dmFyIGE9UHJvcGVydHlGYWN0b3J5LmdldFByb3A7aWYodGhpcy5wZT1hKHRoaXMsdC5wZSwwLDAsdGhpcy5keW5hbWljUHJvcGVydGllcyksdC5rcy5wLnM/KHRoaXMucHg9YSh0aGlzLHQua3MucC54LDEsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLnB5PWEodGhpcyx0LmtzLnAueSwxLDAsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5wej1hKHRoaXMsdC5rcy5wLnosMSwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpKTp0aGlzLnA9YSh0aGlzLHQua3MucCwxLDAsdGhpcy5keW5hbWljUHJvcGVydGllcyksdC5rcy5hJiYodGhpcy5hPWEodGhpcyx0LmtzLmEsMSwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpKSx0LmtzLm9yLmsubGVuZ3RoJiZ0LmtzLm9yLmtbMF0udG8pe3ZhciBuLG89dC5rcy5vci5rLmxlbmd0aDtmb3Iobj0wO28+bjtuKz0xKXQua3Mub3Iua1tuXS50bz1udWxsLHQua3Mub3Iua1tuXS50aT1udWxsfXRoaXMub3I9YSh0aGlzLHQua3Mub3IsMSxkZWdUb1JhZHMsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5vci5zaD0hMCx0aGlzLnJ4PWEodGhpcyx0LmtzLnJ4LDAsZGVnVG9SYWRzLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMucnk9YSh0aGlzLHQua3MucnksMCxkZWdUb1JhZHMsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5yej1hKHRoaXMsdC5rcy5yeiwwLGRlZ1RvUmFkcyx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLm1hdD1uZXcgTWF0cml4fWZ1bmN0aW9uIFNsaWRlckVmZmVjdCh0LGUscil7dGhpcy5wPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGUsdC52LDAsMCxyKX1mdW5jdGlvbiBBbmdsZUVmZmVjdCh0LGUscil7dGhpcy5wPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGUsdC52LDAsMCxyKX1mdW5jdGlvbiBDb2xvckVmZmVjdCh0LGUscil7dGhpcy5wPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGUsdC52LDEsMCxyKX1mdW5jdGlvbiBQb2ludEVmZmVjdCh0LGUscil7dGhpcy5wPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGUsdC52LDEsMCxyKX1mdW5jdGlvbiBMYXllckluZGV4RWZmZWN0KHQsZSxyKXt0aGlzLnA9UHJvcGVydHlGYWN0b3J5LmdldFByb3AoZSx0LnYsMCwwLHIpfWZ1bmN0aW9uIE1hc2tJbmRleEVmZmVjdCh0LGUscil7dGhpcy5wPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGUsdC52LDAsMCxyKX1mdW5jdGlvbiBDaGVja2JveEVmZmVjdCh0LGUscil7dGhpcy5wPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGUsdC52LDAsMCxyKX1mdW5jdGlvbiBOb1ZhbHVlRWZmZWN0KCl7dGhpcy5wPXt9fWZ1bmN0aW9uIEVmZmVjdHNNYW5hZ2VyKHQsZSxyKXt2YXIgcz10LmVmO3RoaXMuZWZmZWN0RWxlbWVudHM9W107dmFyIGksYSxuPXMubGVuZ3RoO2ZvcihpPTA7bj5pO2krKylhPW5ldyBHcm91cEVmZmVjdChzW2ldLGUsciksdGhpcy5lZmZlY3RFbGVtZW50cy5wdXNoKGEpfWZ1bmN0aW9uIEdyb3VwRWZmZWN0KHQsZSxyKXt0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzPVtdLHRoaXMuaW5pdCh0LGUsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGgmJnIucHVzaCh0aGlzKX1mdW5jdGlvbiBzZXRMb2NhdGlvbkhyZWYodCl7bG9jYXRpb25IcmVmPXR9ZnVuY3Rpb24gcGxheSh0KXthbmltYXRpb25NYW5hZ2VyLnBsYXkodCl9ZnVuY3Rpb24gcGF1c2UodCl7YW5pbWF0aW9uTWFuYWdlci5wYXVzZSh0KX1mdW5jdGlvbiB0b2dnbGVQYXVzZSh0KXthbmltYXRpb25NYW5hZ2VyLnRvZ2dsZVBhdXNlKHQpfWZ1bmN0aW9uIHNldFNwZWVkKHQsZSl7YW5pbWF0aW9uTWFuYWdlci5zZXRTcGVlZCh0LGUpfWZ1bmN0aW9uIHNldERpcmVjdGlvbih0LGUpe2FuaW1hdGlvbk1hbmFnZXIuc2V0RGlyZWN0aW9uKHQsZSl9ZnVuY3Rpb24gc3RvcCh0KXthbmltYXRpb25NYW5hZ2VyLnN0b3AodCl9ZnVuY3Rpb24gbW92ZUZyYW1lKHQpe2FuaW1hdGlvbk1hbmFnZXIubW92ZUZyYW1lKHQpfWZ1bmN0aW9uIHNlYXJjaEFuaW1hdGlvbnMoKXtzdGFuZGFsb25lPT09ITA/YW5pbWF0aW9uTWFuYWdlci5zZWFyY2hBbmltYXRpb25zKGFuaW1hdGlvbkRhdGEsc3RhbmRhbG9uZSxyZW5kZXJlcik6YW5pbWF0aW9uTWFuYWdlci5zZWFyY2hBbmltYXRpb25zKCl9ZnVuY3Rpb24gcmVnaXN0ZXJBbmltYXRpb24odCl7cmV0dXJuIGFuaW1hdGlvbk1hbmFnZXIucmVnaXN0ZXJBbmltYXRpb24odCl9ZnVuY3Rpb24gcmVzaXplKCl7YW5pbWF0aW9uTWFuYWdlci5yZXNpemUoKX1mdW5jdGlvbiBzdGFydCgpe2FuaW1hdGlvbk1hbmFnZXIuc3RhcnQoKX1mdW5jdGlvbiBnb1RvQW5kU3RvcCh0LGUscil7YW5pbWF0aW9uTWFuYWdlci5nb1RvQW5kU3RvcCh0LGUscil9ZnVuY3Rpb24gc2V0U3ViZnJhbWVSZW5kZXJpbmcodCl7c3ViZnJhbWVFbmFibGVkPXR9ZnVuY3Rpb24gbG9hZEFuaW1hdGlvbih0KXtyZXR1cm4gc3RhbmRhbG9uZT09PSEwJiYodC5hbmltYXRpb25EYXRhPUpTT04ucGFyc2UoYW5pbWF0aW9uRGF0YSkpLGFuaW1hdGlvbk1hbmFnZXIubG9hZEFuaW1hdGlvbih0KX1mdW5jdGlvbiBkZXN0cm95KHQpe3JldHVybiBhbmltYXRpb25NYW5hZ2VyLmRlc3Ryb3kodCl9ZnVuY3Rpb24gc2V0UXVhbGl0eSh0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClzd2l0Y2godCl7Y2FzZVwiaGlnaFwiOmRlZmF1bHRDdXJ2ZVNlZ21lbnRzPTIwMDticmVhaztjYXNlXCJtZWRpdW1cIjpkZWZhdWx0Q3VydmVTZWdtZW50cz01MDticmVhaztjYXNlXCJsb3dcIjpkZWZhdWx0Q3VydmVTZWdtZW50cz0xMH1lbHNlIWlzTmFOKHQpJiZ0PjEmJihkZWZhdWx0Q3VydmVTZWdtZW50cz10KTtyb3VuZFZhbHVlcyhkZWZhdWx0Q3VydmVTZWdtZW50cz49NTA/ITE6ITApfWZ1bmN0aW9uIGluQnJvd3Nlcigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3J9ZnVuY3Rpb24gaW5zdGFsbFBsdWdpbih0LGUpe1wiZXhwcmVzc2lvbnNcIj09PXQmJihleHByZXNzaW9uc1BsdWdpbj1lKX1mdW5jdGlvbiBnZXRGYWN0b3J5KHQpe3N3aXRjaCh0KXtjYXNlXCJwcm9wZXJ0eUZhY3RvcnlcIjpyZXR1cm4gUHJvcGVydHlGYWN0b3J5O2Nhc2VcInNoYXBlUHJvcGVydHlGYWN0b3J5XCI6cmV0dXJuIFNoYXBlUHJvcGVydHlGYWN0b3J5O2Nhc2VcIm1hdHJpeFwiOnJldHVybiBNYXRyaXh9fWZ1bmN0aW9uIGNoZWNrUmVhZHkoKXtcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiYoY2xlYXJJbnRlcnZhbChyZWFkeVN0YXRlQ2hlY2tJbnRlcnZhbCksc2VhcmNoQW5pbWF0aW9ucygpKX1mdW5jdGlvbiBnZXRRdWVyeVZhcmlhYmxlKHQpe2Zvcih2YXIgZT1xdWVyeVN0cmluZy5zcGxpdChcIiZcIikscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgcz1lW3JdLnNwbGl0KFwiPVwiKTtpZihkZWNvZGVVUklDb21wb25lbnQoc1swXSk9PXQpcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzWzFdKX19dmFyIHN2Z05TPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixsb2NhdGlvbkhyZWY9XCJcIixzdWJmcmFtZUVuYWJsZWQ9ITAsZXhwcmVzc2lvbnNQbHVnaW4saXNTYWZhcmk9L14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxjYWNoZWRDb2xvcnM9e30sYm1fcm91bmRlcj1NYXRoLnJvdW5kLGJtX3JuZCxibV9wb3c9TWF0aC5wb3csYm1fc3FydD1NYXRoLnNxcnQsYm1fYWJzPU1hdGguYWJzLGJtX2Zsb29yPU1hdGguZmxvb3IsYm1fbWF4PU1hdGgubWF4LGJtX21pbj1NYXRoLm1pbixibGl0dGVyPTEwLEJNTWF0aD17fTshZnVuY3Rpb24oKXt2YXIgdCxlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE1hdGgpLHI9ZS5sZW5ndGg7Zm9yKHQ9MDtyPnQ7dCs9MSlCTU1hdGhbZVt0XV09TWF0aFtlW3RdXX0oKSxCTU1hdGgucmFuZG9tPU1hdGgucmFuZG9tLEJNTWF0aC5hYnM9ZnVuY3Rpb24odCl7dmFyIGU9dHlwZW9mIHQ7aWYoXCJvYmplY3RcIj09PWUmJnQubGVuZ3RoKXt2YXIgcixzPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDp0Lmxlbmd0aH0pLGk9dC5sZW5ndGg7Zm9yKHI9MDtpPnI7cis9MSlzW3JdPU1hdGguYWJzKHRbcl0pO3JldHVybiBzfXJldHVybiBNYXRoLmFicyh0KX07dmFyIGRlZmF1bHRDdXJ2ZVNlZ21lbnRzPTE1MCxkZWdUb1JhZHM9TWF0aC5QSS8xODAscm91bmRDb3JuZXI9LjU1MTk7cm91bmRWYWx1ZXMoITEpO3ZhciByZ2JUb0hleD1mdW5jdGlvbigpe3ZhciB0LGUscj1bXTtmb3IodD0wOzI1Nj50O3QrPTEpZT10LnRvU3RyaW5nKDE2KSxyW3RdPTE9PWUubGVuZ3RoP1wiMFwiK2U6ZTtyZXR1cm4gZnVuY3Rpb24odCxlLHMpe3JldHVybiAwPnQmJih0PTApLDA+ZSYmKGU9MCksMD5zJiYocz0wKSxcIiNcIityW3RdK3JbZV0rcltzXX19KCksY3JlYXRlVHlwZWRBcnJheT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2YXIgcixzPTAsaT1bXTtzd2l0Y2godCl7Y2FzZVwiaW50MTZcIjpjYXNlXCJ1aW50OGNcIjpyPTE7YnJlYWs7ZGVmYXVsdDpyPTEuMX1mb3Iocz0wO2U+cztzKz0xKWkucHVzaChyKTtyZXR1cm4gaX1mdW5jdGlvbiBlKHQsZSl7cmV0dXJuXCJmbG9hdDMyXCI9PT10P25ldyBGbG9hdDMyQXJyYXkoZSk6XCJpbnQxNlwiPT09dD9uZXcgSW50MTZBcnJheShlKTpcInVpbnQ4Y1wiPT09dD9uZXcgVWludDhDbGFtcGVkQXJyYXkoZSk6dm9pZCAwO1xuXG59cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgRmxvYXQzMkFycmF5P2U6dH0oKSxNYXRyaXg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMucHJvcHNbMF09MSx0aGlzLnByb3BzWzFdPTAsdGhpcy5wcm9wc1syXT0wLHRoaXMucHJvcHNbM109MCx0aGlzLnByb3BzWzRdPTAsdGhpcy5wcm9wc1s1XT0xLHRoaXMucHJvcHNbNl09MCx0aGlzLnByb3BzWzddPTAsdGhpcy5wcm9wc1s4XT0wLHRoaXMucHJvcHNbOV09MCx0aGlzLnByb3BzWzEwXT0xLHRoaXMucHJvcHNbMTFdPTAsdGhpcy5wcm9wc1sxMl09MCx0aGlzLnByb3BzWzEzXT0wLHRoaXMucHJvcHNbMTRdPTAsdGhpcy5wcm9wc1sxNV09MSx0aGlzfWZ1bmN0aW9uIGUodCl7aWYoMD09PXQpcmV0dXJuIHRoaXM7dmFyIGU9ayh0KSxyPUEodCk7cmV0dXJuIHRoaXMuX3QoZSwtciwwLDAscixlLDAsMCwwLDAsMSwwLDAsMCwwLDEpfWZ1bmN0aW9uIHIodCl7aWYoMD09PXQpcmV0dXJuIHRoaXM7dmFyIGU9ayh0KSxyPUEodCk7cmV0dXJuIHRoaXMuX3QoMSwwLDAsMCwwLGUsLXIsMCwwLHIsZSwwLDAsMCwwLDEpfWZ1bmN0aW9uIHModCl7aWYoMD09PXQpcmV0dXJuIHRoaXM7dmFyIGU9ayh0KSxyPUEodCk7cmV0dXJuIHRoaXMuX3QoZSwwLHIsMCwwLDEsMCwwLC1yLDAsZSwwLDAsMCwwLDEpfWZ1bmN0aW9uIGkodCl7aWYoMD09PXQpcmV0dXJuIHRoaXM7dmFyIGU9ayh0KSxyPUEodCk7cmV0dXJuIHRoaXMuX3QoZSwtciwwLDAscixlLDAsMCwwLDAsMSwwLDAsMCwwLDEpfWZ1bmN0aW9uIGEodCxlKXtyZXR1cm4gdGhpcy5fdCgxLGUsdCwxLDAsMCl9ZnVuY3Rpb24gbih0LGUpe3JldHVybiB0aGlzLnNoZWFyKE0odCksTShlKSl9ZnVuY3Rpb24gbyh0LGUpe3ZhciByPWsoZSkscz1BKGUpO3JldHVybiB0aGlzLl90KHIscywwLDAsLXMsciwwLDAsMCwwLDEsMCwwLDAsMCwxKS5fdCgxLDAsMCwwLE0odCksMSwwLDAsMCwwLDEsMCwwLDAsMCwxKS5fdChyLC1zLDAsMCxzLHIsMCwwLDAsMCwxLDAsMCwwLDAsMSl9ZnVuY3Rpb24gaCh0LGUscil7cmV0dXJuIHI9aXNOYU4ocik/MTpyLDE9PXQmJjE9PWUmJjE9PXI/dGhpczp0aGlzLl90KHQsMCwwLDAsMCxlLDAsMCwwLDAsciwwLDAsMCwwLDEpfWZ1bmN0aW9uIGwodCxlLHIscyxpLGEsbixvLGgsbCxwLG0sZixjLGQsdSl7cmV0dXJuIHRoaXMucHJvcHNbMF09dCx0aGlzLnByb3BzWzFdPWUsdGhpcy5wcm9wc1syXT1yLHRoaXMucHJvcHNbM109cyx0aGlzLnByb3BzWzRdPWksdGhpcy5wcm9wc1s1XT1hLHRoaXMucHJvcHNbNl09bix0aGlzLnByb3BzWzddPW8sdGhpcy5wcm9wc1s4XT1oLHRoaXMucHJvcHNbOV09bCx0aGlzLnByb3BzWzEwXT1wLHRoaXMucHJvcHNbMTFdPW0sdGhpcy5wcm9wc1sxMl09Zix0aGlzLnByb3BzWzEzXT1jLHRoaXMucHJvcHNbMTRdPWQsdGhpcy5wcm9wc1sxNV09dSx0aGlzfWZ1bmN0aW9uIHAodCxlLHIpe3JldHVybiByPXJ8fDAsMCE9PXR8fDAhPT1lfHwwIT09cj90aGlzLl90KDEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLHQsZSxyLDEpOnRoaXN9ZnVuY3Rpb24gbSh0LGUscixzLGksYSxuLG8saCxsLHAsbSxmLGMsZCx1KXtpZigxPT09dCYmMD09PWUmJjA9PT1yJiYwPT09cyYmMD09PWkmJjE9PT1hJiYwPT09biYmMD09PW8mJjA9PT1oJiYwPT09bCYmMT09PXAmJjA9PT1tKXJldHVybigwIT09Znx8MCE9PWN8fDAhPT1kKSYmKHRoaXMucHJvcHNbMTJdPXRoaXMucHJvcHNbMTJdKnQrdGhpcy5wcm9wc1sxM10qaSt0aGlzLnByb3BzWzE0XSpoK3RoaXMucHJvcHNbMTVdKmYsdGhpcy5wcm9wc1sxM109dGhpcy5wcm9wc1sxMl0qZSt0aGlzLnByb3BzWzEzXSphK3RoaXMucHJvcHNbMTRdKmwrdGhpcy5wcm9wc1sxNV0qYyx0aGlzLnByb3BzWzE0XT10aGlzLnByb3BzWzEyXSpyK3RoaXMucHJvcHNbMTNdKm4rdGhpcy5wcm9wc1sxNF0qcCt0aGlzLnByb3BzWzE1XSpkLHRoaXMucHJvcHNbMTVdPXRoaXMucHJvcHNbMTJdKnMrdGhpcy5wcm9wc1sxM10qbyt0aGlzLnByb3BzWzE0XSptK3RoaXMucHJvcHNbMTVdKnUpLHRoaXMuX2lkZW50aXR5Q2FsY3VsYXRlZD0hMSx0aGlzO3ZhciB5PXRoaXMucHJvcHNbMF0sZz10aGlzLnByb3BzWzFdLHY9dGhpcy5wcm9wc1syXSxiPXRoaXMucHJvcHNbM10sRT10aGlzLnByb3BzWzRdLFA9dGhpcy5wcm9wc1s1XSx4PXRoaXMucHJvcHNbNl0sUz10aGlzLnByb3BzWzddLEM9dGhpcy5wcm9wc1s4XSxrPXRoaXMucHJvcHNbOV0sQT10aGlzLnByb3BzWzEwXSxNPXRoaXMucHJvcHNbMTFdLEQ9dGhpcy5wcm9wc1sxMl0sdz10aGlzLnByb3BzWzEzXSxUPXRoaXMucHJvcHNbMTRdLF89dGhpcy5wcm9wc1sxNV07cmV0dXJuIHRoaXMucHJvcHNbMF09eSp0K2cqaSt2KmgrYipmLHRoaXMucHJvcHNbMV09eSplK2cqYSt2KmwrYipjLHRoaXMucHJvcHNbMl09eSpyK2cqbit2KnArYipkLHRoaXMucHJvcHNbM109eSpzK2cqbyt2Km0rYip1LHRoaXMucHJvcHNbNF09RSp0K1AqaSt4KmgrUypmLHRoaXMucHJvcHNbNV09RSplK1AqYSt4KmwrUypjLHRoaXMucHJvcHNbNl09RSpyK1Aqbit4KnArUypkLHRoaXMucHJvcHNbN109RSpzK1Aqbyt4Km0rUyp1LHRoaXMucHJvcHNbOF09Qyp0K2sqaStBKmgrTSpmLHRoaXMucHJvcHNbOV09QyplK2sqYStBKmwrTSpjLHRoaXMucHJvcHNbMTBdPUMqcitrKm4rQSpwK00qZCx0aGlzLnByb3BzWzExXT1DKnMraypvK0EqbStNKnUsdGhpcy5wcm9wc1sxMl09RCp0K3cqaStUKmgrXypmLHRoaXMucHJvcHNbMTNdPUQqZSt3KmErVCpsK18qYyx0aGlzLnByb3BzWzE0XT1EKnIrdypuK1QqcCtfKmQsdGhpcy5wcm9wc1sxNV09RCpzK3cqbytUKm0rXyp1LHRoaXMuX2lkZW50aXR5Q2FsY3VsYXRlZD0hMSx0aGlzfWZ1bmN0aW9uIGYoKXtyZXR1cm4gdGhpcy5faWRlbnRpdHlDYWxjdWxhdGVkfHwodGhpcy5faWRlbnRpdHk9ISgxIT09dGhpcy5wcm9wc1swXXx8MCE9PXRoaXMucHJvcHNbMV18fDAhPT10aGlzLnByb3BzWzJdfHwwIT09dGhpcy5wcm9wc1szXXx8MCE9PXRoaXMucHJvcHNbNF18fDEhPT10aGlzLnByb3BzWzVdfHwwIT09dGhpcy5wcm9wc1s2XXx8MCE9PXRoaXMucHJvcHNbN118fDAhPT10aGlzLnByb3BzWzhdfHwwIT09dGhpcy5wcm9wc1s5XXx8MSE9PXRoaXMucHJvcHNbMTBdfHwwIT09dGhpcy5wcm9wc1sxMV18fDAhPT10aGlzLnByb3BzWzEyXXx8MCE9PXRoaXMucHJvcHNbMTNdfHwwIT09dGhpcy5wcm9wc1sxNF18fDEhPT10aGlzLnByb3BzWzE1XSksdGhpcy5faWRlbnRpdHlDYWxjdWxhdGVkPSEwKSx0aGlzLl9pZGVudGl0eX1mdW5jdGlvbiBjKHQpe3ZhciBlO2ZvcihlPTA7MTY+ZTtlKz0xKXQucHJvcHNbZV09dGhpcy5wcm9wc1tlXX1mdW5jdGlvbiBkKHQpe3ZhciBlO2ZvcihlPTA7MTY+ZTtlKz0xKXRoaXMucHJvcHNbZV09dFtlXX1mdW5jdGlvbiB1KHQsZSxyKXtyZXR1cm57eDp0KnRoaXMucHJvcHNbMF0rZSp0aGlzLnByb3BzWzRdK3IqdGhpcy5wcm9wc1s4XSt0aGlzLnByb3BzWzEyXSx5OnQqdGhpcy5wcm9wc1sxXStlKnRoaXMucHJvcHNbNV0rcip0aGlzLnByb3BzWzldK3RoaXMucHJvcHNbMTNdLHo6dCp0aGlzLnByb3BzWzJdK2UqdGhpcy5wcm9wc1s2XStyKnRoaXMucHJvcHNbMTBdK3RoaXMucHJvcHNbMTRdfX1mdW5jdGlvbiB5KHQsZSxyKXtyZXR1cm4gdCp0aGlzLnByb3BzWzBdK2UqdGhpcy5wcm9wc1s0XStyKnRoaXMucHJvcHNbOF0rdGhpcy5wcm9wc1sxMl19ZnVuY3Rpb24gZyh0LGUscil7cmV0dXJuIHQqdGhpcy5wcm9wc1sxXStlKnRoaXMucHJvcHNbNV0rcip0aGlzLnByb3BzWzldK3RoaXMucHJvcHNbMTNdfWZ1bmN0aW9uIHYodCxlLHIpe3JldHVybiB0KnRoaXMucHJvcHNbMl0rZSp0aGlzLnByb3BzWzZdK3IqdGhpcy5wcm9wc1sxMF0rdGhpcy5wcm9wc1sxNF19ZnVuY3Rpb24gYih0KXt2YXIgZT10aGlzLnByb3BzWzBdKnRoaXMucHJvcHNbNV0tdGhpcy5wcm9wc1sxXSp0aGlzLnByb3BzWzRdLHI9dGhpcy5wcm9wc1s1XS9lLHM9LXRoaXMucHJvcHNbMV0vZSxpPS10aGlzLnByb3BzWzRdL2UsYT10aGlzLnByb3BzWzBdL2Usbj0odGhpcy5wcm9wc1s0XSp0aGlzLnByb3BzWzEzXS10aGlzLnByb3BzWzVdKnRoaXMucHJvcHNbMTJdKS9lLG89LSh0aGlzLnByb3BzWzBdKnRoaXMucHJvcHNbMTNdLXRoaXMucHJvcHNbMV0qdGhpcy5wcm9wc1sxMl0pL2U7cmV0dXJuW3RbMF0qcit0WzFdKmkrbix0WzBdKnMrdFsxXSphK28sMF19ZnVuY3Rpb24gRSh0KXt2YXIgZSxyPXQubGVuZ3RoLHM9W107Zm9yKGU9MDtyPmU7ZSs9MSlzW2VdPWIodFtlXSk7cmV0dXJuIHN9ZnVuY3Rpb24gUCh0LGUscixzKXtpZihzJiYyPT09cyl7dmFyIGk9cG9pbnRfcG9vbC5uZXdQb2ludCgpO3JldHVybiBpWzBdPXQqdGhpcy5wcm9wc1swXStlKnRoaXMucHJvcHNbNF0rcip0aGlzLnByb3BzWzhdK3RoaXMucHJvcHNbMTJdLGlbMV09dCp0aGlzLnByb3BzWzFdK2UqdGhpcy5wcm9wc1s1XStyKnRoaXMucHJvcHNbOV0rdGhpcy5wcm9wc1sxM10saX1yZXR1cm5bdCp0aGlzLnByb3BzWzBdK2UqdGhpcy5wcm9wc1s0XStyKnRoaXMucHJvcHNbOF0rdGhpcy5wcm9wc1sxMl0sdCp0aGlzLnByb3BzWzFdK2UqdGhpcy5wcm9wc1s1XStyKnRoaXMucHJvcHNbOV0rdGhpcy5wcm9wc1sxM10sdCp0aGlzLnByb3BzWzJdK2UqdGhpcy5wcm9wc1s2XStyKnRoaXMucHJvcHNbMTBdK3RoaXMucHJvcHNbMTRdXX1mdW5jdGlvbiB4KHQsZSl7cmV0dXJuIHRoaXMuaXNJZGVudGl0eSgpP3QrXCIsXCIrZTpibV9ybmQodCp0aGlzLnByb3BzWzBdK2UqdGhpcy5wcm9wc1s0XSt0aGlzLnByb3BzWzEyXSkrXCIsXCIrYm1fcm5kKHQqdGhpcy5wcm9wc1sxXStlKnRoaXMucHJvcHNbNV0rdGhpcy5wcm9wc1sxM10pfWZ1bmN0aW9uIFMoKXtmb3IodmFyIHQ9MCxlPXRoaXMucHJvcHMscj1cIm1hdHJpeDNkKFwiLHM9MWU0OzE2PnQ7KXIrPUQoZVt0XSpzKS9zLHIrPTE1PT09dD9cIilcIjpcIixcIix0Kz0xO3JldHVybiByfWZ1bmN0aW9uIEMoKXt2YXIgdD0xZTQsZT10aGlzLnByb3BzO3JldHVyblwibWF0cml4KFwiK0QoZVswXSp0KS90K1wiLFwiK0QoZVsxXSp0KS90K1wiLFwiK0QoZVs0XSp0KS90K1wiLFwiK0QoZVs1XSp0KS90K1wiLFwiK0QoZVsxMl0qdCkvdCtcIixcIitEKGVbMTNdKnQpL3QrXCIpXCJ9dmFyIGs9TWF0aC5jb3MsQT1NYXRoLnNpbixNPU1hdGgudGFuLEQ9TWF0aC5yb3VuZDtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLnJlc2V0PXQsdGhpcy5yb3RhdGU9ZSx0aGlzLnJvdGF0ZVg9cix0aGlzLnJvdGF0ZVk9cyx0aGlzLnJvdGF0ZVo9aSx0aGlzLnNrZXc9bix0aGlzLnNrZXdGcm9tQXhpcz1vLHRoaXMuc2hlYXI9YSx0aGlzLnNjYWxlPWgsdGhpcy5zZXRUcmFuc2Zvcm09bCx0aGlzLnRyYW5zbGF0ZT1wLHRoaXMudHJhbnNmb3JtPW0sdGhpcy5hcHBseVRvUG9pbnQ9dSx0aGlzLmFwcGx5VG9YPXksdGhpcy5hcHBseVRvWT1nLHRoaXMuYXBwbHlUb1o9dix0aGlzLmFwcGx5VG9Qb2ludEFycmF5PVAsdGhpcy5hcHBseVRvUG9pbnRTdHJpbmdpZmllZD14LHRoaXMudG9DU1M9Uyx0aGlzLnRvMmRDU1M9Qyx0aGlzLmNsb25lPWMsdGhpcy5jbG9uZUZyb21Qcm9wcz1kLHRoaXMuaW52ZXJzZVBvaW50cz1FLHRoaXMuaW52ZXJzZVBvaW50PWIsdGhpcy5fdD10aGlzLnRyYW5zZm9ybSx0aGlzLmlzSWRlbnRpdHk9Zix0aGlzLl9pZGVudGl0eT0hMCx0aGlzLl9pZGVudGl0eUNhbGN1bGF0ZWQ9ITEsdGhpcy5wcm9wcz1jcmVhdGVUeXBlZEFycmF5KFwiZmxvYXQzMlwiLDE2KSx0aGlzLnJlc2V0KCl9fSgpOyFmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHIocixsLHApe3ZhciBjPVtdO2w9MT09bD97ZW50cm9weTohMH06bHx8e307dmFyIHY9bihhKGwuZW50cm9weT9bcixoKHQpXTpudWxsPT1yP28oKTpyLDMpLGMpLGI9bmV3IHMoYyksRT1mdW5jdGlvbigpe2Zvcih2YXIgdD1iLmcoZiksZT11LHI9MDt5PnQ7KXQ9KHQrcikqbSxlKj1tLHI9Yi5nKDEpO2Zvcig7dD49ZzspdC89MixlLz0yLHI+Pj49MTtyZXR1cm4odCtyKS9lfTtyZXR1cm4gRS5pbnQzMj1mdW5jdGlvbigpe3JldHVybiAwfGIuZyg0KX0sRS5xdWljaz1mdW5jdGlvbigpe3JldHVybiBiLmcoNCkvNDI5NDk2NzI5Nn0sRVtcImRvdWJsZVwiXT1FLG4oaChiLlMpLHQpLChsLnBhc3N8fHB8fGZ1bmN0aW9uKHQscixzLGEpe3JldHVybiBhJiYoYS5TJiZpKGEsYiksdC5zdGF0ZT1mdW5jdGlvbigpe3JldHVybiBpKGIse30pfSkscz8oZVtkXT10LHIpOnR9KShFLHYsXCJnbG9iYWxcImluIGw/bC5nbG9iYWw6dGhpcz09ZSxsLnN0YXRlKX1mdW5jdGlvbiBzKHQpe3ZhciBlLHI9dC5sZW5ndGgscz10aGlzLGk9MCxhPXMuaT1zLmo9MCxuPXMuUz1bXTtmb3Iocnx8KHQ9W3IrK10pO20+aTspbltpXT1pKys7Zm9yKGk9MDttPmk7aSsrKW5baV09blthPXYmYSt0W2klcl0rKGU9bltpXSldLG5bYV09ZTsocy5nPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxyPTAsaT1zLmksYT1zLmosbj1zLlM7dC0tOyllPW5baT12JmkrMV0scj1yKm0rblt2JihuW2ldPW5bYT12JmErZV0pKyhuW2FdPWUpXTtyZXR1cm4gcy5pPWkscy5qPWEscn0pKG0pfWZ1bmN0aW9uIGkodCxlKXtyZXR1cm4gZS5pPXQuaSxlLmo9dC5qLGUuUz10LlMuc2xpY2UoKSxlfWZ1bmN0aW9uIGEodCxlKXt2YXIgcixzPVtdLGk9dHlwZW9mIHQ7aWYoZSYmXCJvYmplY3RcIj09aSlmb3IociBpbiB0KXRyeXtzLnB1c2goYSh0W3JdLGUtMSkpfWNhdGNoKG4pe31yZXR1cm4gcy5sZW5ndGg/czpcInN0cmluZ1wiPT1pP3Q6dCtcIlxceDAwXCJ9ZnVuY3Rpb24gbih0LGUpe2Zvcih2YXIgcixzPXQrXCJcIixpPTA7aTxzLmxlbmd0aDspZVt2JmldPXYmKHJePTE5KmVbdiZpXSkrcy5jaGFyQ29kZUF0KGkrKyk7cmV0dXJuIGgoZSl9ZnVuY3Rpb24gbygpe3RyeXtpZihsKXJldHVybiBoKGwucmFuZG9tQnl0ZXMobSkpO3ZhciBlPW5ldyBVaW50OEFycmF5KG0pO3JldHVybihwLmNyeXB0b3x8cC5tc0NyeXB0bykuZ2V0UmFuZG9tVmFsdWVzKGUpLGgoZSl9Y2F0Y2gocil7dmFyIHM9cC5uYXZpZ2F0b3IsaT1zJiZzLnBsdWdpbnM7cmV0dXJuWytuZXcgRGF0ZSxwLGkscC5zY3JlZW4saCh0KV19fWZ1bmN0aW9uIGgodCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoMCx0KX12YXIgbCxwPXRoaXMsbT0yNTYsZj02LGM9NTIsZD1cInJhbmRvbVwiLHU9ZS5wb3cobSxmKSx5PWUucG93KDIsYyksZz0yKnksdj1tLTE7ZVtcInNlZWRcIitkXT1yLG4oZS5yYW5kb20oKSx0KX0oW10sQk1NYXRoKTt2YXIgQmV6aWVyRmFjdG9yeT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLHIscyxpKXt2YXIgYT1pfHwoXCJiZXpfXCIrdCtcIl9cIitlK1wiX1wiK3IrXCJfXCIrcykucmVwbGFjZSgvXFwuL2csXCJwXCIpO2lmKHBbYV0pcmV0dXJuIHBbYV07dmFyIG49bmV3IGgoW3QsZSxyLHNdKTtyZXR1cm4gcFthXT1uLG59ZnVuY3Rpb24gZSh0LGUpe3JldHVybiAxLTMqZSszKnR9ZnVuY3Rpb24gcih0LGUpe3JldHVybiAzKmUtNip0fWZ1bmN0aW9uIHModCl7cmV0dXJuIDMqdH1mdW5jdGlvbiBpKHQsaSxhKXtyZXR1cm4oKGUoaSxhKSp0K3IoaSxhKSkqdCtzKGkpKSp0fWZ1bmN0aW9uIGEodCxpLGEpe3JldHVybiAzKmUoaSxhKSp0KnQrMipyKGksYSkqdCtzKGkpfWZ1bmN0aW9uIG4odCxlLHIscyxhKXt2YXIgbixvLGg9MDtkbyBvPWUrKHItZSkvMixuPWkobyxzLGEpLXQsbj4wP3I9bzplPW87d2hpbGUoTWF0aC5hYnMobik+YyYmKytoPGQpO3JldHVybiBvfWZ1bmN0aW9uIG8odCxlLHIscyl7Zm9yKHZhciBuPTA7bT5uOysrbil7dmFyIG89YShlLHIscyk7aWYoMD09PW8pcmV0dXJuIGU7dmFyIGg9aShlLHIscyktdDtlLT1oL299cmV0dXJuIGV9ZnVuY3Rpb24gaCh0KXt0aGlzLl9wPXQsdGhpcy5fbVNhbXBsZVZhbHVlcz1nP25ldyBGbG9hdDMyQXJyYXkodSk6bmV3IEFycmF5KHUpLHRoaXMuX3ByZWNvbXB1dGVkPSExLHRoaXMuZ2V0PXRoaXMuZ2V0LmJpbmQodGhpcyl9dmFyIGw9e307bC5nZXRCZXppZXJFYXNpbmc9dDt2YXIgcD17fSxtPTQsZj0uMDAxLGM9MWUtNyxkPTEwLHU9MTEseT0xLyh1LTEpLGc9XCJmdW5jdGlvblwiPT10eXBlb2YgRmxvYXQzMkFycmF5O3JldHVybiBoLnByb3RvdHlwZT17Z2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BbMF0scj10aGlzLl9wWzFdLHM9dGhpcy5fcFsyXSxhPXRoaXMuX3BbM107cmV0dXJuIHRoaXMuX3ByZWNvbXB1dGVkfHx0aGlzLl9wcmVjb21wdXRlKCksZT09PXImJnM9PT1hP3Q6MD09PXQ/MDoxPT09dD8xOmkodGhpcy5fZ2V0VEZvclgodCkscixhKX0sX3ByZWNvbXB1dGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wWzBdLGU9dGhpcy5fcFsxXSxyPXRoaXMuX3BbMl0scz10aGlzLl9wWzNdO3RoaXMuX3ByZWNvbXB1dGVkPSEwLCh0IT09ZXx8ciE9PXMpJiZ0aGlzLl9jYWxjU2FtcGxlVmFsdWVzKCl9LF9jYWxjU2FtcGxlVmFsdWVzOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX3BbMF0sZT10aGlzLl9wWzJdLHI9MDt1PnI7KytyKXRoaXMuX21TYW1wbGVWYWx1ZXNbcl09aShyKnksdCxlKX0sX2dldFRGb3JYOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9wWzBdLHI9dGhpcy5fcFsyXSxzPXRoaXMuX21TYW1wbGVWYWx1ZXMsaT0wLGg9MSxsPXUtMTtoIT09bCYmc1toXTw9dDsrK2gpaSs9eTstLWg7dmFyIHA9KHQtc1toXSkvKHNbaCsxXS1zW2hdKSxtPWkrcCp5LGM9YShtLGUscik7cmV0dXJuIGM+PWY/byh0LG0sZSxyKTowPT09Yz9tOm4odCxpLGkreSxlLHIpfX0sbH0oKTshZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPVtcIm1zXCIsXCJtb3pcIixcIndlYmtpdFwiLFwib1wiXSxyPTA7cjxlLmxlbmd0aCYmIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7KytyKXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9d2luZG93W2Vbcl0rXCJSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl0sd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lPXdpbmRvd1tlW3JdK1wiQ2FuY2VsQW5pbWF0aW9uRnJhbWVcIl18fHdpbmRvd1tlW3JdK1wiQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdO3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKGUscil7dmFyIHM9KG5ldyBEYXRlKS5nZXRUaW1lKCksaT1NYXRoLm1heCgwLDE2LShzLXQpKSxhPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKHMraSl9LGkpO3JldHVybiB0PXMraSxhfSksd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHwod2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKHQpe2NsZWFyVGltZW91dCh0KX0pfSgpO3ZhciBiZXo9YmV6RnVuY3Rpb24oKSxkYXRhTWFuYWdlcj1kYXRhRnVuY3Rpb25NYW5hZ2VyKCksRm9udE1hbmFnZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7ci5zdHlsZS5mb250RmFtaWx5PWU7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7cy5pbm5lckhUTUw9XCJnaUl0VDFXUXlAIS0vI1wiLHIuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHIuc3R5bGUubGVmdD1cIi0xMDAwMHB4XCIsci5zdHlsZS50b3A9XCItMTAwMDBweFwiLHIuc3R5bGUuZm9udFNpemU9XCIzMDBweFwiLHIuc3R5bGUuZm9udFZhcmlhbnQ9XCJub3JtYWxcIixyLnN0eWxlLmZvbnRTdHlsZT1cIm5vcm1hbFwiLHIuc3R5bGUuZm9udFdlaWdodD1cIm5vcm1hbFwiLHIuc3R5bGUubGV0dGVyU3BhY2luZz1cIjBcIixyLmFwcGVuZENoaWxkKHMpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocik7dmFyIGk9cy5vZmZzZXRXaWR0aDtyZXR1cm4gcy5zdHlsZS5mb250RmFtaWx5PXQrXCIsIFwiK2Use25vZGU6cyx3OmkscGFyZW50OnJ9fWZ1bmN0aW9uIGUoKXt2YXIgdCxyLHMsaT10aGlzLmZvbnRzLmxlbmd0aCxhPWk7Zm9yKHQ9MDtpPnQ7dCs9MSlpZih0aGlzLmZvbnRzW3RdLmxvYWRlZClhLT0xO2Vsc2UgaWYoXCJ0XCI9PT10aGlzLmZvbnRzW3RdLmZPcmlnaW58fDI9PT10aGlzLmZvbnRzW3RdLm9yaWdpbil7aWYod2luZG93LlR5cGVraXQmJndpbmRvdy5UeXBla2l0LmxvYWQmJjA9PT10aGlzLnR5cGVraXRMb2FkZWQpe3RoaXMudHlwZWtpdExvYWRlZD0xO3RyeXt3aW5kb3cuVHlwZWtpdC5sb2FkKHthc3luYzohMCxhY3RpdmU6ZnVuY3Rpb24oKXt0aGlzLnR5cGVraXRMb2FkZWQ9Mn0uYmluZCh0aGlzKX0pfWNhdGNoKG4pe319Mj09PXRoaXMudHlwZWtpdExvYWRlZCYmKHRoaXMuZm9udHNbdF0ubG9hZGVkPSEwKX1lbHNlXCJuXCI9PT10aGlzLmZvbnRzW3RdLmZPcmlnaW58fDA9PT10aGlzLmZvbnRzW3RdLm9yaWdpbj90aGlzLmZvbnRzW3RdLmxvYWRlZD0hMDoocj10aGlzLmZvbnRzW3RdLm1vbm9DYXNlLm5vZGUscz10aGlzLmZvbnRzW3RdLm1vbm9DYXNlLncsci5vZmZzZXRXaWR0aCE9PXM/KGEtPTEsdGhpcy5mb250c1t0XS5sb2FkZWQ9ITApOihyPXRoaXMuZm9udHNbdF0uc2Fuc0Nhc2Uubm9kZSxzPXRoaXMuZm9udHNbdF0uc2Fuc0Nhc2UudyxyLm9mZnNldFdpZHRoIT09cyYmKGEtPTEsdGhpcy5mb250c1t0XS5sb2FkZWQ9ITApKSx0aGlzLmZvbnRzW3RdLmxvYWRlZCYmKHRoaXMuZm9udHNbdF0uc2Fuc0Nhc2UucGFyZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5mb250c1t0XS5zYW5zQ2FzZS5wYXJlbnQpLHRoaXMuZm9udHNbdF0ubW9ub0Nhc2UucGFyZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5mb250c1t0XS5tb25vQ2FzZS5wYXJlbnQpKSk7MCE9PWEmJkRhdGUubm93KCktdGhpcy5pbml0VGltZTxoP3NldFRpbWVvdXQoZS5iaW5kKHRoaXMpLDIwKTpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5sb2FkZWQ9ITB9LmJpbmQodGhpcyksMCl9ZnVuY3Rpb24gcih0LGUpe3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInRleHRcIik7ci5zdHlsZS5mb250U2l6ZT1cIjEwMHB4XCIsci5zdHlsZS5mb250RmFtaWx5PWUuZkZhbWlseSxyLnRleHRDb250ZW50PVwiMVwiLGUuZkNsYXNzPyhyLnN0eWxlLmZvbnRGYW1pbHk9XCJpbmhlcml0XCIsci5jbGFzc05hbWU9ZS5mQ2xhc3MpOnIuc3R5bGUuZm9udEZhbWlseT1lLmZGYW1pbHksdC5hcHBlbmRDaGlsZChyKTt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLmdldENvbnRleHQoXCIyZFwiKTtyZXR1cm4gcy5mb250PVwiMTAwcHggXCIrZS5mRmFtaWx5LHN9ZnVuY3Rpb24gcyhzLGkpe2lmKCFzKXJldHVybiB2b2lkKHRoaXMubG9hZGVkPSEwKTtpZih0aGlzLmNoYXJzKXJldHVybiB0aGlzLmxvYWRlZD0hMCx2b2lkKHRoaXMuZm9udHM9cy5saXN0KTt2YXIgYSxuPXMubGlzdCxvPW4ubGVuZ3RoO2ZvcihhPTA7bz5hO2ErPTEpe2lmKG5bYV0ubG9hZGVkPSExLG5bYV0ubW9ub0Nhc2U9dChuW2FdLmZGYW1pbHksXCJtb25vc3BhY2VcIiksblthXS5zYW5zQ2FzZT10KG5bYV0uZkZhbWlseSxcInNhbnMtc2VyaWZcIiksblthXS5mUGF0aCl7aWYoXCJwXCI9PT1uW2FdLmZPcmlnaW58fDM9PT1uW2FdLm9yaWdpbil7dmFyIGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO2gudHlwZT1cInRleHQvY3NzXCIsaC5pbm5lckhUTUw9XCJAZm9udC1mYWNlIHtmb250LWZhbWlseTogXCIrblthXS5mRmFtaWx5K1wiOyBmb250LXN0eWxlOiBub3JtYWw7IHNyYzogdXJsKCdcIituW2FdLmZQYXRoK1wiJyk7fVwiLGkuYXBwZW5kQ2hpbGQoaCl9ZWxzZSBpZihcImdcIj09PW5bYV0uZk9yaWdpbnx8MT09PW5bYV0ub3JpZ2luKXt2YXIgbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtsLnR5cGU9XCJ0ZXh0L2Nzc1wiLGwucmVsPVwic3R5bGVzaGVldFwiLGwuaHJlZj1uW2FdLmZQYXRoLGkuYXBwZW5kQ2hpbGQobCl9ZWxzZSBpZihcInRcIj09PW5bYV0uZk9yaWdpbnx8Mj09PW5bYV0ub3JpZ2luKXt2YXIgcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO3Auc2V0QXR0cmlidXRlKFwic3JjXCIsblthXS5mUGF0aCksaS5hcHBlbmRDaGlsZChwKX19ZWxzZSBuW2FdLmxvYWRlZD0hMDtuW2FdLmhlbHBlcj1yKGksblthXSksdGhpcy5mb250cy5wdXNoKG5bYV0pfWUuYmluZCh0aGlzKSgpfWZ1bmN0aW9uIGkodCl7aWYodCl7dGhpcy5jaGFyc3x8KHRoaXMuY2hhcnM9W10pO3ZhciBlLHIscyxpPXQubGVuZ3RoLGE9dGhpcy5jaGFycy5sZW5ndGg7Zm9yKGU9MDtpPmU7ZSs9MSl7Zm9yKHI9MCxzPSExO2E+cjspdGhpcy5jaGFyc1tyXS5zdHlsZT09PXRbZV0uc3R5bGUmJnRoaXMuY2hhcnNbcl0uZkZhbWlseT09PXRbZV0uZkZhbWlseSYmdGhpcy5jaGFyc1tyXS5jaD09PXRbZV0uY2gmJihzPSEwKSxyKz0xO3N8fCh0aGlzLmNoYXJzLnB1c2godFtlXSksYSs9MSl9fX1mdW5jdGlvbiBhKHQsZSxyKXtmb3IodmFyIHM9MCxpPXRoaXMuY2hhcnMubGVuZ3RoO2k+czspe2lmKHRoaXMuY2hhcnNbc10uY2g9PT10JiZ0aGlzLmNoYXJzW3NdLnN0eWxlPT09ZSYmdGhpcy5jaGFyc1tzXS5mRmFtaWx5PT09cilyZXR1cm4gdGhpcy5jaGFyc1tzXTtzKz0xfX1mdW5jdGlvbiBuKHQsZSxyKXt2YXIgcz10aGlzLmdldEZvbnRCeU5hbWUoZSksaT1zLmhlbHBlcjtyZXR1cm4gaS5tZWFzdXJlVGV4dCh0KS53aWR0aCpyLzEwMH1mdW5jdGlvbiBvKHQpe2Zvcih2YXIgZT0wLHI9dGhpcy5mb250cy5sZW5ndGg7cj5lOyl7aWYodGhpcy5mb250c1tlXS5mTmFtZT09PXQpcmV0dXJuIHRoaXMuZm9udHNbZV07ZSs9MX1yZXR1cm5cInNhbnMtc2VyaWZcIn12YXIgaD01ZTMsbD1mdW5jdGlvbigpe3RoaXMuZm9udHM9W10sdGhpcy5jaGFycz1udWxsLHRoaXMudHlwZWtpdExvYWRlZD0wLHRoaXMubG9hZGVkPSExLHRoaXMuaW5pdFRpbWU9RGF0ZS5ub3coKX07cmV0dXJuIGwucHJvdG90eXBlLmFkZENoYXJzPWksbC5wcm90b3R5cGUuYWRkRm9udHM9cyxsLnByb3RvdHlwZS5nZXRDaGFyRGF0YT1hLGwucHJvdG90eXBlLmdldEZvbnRCeU5hbWU9byxsLnByb3RvdHlwZS5tZWFzdXJlVGV4dD1uLGx9KCksUHJvcGVydHlGYWN0b3J5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUscixzKXt2YXIgaSxhPXRoaXMub2Zmc2V0VGltZTtyLmNvbnN0cnVjdG9yPT09QXJyYXkmJihpPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDpyLmxlbmd0aH0pKTtmb3IodmFyIG4sbyxoPWUsbD10aGlzLmtleWZyYW1lcy5sZW5ndGgtMSxwPSEwO3A7KXtpZihuPXRoaXMua2V5ZnJhbWVzW2hdLG89dGhpcy5rZXlmcmFtZXNbaCsxXSxoPT1sLTEmJnQ+PW8udC1hKXtuLmgmJihuPW8pLGU9MDticmVha31pZihvLnQtYT50KXtlPWg7YnJlYWt9bC0xPmg/aCs9MTooZT0wLHA9ITEpfXZhciBtLGYsYyxkLHUseTtpZihuLnRvKXtuLmJlemllckRhdGF8fGJlei5idWlsZEJlemllckRhdGEobik7dmFyIGc9bi5iZXppZXJEYXRhO2lmKHQ+PW8udC1hfHx0PG4udC1hKXt2YXIgdj10Pj1vLnQtYT9nLnBvaW50cy5sZW5ndGgtMTowO2ZvcihmPWcucG9pbnRzW3ZdLnBvaW50Lmxlbmd0aCxtPTA7Zj5tO20rPTEpaVttXT1nLnBvaW50c1t2XS5wb2ludFttXTtzLl9sYXN0QmV6aWVyRGF0YT1udWxsfWVsc2V7bi5fX2ZuY3Q/eT1uLl9fZm5jdDooeT1CZXppZXJGYWN0b3J5LmdldEJlemllckVhc2luZyhuLm8ueCxuLm8ueSxuLmkueCxuLmkueSxuLm4pLmdldCxuLl9fZm5jdD15KSxjPXkoKHQtKG4udC1hKSkvKG8udC1hLShuLnQtYSkpKTt2YXIgYixFPWcuc2VnbWVudExlbmd0aCpjLFA9cy5sYXN0RnJhbWU8dCYmcy5fbGFzdEJlemllckRhdGE9PT1nP3MuX2xhc3RBZGRlZExlbmd0aDowO2Zvcih1PXMubGFzdEZyYW1lPHQmJnMuX2xhc3RCZXppZXJEYXRhPT09Zz9zLl9sYXN0UG9pbnQ6MCxwPSEwLGQ9Zy5wb2ludHMubGVuZ3RoO3A7KXtpZihQKz1nLnBvaW50c1t1XS5wYXJ0aWFsTGVuZ3RoLDA9PT1FfHwwPT09Y3x8dT09Zy5wb2ludHMubGVuZ3RoLTEpe2ZvcihmPWcucG9pbnRzW3VdLnBvaW50Lmxlbmd0aCxtPTA7Zj5tO20rPTEpaVttXT1nLnBvaW50c1t1XS5wb2ludFttXTticmVha31pZihFPj1QJiZFPFArZy5wb2ludHNbdSsxXS5wYXJ0aWFsTGVuZ3RoKXtmb3IoYj0oRS1QKS9nLnBvaW50c1t1KzFdLnBhcnRpYWxMZW5ndGgsZj1nLnBvaW50c1t1XS5wb2ludC5sZW5ndGgsbT0wO2Y+bTttKz0xKWlbbV09Zy5wb2ludHNbdV0ucG9pbnRbbV0rKGcucG9pbnRzW3UrMV0ucG9pbnRbbV0tZy5wb2ludHNbdV0ucG9pbnRbbV0pKmI7YnJlYWt9ZC0xPnU/dSs9MTpwPSExfXMuX2xhc3RQb2ludD11LHMuX2xhc3RBZGRlZExlbmd0aD1QLWcucG9pbnRzW3VdLnBhcnRpYWxMZW5ndGgscy5fbGFzdEJlemllckRhdGE9Z319ZWxzZXt2YXIgeCxTLEMsayxBO2ZvcihsPW4ucy5sZW5ndGgsaD0wO2w+aDtoKz0xKXtpZigxIT09bi5oJiYodD49by50LWE/Yz0xOnQ8bi50LWE/Yz0wOihuLm8ueC5jb25zdHJ1Y3Rvcj09PUFycmF5PyhuLl9fZm5jdHx8KG4uX19mbmN0PVtdKSxuLl9fZm5jdFtoXT95PW4uX19mbmN0W2hdOih4PW4uby54W2hdfHxuLm8ueFswXSxTPW4uby55W2hdfHxuLm8ueVswXSxDPW4uaS54W2hdfHxuLmkueFswXSxrPW4uaS55W2hdfHxuLmkueVswXSx5PUJlemllckZhY3RvcnkuZ2V0QmV6aWVyRWFzaW5nKHgsUyxDLGspLmdldCxuLl9fZm5jdFtoXT15KSk6bi5fX2ZuY3Q/eT1uLl9fZm5jdDooeD1uLm8ueCxTPW4uby55LEM9bi5pLngsaz1uLmkueSx5PUJlemllckZhY3RvcnkuZ2V0QmV6aWVyRWFzaW5nKHgsUyxDLGspLmdldCxuLl9fZm5jdD15KSxjPXkoKHQtKG4udC1hKSkvKG8udC1hLShuLnQtYSkpKSkpLHRoaXMuc2gmJjEhPT1uLmgpe3ZhciBNPW4uc1toXSxEPW4uZVtoXTstMTgwPk0tRD9NKz0zNjA6TS1EPjE4MCYmKE0tPTM2MCksQT1NKyhELU0pKmN9ZWxzZSBBPTE9PT1uLmg/bi5zW2hdOm4uc1toXSsobi5lW2hdLW4uc1toXSkqYzsxPT09bD9pPUE6aVtoXT1BfX1yZXR1cm57dmFsdWU6aSxpdGVyYXRpb25JbmRleDplfX1mdW5jdGlvbiBlKCl7aWYodGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVJZCE9PXRoaXMuZnJhbWVJZCl7dGhpcy5tZGY9ITE7dmFyIHQ9dGhpcy5jb21wLnJlbmRlcmVkRnJhbWUtdGhpcy5vZmZzZXRUaW1lLGU9dGhpcy5rZXlmcmFtZXNbMF0udC10aGlzLm9mZnNldFRpbWUscj10aGlzLmtleWZyYW1lc1t0aGlzLmtleWZyYW1lcy5sZW5ndGgtMV0udC10aGlzLm9mZnNldFRpbWU7aWYoISh0PT09dGhpcy5fY2FjaGluZy5sYXN0RnJhbWV8fHRoaXMuX2NhY2hpbmcubGFzdEZyYW1lIT09aCYmKHRoaXMuX2NhY2hpbmcubGFzdEZyYW1lPj1yJiZ0Pj1yfHx0aGlzLl9jYWNoaW5nLmxhc3RGcmFtZTxlJiZlPnQpKSl7dmFyIHM9dGhpcy5fY2FjaGluZy5sYXN0RnJhbWU8dD90aGlzLl9jYWNoaW5nLmxhc3RJbmRleDowLGk9dGhpcy5pbnRlcnBvbGF0ZVZhbHVlKHQscyx0aGlzLnB2LHRoaXMuX2NhY2hpbmcpO2lmKHRoaXMuX2NhY2hpbmcubGFzdEluZGV4PWkuaXRlcmF0aW9uSW5kZXgsdGhpcy5wdi5jb25zdHJ1Y3Rvcj09PUFycmF5KWZvcihzPTA7czx0aGlzLnYubGVuZ3RoOyl0aGlzLnB2W3NdPWkudmFsdWVbc10sdGhpcy52W3NdPXRoaXMubXVsdD90aGlzLnB2W3NdKnRoaXMubXVsdDp0aGlzLnB2W3NdLHRoaXMubGFzdFBWYWx1ZVtzXSE9PXRoaXMucHZbc10mJih0aGlzLm1kZj0hMCx0aGlzLmxhc3RQVmFsdWVbc109dGhpcy5wdltzXSkscys9MTtlbHNlIHRoaXMucHY9aS52YWx1ZSx0aGlzLnY9dGhpcy5tdWx0P3RoaXMucHYqdGhpcy5tdWx0OnRoaXMucHYsdGhpcy5sYXN0UFZhbHVlIT10aGlzLnB2JiYodGhpcy5tZGY9ITAsdGhpcy5sYXN0UFZhbHVlPXRoaXMucHYpfXRoaXMuX2NhY2hpbmcubGFzdEZyYW1lPXQsdGhpcy5mcmFtZUlkPXRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWR9fWZ1bmN0aW9uIHIoKXt9ZnVuY3Rpb24gcyh0LGUscyl7dGhpcy5tdWx0PXMsdGhpcy52PXM/ZS5rKnM6ZS5rLHRoaXMucHY9ZS5rLHRoaXMubWRmPSExLHRoaXMuY29tcD10LmNvbXAsdGhpcy5rPSExLHRoaXMua2Y9ITEsdGhpcy52ZWw9MCx0aGlzLmdldFZhbHVlPXJ9ZnVuY3Rpb24gaSh0LGUscyl7dGhpcy5tdWx0PXMsdGhpcy5kYXRhPWUsdGhpcy5tZGY9ITEsdGhpcy5jb21wPXQuY29tcCx0aGlzLms9ITEsdGhpcy5rZj0hMSx0aGlzLmZyYW1lSWQ9LTEsdGhpcy52PUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDplLmsubGVuZ3RofSksdGhpcy5wdj1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6ZS5rLmxlbmd0aH0pLHRoaXMubGFzdFZhbHVlPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDplLmsubGVuZ3RofSk7dmFyIGk9QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOmUuay5sZW5ndGh9KTt0aGlzLnZlbD1pLm1hcChmdW5jdGlvbigpe3JldHVybiAwfSk7dmFyIGEsbj1lLmsubGVuZ3RoO2ZvcihhPTA7bj5hO2ErPTEpdGhpcy52W2FdPXM/ZS5rW2FdKnM6ZS5rW2FdLHRoaXMucHZbYV09ZS5rW2FdO3RoaXMuZ2V0VmFsdWU9cn1mdW5jdGlvbiBhKHIscyxpKXt0aGlzLmtleWZyYW1lcz1zLmssdGhpcy5vZmZzZXRUaW1lPXIuZGF0YS5zdCx0aGlzLmxhc3RWYWx1ZT0tOTk5OTksdGhpcy5sYXN0UFZhbHVlPS05OTk5OSx0aGlzLmZyYW1lSWQ9LTEsdGhpcy5fY2FjaGluZz17bGFzdEZyYW1lOmgsbGFzdEluZGV4OjB9LHRoaXMuaz0hMCx0aGlzLmtmPSEwLHRoaXMuZGF0YT1zLHRoaXMubXVsdD1pLHRoaXMuZWxlbT1yLHRoaXMuY29tcD1yLmNvbXAsdGhpcy52PWk/cy5rWzBdLnNbMF0qaTpzLmtbMF0uc1swXSx0aGlzLnB2PXMua1swXS5zWzBdLHRoaXMuZ2V0VmFsdWU9ZSx0aGlzLmludGVycG9sYXRlVmFsdWU9dH1mdW5jdGlvbiBuKHIscyxpKXt2YXIgYSxuLG8sbCxwLG09cy5rLmxlbmd0aDtmb3IoYT0wO20tMT5hO2ErPTEpcy5rW2FdLnRvJiZzLmtbYV0ucyYmcy5rW2FdLmUmJihuPXMua1thXS5zLG89cy5rW2FdLmUsbD1zLmtbYV0udG8scD1zLmtbYV0udGksKDI9PT1uLmxlbmd0aCYmKG5bMF0hPT1vWzBdfHxuWzFdIT09b1sxXSkmJmJlei5wb2ludE9uTGluZTJEKG5bMF0sblsxXSxvWzBdLG9bMV0sblswXStsWzBdLG5bMV0rbFsxXSkmJmJlei5wb2ludE9uTGluZTJEKG5bMF0sblsxXSxvWzBdLG9bMV0sb1swXStwWzBdLG9bMV0rcFsxXSl8fDM9PT1uLmxlbmd0aCYmKG5bMF0hPT1vWzBdfHxuWzFdIT09b1sxXXx8blsyXSE9PW9bMl0pJiZiZXoucG9pbnRPbkxpbmUzRChuWzBdLG5bMV0sblsyXSxvWzBdLG9bMV0sb1syXSxuWzBdK2xbMF0sblsxXStsWzFdLG5bMl0rbFsyXSkmJmJlei5wb2ludE9uTGluZTNEKG5bMF0sblsxXSxuWzJdLG9bMF0sb1sxXSxvWzJdLG9bMF0rcFswXSxvWzFdK3BbMV0sb1syXStwWzJdKSkmJihzLmtbYV0udG89bnVsbCxzLmtbYV0udGk9bnVsbCkpO3RoaXMua2V5ZnJhbWVzPXMuayx0aGlzLm9mZnNldFRpbWU9ci5kYXRhLnN0LHRoaXMuaz0hMCx0aGlzLmtmPSEwLHRoaXMubXVsdD1pLHRoaXMuZWxlbT1yLHRoaXMuY29tcD1yLmNvbXAsdGhpcy5fY2FjaGluZz17bGFzdEZyYW1lOmgsbGFzdEluZGV4OjB9LHRoaXMuZ2V0VmFsdWU9ZSx0aGlzLmludGVycG9sYXRlVmFsdWU9dCx0aGlzLmZyYW1lSWQ9LTEsdGhpcy52PUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDpzLmtbMF0ucy5sZW5ndGh9KSx0aGlzLnB2PUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDpzLmtbMF0ucy5sZW5ndGh9KSx0aGlzLmxhc3RWYWx1ZT1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6cy5rWzBdLnMubGVuZ3RofSksdGhpcy5sYXN0UFZhbHVlPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDpzLmtbMF0ucy5sZW5ndGh9KX1mdW5jdGlvbiBvKHQsZSxyLG8saCl7dmFyIGw7aWYoMD09PWUuYSlsPTA9PT1yP25ldyBzKHQsZSxvKTpuZXcgaSh0LGUsbyk7ZWxzZSBpZigxPT09ZS5hKWw9MD09PXI/bmV3IGEodCxlLG8pOm5ldyBuKHQsZSxvKTtlbHNlIGlmKGUuay5sZW5ndGgpaWYoXCJudW1iZXJcIj09dHlwZW9mIGUua1swXSlsPW5ldyBpKHQsZSxvKTtlbHNlIHN3aXRjaChyKXtjYXNlIDA6bD1uZXcgYSh0LGUsbyk7YnJlYWs7Y2FzZSAxOmw9bmV3IG4odCxlLG8pfWVsc2UgbD1uZXcgcyh0LGUsbyk7cmV0dXJuIGwuayYmaC5wdXNoKGwpLGx9dmFyIGg9LTk5OTk5OSxsPXtnZXRQcm9wOm99O3JldHVybiBsfSgpLFRyYW5zZm9ybVByb3BlcnR5RmFjdG9yeT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5wP0V4cHJlc3Npb25WYWx1ZSh0aGlzLnApOlt0aGlzLnB4LnYsdGhpcy5weS52LHRoaXMucHo/dGhpcy5wei52OjBdfWZ1bmN0aW9uIGUoKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKHRoaXMucHgpfWZ1bmN0aW9uIHIoKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKHRoaXMucHkpfWZ1bmN0aW9uIHMoKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKHRoaXMuYSl9ZnVuY3Rpb24gaSgpe3JldHVybiBFeHByZXNzaW9uVmFsdWUodGhpcy5vcil9ZnVuY3Rpb24gYSgpe3JldHVybiB0aGlzLnI/RXhwcmVzc2lvblZhbHVlKHRoaXMuciwxL2RlZ1RvUmFkcyk6RXhwcmVzc2lvblZhbHVlKHRoaXMucnosMS9kZWdUb1JhZHMpfWZ1bmN0aW9uIG4oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKHRoaXMucywxMDApfWZ1bmN0aW9uIG8oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKHRoaXMubywxMDApfWZ1bmN0aW9uIGgoKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKHRoaXMuc2spfWZ1bmN0aW9uIGwoKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKHRoaXMuc2EpfWZ1bmN0aW9uIHAodCl7dmFyIGUscj10aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDtmb3IoZT0wO3I+ZTtlKz0xKXRoaXMuZHluYW1pY1Byb3BlcnRpZXNbZV0uZ2V0VmFsdWUoKSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2VdLm1kZiYmKHRoaXMubWRmPSEwKTt0aGlzLmEmJnQudHJhbnNsYXRlKC10aGlzLmEudlswXSwtdGhpcy5hLnZbMV0sdGhpcy5hLnZbMl0pLHRoaXMucyYmdC5zY2FsZSh0aGlzLnMudlswXSx0aGlzLnMudlsxXSx0aGlzLnMudlsyXSksdGhpcy5yP3Qucm90YXRlKC10aGlzLnIudik6dC5yb3RhdGVaKC10aGlzLnJ6LnYpLnJvdGF0ZVkodGhpcy5yeS52KS5yb3RhdGVYKHRoaXMucngudikucm90YXRlWigtdGhpcy5vci52WzJdKS5yb3RhdGVZKHRoaXMub3IudlsxXSkucm90YXRlWCh0aGlzLm9yLnZbMF0pLHRoaXMuZGF0YS5wLnM/dGhpcy5kYXRhLnAuej90LnRyYW5zbGF0ZSh0aGlzLnB4LnYsdGhpcy5weS52LC10aGlzLnB6LnYpOnQudHJhbnNsYXRlKHRoaXMucHgudix0aGlzLnB5LnYsMCk6dC50cmFuc2xhdGUodGhpcy5wLnZbMF0sdGhpcy5wLnZbMV0sLXRoaXMucC52WzJdKX1mdW5jdGlvbiBtKCl7aWYodGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVJZCE9PXRoaXMuZnJhbWVJZCl7dGhpcy5tZGY9ITE7dmFyIHQsZT10aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDtmb3IodD0wO2U+dDt0Kz0xKXRoaXMuZHluYW1pY1Byb3BlcnRpZXNbdF0uZ2V0VmFsdWUoKSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW3RdLm1kZiYmKHRoaXMubWRmPSEwKTtpZih0aGlzLm1kZil7aWYodGhpcy52LnJlc2V0KCksdGhpcy5hJiZ0aGlzLnYudHJhbnNsYXRlKC10aGlzLmEudlswXSwtdGhpcy5hLnZbMV0sdGhpcy5hLnZbMl0pLHRoaXMucyYmdGhpcy52LnNjYWxlKHRoaXMucy52WzBdLHRoaXMucy52WzFdLHRoaXMucy52WzJdKSx0aGlzLnNrJiZ0aGlzLnYuc2tld0Zyb21BeGlzKC10aGlzLnNrLnYsdGhpcy5zYS52KSx0aGlzLnI/dGhpcy52LnJvdGF0ZSgtdGhpcy5yLnYpOnRoaXMudi5yb3RhdGVaKC10aGlzLnJ6LnYpLnJvdGF0ZVkodGhpcy5yeS52KS5yb3RhdGVYKHRoaXMucngudikucm90YXRlWigtdGhpcy5vci52WzJdKS5yb3RhdGVZKHRoaXMub3IudlsxXSkucm90YXRlWCh0aGlzLm9yLnZbMF0pLHRoaXMuYXV0b09yaWVudGVkJiZ0aGlzLnAua2V5ZnJhbWVzJiZ0aGlzLnAuZ2V0VmFsdWVBdFRpbWUpe3ZhciByLHM7dGhpcy5wLl9jYWNoaW5nLmxhc3RGcmFtZSt0aGlzLnAub2Zmc2V0VGltZTw9dGhpcy5wLmtleWZyYW1lc1swXS50PyhyPXRoaXMucC5nZXRWYWx1ZUF0VGltZSgodGhpcy5wLmtleWZyYW1lc1swXS50Ky4wMSkvdGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVSYXRlLDApLHM9dGhpcy5wLmdldFZhbHVlQXRUaW1lKHRoaXMucC5rZXlmcmFtZXNbMF0udC90aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZVJhdGUsMCkpOnRoaXMucC5fY2FjaGluZy5sYXN0RnJhbWUrdGhpcy5wLm9mZnNldFRpbWU+PXRoaXMucC5rZXlmcmFtZXNbdGhpcy5wLmtleWZyYW1lcy5sZW5ndGgtMV0udD8ocj10aGlzLnAuZ2V0VmFsdWVBdFRpbWUodGhpcy5wLmtleWZyYW1lc1t0aGlzLnAua2V5ZnJhbWVzLmxlbmd0aC0xXS50L3RoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lUmF0ZSwwKSxzPXRoaXMucC5nZXRWYWx1ZUF0VGltZSgodGhpcy5wLmtleWZyYW1lc1t0aGlzLnAua2V5ZnJhbWVzLmxlbmd0aC0xXS50LS4wMSkvdGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVSYXRlLDApKToocj10aGlzLnAucHYscz10aGlzLnAuZ2V0VmFsdWVBdFRpbWUoKHRoaXMucC5fY2FjaGluZy5sYXN0RnJhbWUrdGhpcy5wLm9mZnNldFRpbWUtLjAxKS90aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZVJhdGUsdGhpcy5wLm9mZnNldFRpbWUpKSx0aGlzLnYucm90YXRlKC1NYXRoLmF0YW4yKHJbMV0tc1sxXSxyWzBdLXNbMF0pKX10aGlzLmRhdGEucC5zP3RoaXMuZGF0YS5wLno/dGhpcy52LnRyYW5zbGF0ZSh0aGlzLnB4LnYsdGhpcy5weS52LC10aGlzLnB6LnYpOnRoaXMudi50cmFuc2xhdGUodGhpcy5weC52LHRoaXMucHkudiwwKTp0aGlzLnYudHJhbnNsYXRlKHRoaXMucC52WzBdLHRoaXMucC52WzFdLC10aGlzLnAudlsyXSl9dGhpcy5mcmFtZUlkPXRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWR9fWZ1bmN0aW9uIGYoKXt0aGlzLmludmVydGVkPSEwLHRoaXMuaXY9bmV3IE1hdHJpeCx0aGlzLmt8fCh0aGlzLmRhdGEucC5zP3RoaXMuaXYudHJhbnNsYXRlKHRoaXMucHgudix0aGlzLnB5LnYsLXRoaXMucHoudik6dGhpcy5pdi50cmFuc2xhdGUodGhpcy5wLnZbMF0sdGhpcy5wLnZbMV0sLXRoaXMucC52WzJdKSx0aGlzLnI/dGhpcy5pdi5yb3RhdGUoLXRoaXMuci52KTp0aGlzLml2LnJvdGF0ZVgoLXRoaXMucngudikucm90YXRlWSgtdGhpcy5yeS52KS5yb3RhdGVaKHRoaXMucnoudiksdGhpcy5zJiZ0aGlzLml2LnNjYWxlKHRoaXMucy52WzBdLHRoaXMucy52WzFdLDEpLHRoaXMuYSYmdGhpcy5pdi50cmFuc2xhdGUoLXRoaXMuYS52WzBdLC10aGlzLmEudlsxXSx0aGlzLmEudlsyXSkpfWZ1bmN0aW9uIGMoKXt9ZnVuY3Rpb24gZChwLG0sZil7dGhpcy5lbGVtPXAsdGhpcy5mcmFtZUlkPS0xLHRoaXMudHlwZT1cInRyYW5zZm9ybVwiLHRoaXMuZHluYW1pY1Byb3BlcnRpZXM9W10sdGhpcy5tZGY9ITEsdGhpcy5kYXRhPW0sdGhpcy52PW5ldyBNYXRyaXgsbS5wLnM/KHRoaXMucHg9UHJvcGVydHlGYWN0b3J5LmdldFByb3AocCxtLnAueCwwLDAsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5weT1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcChwLG0ucC55LDAsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSxtLnAueiYmKHRoaXMucHo9UHJvcGVydHlGYWN0b3J5LmdldFByb3AocCxtLnAueiwwLDAsdGhpcy5keW5hbWljUHJvcGVydGllcykpKTp0aGlzLnA9UHJvcGVydHlGYWN0b3J5LmdldFByb3AocCxtLnAsMSwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLG0ucj90aGlzLnI9UHJvcGVydHlGYWN0b3J5LmdldFByb3AocCxtLnIsMCxkZWdUb1JhZHMsdGhpcy5keW5hbWljUHJvcGVydGllcyk6bS5yeCYmKHRoaXMucng9UHJvcGVydHlGYWN0b3J5LmdldFByb3AocCxtLnJ4LDAsZGVnVG9SYWRzLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMucnk9UHJvcGVydHlGYWN0b3J5LmdldFByb3AocCxtLnJ5LDAsZGVnVG9SYWRzLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMucno9UHJvcGVydHlGYWN0b3J5LmdldFByb3AocCxtLnJ6LDAsZGVnVG9SYWRzLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMub3I9UHJvcGVydHlGYWN0b3J5LmdldFByb3AocCxtLm9yLDEsZGVnVG9SYWRzLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMub3Iuc2g9ITApLG0uc2smJih0aGlzLnNrPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHAsbS5zaywwLGRlZ1RvUmFkcyx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLnNhPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHAsbS5zYSwwLGRlZ1RvUmFkcyx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSksbS5hJiYodGhpcy5hPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHAsbS5hLDEsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSksbS5zJiYodGhpcy5zPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHAsbS5zLDEsLjAxLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpKSx0aGlzLm89bS5vP1Byb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHAsbS5vLDAsLjAxLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpOnttZGY6ITEsdjoxfSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aD9mLnB1c2godGhpcyk6KHRoaXMuYSYmdGhpcy52LnRyYW5zbGF0ZSgtdGhpcy5hLnZbMF0sLXRoaXMuYS52WzFdLHRoaXMuYS52WzJdKSx0aGlzLnMmJnRoaXMudi5zY2FsZSh0aGlzLnMudlswXSx0aGlzLnMudlsxXSx0aGlzLnMudlsyXSksdGhpcy5zayYmdGhpcy52LnNrZXdGcm9tQXhpcygtdGhpcy5zay52LHRoaXMuc2EudiksdGhpcy5yP3RoaXMudi5yb3RhdGUoLXRoaXMuci52KTp0aGlzLnYucm90YXRlWigtdGhpcy5yei52KS5yb3RhdGVZKHRoaXMucnkudikucm90YXRlWCh0aGlzLnJ4LnYpLnJvdGF0ZVooLXRoaXMub3IudlsyXSkucm90YXRlWSh0aGlzLm9yLnZbMV0pLnJvdGF0ZVgodGhpcy5vci52WzBdKSx0aGlzLmRhdGEucC5zP20ucC56P3RoaXMudi50cmFuc2xhdGUodGhpcy5weC52LHRoaXMucHkudiwtdGhpcy5wei52KTp0aGlzLnYudHJhbnNsYXRlKHRoaXMucHgudix0aGlzLnB5LnYsMCk6dGhpcy52LnRyYW5zbGF0ZSh0aGlzLnAudlswXSx0aGlzLnAudlsxXSwtdGhpcy5wLnZbMl0pKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInBvc2l0aW9uXCIse2dldDp0fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJ4UG9zaXRpb25cIix7Z2V0OmV9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInlQb3NpdGlvblwiLHtnZXQ6cn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwib3JpZW50YXRpb25cIix7Z2V0Oml9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImFuY2hvclBvaW50XCIse2dldDpzfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJyb3RhdGlvblwiLHtnZXQ6YX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic2NhbGVcIix7Z2V0Om59KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIm9wYWNpdHlcIix7Z2V0Om99KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInNrZXdcIix7Z2V0Omh9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInNrZXdBeGlzXCIse2dldDpsfSl9ZnVuY3Rpb24gdSh0LGUscil7cmV0dXJuIG5ldyBkKHQsZSxyKX1yZXR1cm4gZC5wcm90b3R5cGUuYXBwbHlUb01hdHJpeD1wLGQucHJvdG90eXBlLmdldFZhbHVlPW0sZC5wcm90b3R5cGUuc2V0SW52ZXJ0ZWQ9ZixkLnByb3RvdHlwZS5hdXRvT3JpZW50PWMse2dldFRyYW5zZm9ybVByb3BlcnR5OnV9fSgpO1NoYXBlUGF0aC5wcm90b3R5cGUuc2V0UGF0aERhdGE9ZnVuY3Rpb24odCxlKXt0aGlzLmM9dCx0aGlzLnNldExlbmd0aChlKTtmb3IodmFyIHI9MDtlPnI7KXRoaXMudltyXT1wb2ludF9wb29sLm5ld1BvaW50KCksdGhpcy5vW3JdPXBvaW50X3Bvb2wubmV3UG9pbnQoKSx0aGlzLmlbcl09cG9pbnRfcG9vbC5uZXdQb2ludCgpLHIrPTF9LFNoYXBlUGF0aC5wcm90b3R5cGUuc2V0TGVuZ3RoPWZ1bmN0aW9uKHQpe2Zvcig7dGhpcy5fbWF4TGVuZ3RoPHQ7KXRoaXMuZG91YmxlQXJyYXlMZW5ndGgoKTt0aGlzLl9sZW5ndGg9dH0sU2hhcGVQYXRoLnByb3RvdHlwZS5kb3VibGVBcnJheUxlbmd0aD1mdW5jdGlvbigpe3RoaXMudj10aGlzLnYuY29uY2F0KEFycmF5LmFwcGx5KG51bGwse2xlbmd0aDp0aGlzLl9tYXhMZW5ndGh9KSksdGhpcy5pPXRoaXMuaS5jb25jYXQoQXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOnRoaXMuX21heExlbmd0aH0pKSx0aGlzLm89dGhpcy5vLmNvbmNhdChBcnJheS5hcHBseShudWxsLHtsZW5ndGg6dGhpcy5fbWF4TGVuZ3RofSkpLHRoaXMuX21heExlbmd0aCo9Mn0sU2hhcGVQYXRoLnByb3RvdHlwZS5zZXRYWUF0PWZ1bmN0aW9uKHQsZSxyLHMsaSl7dmFyIGE7c3dpdGNoKHRoaXMuX2xlbmd0aD1NYXRoLm1heCh0aGlzLl9sZW5ndGgscysxKSx0aGlzLl9sZW5ndGg+PXRoaXMuX21heExlbmd0aCYmdGhpcy5kb3VibGVBcnJheUxlbmd0aCgpLHIpe2Nhc2VcInZcIjphPXRoaXMudjticmVhaztjYXNlXCJpXCI6YT10aGlzLmk7YnJlYWs7Y2FzZVwib1wiOmE9dGhpcy5vfSghYVtzXXx8YVtzXSYmIWkpJiYoYVtzXT1wb2ludF9wb29sLm5ld1BvaW50KCkpLGFbc11bMF09dCxhW3NdWzFdPWV9LFNoYXBlUGF0aC5wcm90b3R5cGUuc2V0VHJpcGxlQXQ9ZnVuY3Rpb24odCxlLHIscyxpLGEsbixvKXt0aGlzLnNldFhZQXQodCxlLFwidlwiLG4sbyksdGhpcy5zZXRYWUF0KHIscyxcIm9cIixuLG8pLHRoaXMuc2V0WFlBdChpLGEsXCJpXCIsbixvKX0sU2hhcGVQYXRoLnByb3RvdHlwZS5yZXZlcnNlPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IFNoYXBlUGF0aDt0LnNldFBhdGhEYXRhKHRoaXMuYyx0aGlzLl9sZW5ndGgpO3ZhciBlPXRoaXMudixyPXRoaXMubyxzPXRoaXMuaSxhPTA7dGhpcy5jJiYodC5zZXRUcmlwbGVBdChlWzBdWzBdLGVbMF1bMV0sc1swXVswXSxzWzBdWzFdLHJbMF1bMF0sclswXVsxXSwwLCExKSxhPTEpO3ZhciBuPXRoaXMuX2xlbmd0aC0xLG89dGhpcy5fbGVuZ3RoO2ZvcihpPWE7aTxvO2krPTEpdC5zZXRUcmlwbGVBdChlW25dWzBdLGVbbl1bMV0sc1tuXVswXSxzW25dWzFdLHJbbl1bMF0scltuXVsxXSxpLCExKSxuLT0xO3JldHVybiB0fTt2YXIgU2hhcGVQcm9wZXJ0eUZhY3Rvcnk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxyLHMpe3ZhciBpLGEsbjtpZih0PHRoaXMua2V5ZnJhbWVzWzBdLnQtdGhpcy5vZmZzZXRUaW1lKWk9dGhpcy5rZXlmcmFtZXNbMF0uc1swXSxuPSEwLGU9MDtlbHNlIGlmKHQ+PXRoaXMua2V5ZnJhbWVzW3RoaXMua2V5ZnJhbWVzLmxlbmd0aC0xXS50LXRoaXMub2Zmc2V0VGltZSlpPTE9PT10aGlzLmtleWZyYW1lc1t0aGlzLmtleWZyYW1lcy5sZW5ndGgtMl0uaD90aGlzLmtleWZyYW1lc1t0aGlzLmtleWZyYW1lcy5sZW5ndGgtMV0uc1swXTp0aGlzLmtleWZyYW1lc1t0aGlzLmtleWZyYW1lcy5sZW5ndGgtMl0uZVswXSxuPSEwO2Vsc2V7Zm9yKHZhciBvLGgsbCxwLG0sZixjPWUsZD10aGlzLmtleWZyYW1lcy5sZW5ndGgtMSx1PSEwO3UmJihvPXRoaXMua2V5ZnJhbWVzW2NdLGg9dGhpcy5rZXlmcmFtZXNbYysxXSwhKGgudC10aGlzLm9mZnNldFRpbWU+dCkpOylkLTE+Yz9jKz0xOnU9ITE7bj0xPT09by5oLGU9Yzt2YXIgeTtpZighbil7aWYodD49aC50LXRoaXMub2Zmc2V0VGltZSl5PTE7ZWxzZSBpZih0PG8udC10aGlzLm9mZnNldFRpbWUpeT0wO2Vsc2V7dmFyIGc7by5fX2ZuY3Q/Zz1vLl9fZm5jdDooZz1CZXppZXJGYWN0b3J5LmdldEJlemllckVhc2luZyhvLm8ueCxvLm8ueSxvLmkueCxvLmkueSkuZ2V0LG8uX19mbmN0PWcpLHk9ZygodC0oby50LXRoaXMub2Zmc2V0VGltZSkpLyhoLnQtdGhpcy5vZmZzZXRUaW1lLShvLnQtdGhpcy5vZmZzZXRUaW1lKSkpfWE9by5lWzBdfWk9by5zWzBdfXA9ci5fbGVuZ3RoLGY9aS5pWzBdLmxlbmd0aDt2YXIgdixiPSExO2ZvcihsPTA7cD5sO2wrPTEpZm9yKG09MDtmPm07bSs9MSluPyh2PWkuaVtsXVttXSxyLmlbbF1bbV0hPT12JiYoci5pW2xdW21dPXYscyYmKHRoaXMucHYuaVtsXVttXT12KSxiPSEwKSx2PWkub1tsXVttXSxyLm9bbF1bbV0hPT12JiYoci5vW2xdW21dPXYscyYmKHRoaXMucHYub1tsXVttXT12KSxiPSEwKSx2PWkudltsXVttXSxyLnZbbF1bbV0hPT12JiYoci52W2xdW21dPXYscyYmKHRoaXMucHYudltsXVttXT12KSxiPSEwKSk6KHY9aS5pW2xdW21dKyhhLmlbbF1bbV0taS5pW2xdW21dKSp5LHIuaVtsXVttXSE9PXYmJihyLmlbbF1bbV09dixzJiYodGhpcy5wdi5pW2xdW21dPXYpLGI9ITApLHY9aS5vW2xdW21dKyhhLm9bbF1bbV0taS5vW2xdW21dKSp5LHIub1tsXVttXSE9PXYmJihyLm9bbF1bbV09dixzJiYodGhpcy5wdi5vW2xdW21dPXYpLGI9ITApLHY9aS52W2xdW21dKyhhLnZbbF1bbV0taS52W2xdW21dKSp5LHIudltsXVttXSE9PXYmJihyLnZbbF1bbV09dixzJiYodGhpcy5wdi52W2xdW21dPXYpLGI9ITApKTtyZXR1cm4gYiYmKHIuYz1pLmMpLHtpdGVyYXRpb25JbmRleDplLGhhc01vZGlmaWVkOmJ9fWZ1bmN0aW9uIGUoKXtpZih0aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkIT09dGhpcy5mcmFtZUlkKXt0aGlzLm1kZj0hMTt2YXIgdD10aGlzLmNvbXAucmVuZGVyZWRGcmFtZS10aGlzLm9mZnNldFRpbWUsZT10aGlzLmtleWZyYW1lc1swXS50LXRoaXMub2Zmc2V0VGltZSxyPXRoaXMua2V5ZnJhbWVzW3RoaXMua2V5ZnJhbWVzLmxlbmd0aC0xXS50LXRoaXMub2Zmc2V0VGltZTtpZih0aGlzLmxhc3RGcmFtZT09PWx8fCEodGhpcy5sYXN0RnJhbWU8ZSYmZT50fHx0aGlzLmxhc3RGcmFtZT5yJiZ0PnIpKXt2YXIgcz10aGlzLmxhc3RGcmFtZTx0P3RoaXMuX2xhc3RJbmRleDowLGk9dGhpcy5pbnRlcnBvbGF0ZVNoYXBlKHQscyx0aGlzLnYsITApO3RoaXMuX2xhc3RJbmRleD1pLml0ZXJhdGlvbkluZGV4LHRoaXMubWRmPWkuaGFzTW9kaWZpZWQsaS5oYXNNb2RpZmllZCYmKHRoaXMucGF0aHM9dGhpcy5sb2NhbFNoYXBlQ29sbGVjdGlvbil9dGhpcy5sYXN0RnJhbWU9dCx0aGlzLmZyYW1lSWQ9dGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVJZH19ZnVuY3Rpb24gcigpe3JldHVybiB0aGlzLnZ9ZnVuY3Rpb24gcygpe3RoaXMucGF0aHM9dGhpcy5sb2NhbFNoYXBlQ29sbGVjdGlvbix0aGlzLmt8fCh0aGlzLm1kZj0hMSl9ZnVuY3Rpb24gaSh0LGUscil7dGhpcy5fX3NoYXBlT2JqZWN0PTEsdGhpcy5jb21wPXQuY29tcCx0aGlzLms9ITEsdGhpcy5tZGY9ITE7dmFyIGk9Mz09PXI/ZS5wdC5rOmUua3Muazt0aGlzLnY9c2hhcGVfcG9vbC5jbG9uZShpKSx0aGlzLnB2PXNoYXBlX3Bvb2wuY2xvbmUodGhpcy52KSx0aGlzLmxvY2FsU2hhcGVDb2xsZWN0aW9uPXNoYXBlQ29sbGVjdGlvbl9wb29sLm5ld1NoYXBlQ29sbGVjdGlvbigpLHRoaXMucGF0aHM9dGhpcy5sb2NhbFNoYXBlQ29sbGVjdGlvbix0aGlzLnBhdGhzLmFkZFNoYXBlKHRoaXMudiksdGhpcy5yZXNldD1zfWZ1bmN0aW9uIGEodCxlLHIpe3RoaXMuX19zaGFwZU9iamVjdD0xLHRoaXMuY29tcD10LmNvbXAsdGhpcy5lbGVtPXQsdGhpcy5vZmZzZXRUaW1lPXQuZGF0YS5zdCx0aGlzLl9sYXN0SW5kZXg9MCx0aGlzLmtleWZyYW1lcz0zPT09cj9lLnB0Lms6ZS5rcy5rLHRoaXMuaz0hMCx0aGlzLmtmPSEwO3t2YXIgaT10aGlzLmtleWZyYW1lc1swXS5zWzBdLmkubGVuZ3RoO3RoaXMua2V5ZnJhbWVzWzBdLnNbMF0uaVswXS5sZW5ndGh9dGhpcy52PXNoYXBlX3Bvb2wubmV3U2hhcGUoKSx0aGlzLnYuc2V0UGF0aERhdGEodGhpcy5rZXlmcmFtZXNbMF0uc1swXS5jLGkpLHRoaXMucHY9c2hhcGVfcG9vbC5jbG9uZSh0aGlzLnYpLHRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb249c2hhcGVDb2xsZWN0aW9uX3Bvb2wubmV3U2hhcGVDb2xsZWN0aW9uKCksdGhpcy5wYXRocz10aGlzLmxvY2FsU2hhcGVDb2xsZWN0aW9uLHRoaXMucGF0aHMuYWRkU2hhcGUodGhpcy52KSx0aGlzLmxhc3RGcmFtZT1sLHRoaXMucmVzZXQ9c31mdW5jdGlvbiBuKHQsZSxyLHMpe3ZhciBuO2lmKDM9PT1yfHw0PT09cil7dmFyIG89Mz09PXI/ZS5wdDplLmtzLGg9by5rO249MT09PW8uYXx8aC5sZW5ndGg/bmV3IGEodCxlLHIpOm5ldyBpKHQsZSxyKX1lbHNlIDU9PT1yP249bmV3IGYodCxlKTo2PT09cj9uPW5ldyBwKHQsZSk6Nz09PXImJihuPW5ldyBtKHQsZSkpO3JldHVybiBuLmsmJnMucHVzaChuKSxufWZ1bmN0aW9uIG8oKXtyZXR1cm4gaX1mdW5jdGlvbiBoKCl7cmV0dXJuIGF9dmFyIGw9LTk5OTk5OTtpLnByb3RvdHlwZS5pbnRlcnBvbGF0ZVNoYXBlPXQsaS5wcm90b3R5cGUuZ2V0VmFsdWU9cixhLnByb3RvdHlwZS5nZXRWYWx1ZT1lLGEucHJvdG90eXBlLmludGVycG9sYXRlU2hhcGU9dDt2YXIgcD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgdD10aGlzLnAudlswXSxlPXRoaXMucC52WzFdLHM9dGhpcy5zLnZbMF0vMixpPXRoaXMucy52WzFdLzI7MyE9PXRoaXMuZD8odGhpcy52LnZbMF1bMF09dCx0aGlzLnYudlswXVsxXT1lLWksdGhpcy52LnZbMV1bMF09dCtzLHRoaXMudi52WzFdWzFdPWUsdGhpcy52LnZbMl1bMF09dCx0aGlzLnYudlsyXVsxXT1lK2ksdGhpcy52LnZbM11bMF09dC1zLHRoaXMudi52WzNdWzFdPWUsdGhpcy52LmlbMF1bMF09dC1zKnIsdGhpcy52LmlbMF1bMV09ZS1pLHRoaXMudi5pWzFdWzBdPXQrcyx0aGlzLnYuaVsxXVsxXT1lLWkqcix0aGlzLnYuaVsyXVswXT10K3Mqcix0aGlzLnYuaVsyXVsxXT1lK2ksdGhpcy52LmlbM11bMF09dC1zLHRoaXMudi5pWzNdWzFdPWUraSpyLHRoaXMudi5vWzBdWzBdPXQrcypyLHRoaXMudi5vWzBdWzFdPWUtaSx0aGlzLnYub1sxXVswXT10K3MsdGhpcy52Lm9bMV1bMV09ZStpKnIsdGhpcy52Lm9bMl1bMF09dC1zKnIsdGhpcy52Lm9bMl1bMV09ZStpLHRoaXMudi5vWzNdWzBdPXQtcyx0aGlzLnYub1szXVsxXT1lLWkqcik6KHRoaXMudi52WzBdWzBdPXQsdGhpcy52LnZbMF1bMV09ZS1pLHRoaXMudi52WzFdWzBdPXQtcyx0aGlzLnYudlsxXVsxXT1lLHRoaXMudi52WzJdWzBdPXQsdGhpcy52LnZbMl1bMV09ZStpLHRoaXMudi52WzNdWzBdPXQrcyx0aGlzLnYudlszXVsxXT1lLHRoaXMudi5pWzBdWzBdPXQrcypyLHRoaXMudi5pWzBdWzFdPWUtaSx0aGlzLnYuaVsxXVswXT10LXMsdGhpcy52LmlbMV1bMV09ZS1pKnIsdGhpcy52LmlbMl1bMF09dC1zKnIsdGhpcy52LmlbMl1bMV09ZStpLHRoaXMudi5pWzNdWzBdPXQrcyx0aGlzLnYuaVszXVsxXT1lK2kqcix0aGlzLnYub1swXVswXT10LXMqcix0aGlzLnYub1swXVsxXT1lLWksdGhpcy52Lm9bMV1bMF09dC1zLHRoaXMudi5vWzFdWzFdPWUraSpyLHRoaXMudi5vWzJdWzBdPXQrcypyLHRoaXMudi5vWzJdWzFdPWUraSx0aGlzLnYub1szXVswXT10K3MsdGhpcy52Lm9bM11bMV09ZS1pKnIpfWZ1bmN0aW9uIGUodCl7dmFyIGUscj10aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDtpZih0aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkIT09dGhpcy5mcmFtZUlkKXtmb3IodGhpcy5tZGY9ITEsdGhpcy5mcmFtZUlkPXRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWQsZT0wO3I+ZTtlKz0xKXRoaXMuZHluYW1pY1Byb3BlcnRpZXNbZV0uZ2V0VmFsdWUodCksdGhpcy5keW5hbWljUHJvcGVydGllc1tlXS5tZGYmJih0aGlzLm1kZj0hMCk7dGhpcy5tZGYmJnRoaXMuY29udmVydEVsbFRvUGF0aCgpfX12YXIgcj1yb3VuZENvcm5lcjtyZXR1cm4gZnVuY3Rpb24ocixpKXt0aGlzLnY9c2hhcGVfcG9vbC5uZXdTaGFwZSgpLHRoaXMudi5zZXRQYXRoRGF0YSghMCw0KSx0aGlzLmxvY2FsU2hhcGVDb2xsZWN0aW9uPXNoYXBlQ29sbGVjdGlvbl9wb29sLm5ld1NoYXBlQ29sbGVjdGlvbigpLHRoaXMucGF0aHM9dGhpcy5sb2NhbFNoYXBlQ29sbGVjdGlvbix0aGlzLmxvY2FsU2hhcGVDb2xsZWN0aW9uLmFkZFNoYXBlKHRoaXMudiksdGhpcy5kPWkuZCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzPVtdLHRoaXMuZWxlbT1yLHRoaXMuY29tcD1yLmNvbXAsdGhpcy5mcmFtZUlkPS0xLHRoaXMubWRmPSExLHRoaXMuZ2V0VmFsdWU9ZSx0aGlzLmNvbnZlcnRFbGxUb1BhdGg9dCx0aGlzLnJlc2V0PXMsdGhpcy5wPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHIsaS5wLDEsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLnM9UHJvcGVydHlGYWN0b3J5LmdldFByb3AocixpLnMsMSwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoP3RoaXMuaz0hMDp0aGlzLmNvbnZlcnRFbGxUb1BhdGgoKX19KCksbT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgdCxlPU1hdGguZmxvb3IodGhpcy5wdC52KSxyPTIqTWF0aC5QSS9lLHM9dGhpcy5vci52LGk9dGhpcy5vcy52LGE9MipNYXRoLlBJKnMvKDQqZSksbj0tTWF0aC5QSS8yLG89Mz09PXRoaXMuZGF0YS5kPy0xOjE7Zm9yKG4rPXRoaXMuci52LHRoaXMudi5fbGVuZ3RoPTAsdD0wO2U+dDt0Kz0xKXt2YXIgaD1zKk1hdGguY29zKG4pLGw9cypNYXRoLnNpbihuKSxwPTA9PT1oJiYwPT09bD8wOmwvTWF0aC5zcXJ0KGgqaCtsKmwpLG09MD09PWgmJjA9PT1sPzA6LWgvTWF0aC5zcXJ0KGgqaCtsKmwpO2grPSt0aGlzLnAudlswXSxsKz0rdGhpcy5wLnZbMV0sdGhpcy52LnNldFRyaXBsZUF0KGgsbCxoLXAqYSppKm8sbC1tKmEqaSpvLGgrcCphKmkqbyxsK20qYSppKm8sdCwhMCksbis9cipvfXRoaXMucGF0aHMubGVuZ3RoPTAsdGhpcy5wYXRoc1swXT10aGlzLnZ9ZnVuY3Rpb24gZSgpe3ZhciB0LGUscixzLGk9MipNYXRoLmZsb29yKHRoaXMucHQudiksYT0yKk1hdGguUEkvaSxuPSEwLG89dGhpcy5vci52LGg9dGhpcy5pci52LGw9dGhpcy5vcy52LHA9dGhpcy5pcy52LG09MipNYXRoLlBJKm8vKDIqaSksZj0yKk1hdGguUEkqaC8oMippKSxjPS1NYXRoLlBJLzI7Yys9dGhpcy5yLnY7dmFyIGQ9Mz09PXRoaXMuZGF0YS5kPy0xOjE7Zm9yKHRoaXMudi5fbGVuZ3RoPTAsdD0wO2k+dDt0Kz0xKXtlPW4/bzpoLHI9bj9sOnAscz1uP206Zjt2YXIgdT1lKk1hdGguY29zKGMpLHk9ZSpNYXRoLnNpbihjKSxnPTA9PT11JiYwPT09eT8wOnkvTWF0aC5zcXJ0KHUqdSt5KnkpLHY9MD09PXUmJjA9PT15PzA6LXUvTWF0aC5zcXJ0KHUqdSt5KnkpO3UrPSt0aGlzLnAudlswXSx5Kz0rdGhpcy5wLnZbMV0sdGhpcy52LnNldFRyaXBsZUF0KHUseSx1LWcqcypyKmQseS12KnMqcipkLHUrZypzKnIqZCx5K3YqcypyKmQsdCwhMCksbj0hbixjKz1hKmR9fWZ1bmN0aW9uIHIoKXtpZih0aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkIT09dGhpcy5mcmFtZUlkKXt0aGlzLm1kZj0hMSx0aGlzLmZyYW1lSWQ9dGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVJZDt2YXIgdCxlPXRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoO2Zvcih0PTA7ZT50O3QrPTEpdGhpcy5keW5hbWljUHJvcGVydGllc1t0XS5nZXRWYWx1ZSgpLHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbdF0ubWRmJiYodGhpcy5tZGY9ITApO3RoaXMubWRmJiZ0aGlzLmNvbnZlcnRUb1BhdGgoKX19cmV0dXJuIGZ1bmN0aW9uKGksYSl7dGhpcy52PXNoYXBlX3Bvb2wubmV3U2hhcGUoKSx0aGlzLnYuc2V0UGF0aERhdGEoITAsMCksdGhpcy5lbGVtPWksdGhpcy5jb21wPWkuY29tcCx0aGlzLmRhdGE9YSx0aGlzLmZyYW1lSWQ9LTEsdGhpcy5kPWEuZCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzPVtdLHRoaXMubWRmPSExLHRoaXMuZ2V0VmFsdWU9cix0aGlzLnJlc2V0PXMsMT09PWEuc3k/KHRoaXMuaXI9UHJvcGVydHlGYWN0b3J5LmdldFByb3AoaSxhLmlyLDAsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLmlzPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGksYS5pcywwLC4wMSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLmNvbnZlcnRUb1BhdGg9ZSk6dGhpcy5jb252ZXJ0VG9QYXRoPXQsdGhpcy5wdD1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcChpLGEucHQsMCwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMucD1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcChpLGEucCwxLDAsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5yPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGksYS5yLDAsZGVnVG9SYWRzLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMub3I9UHJvcGVydHlGYWN0b3J5LmdldFByb3AoaSxhLm9yLDAsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLm9zPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKGksYS5vcywwLC4wMSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLmxvY2FsU2hhcGVDb2xsZWN0aW9uPXNoYXBlQ29sbGVjdGlvbl9wb29sLm5ld1NoYXBlQ29sbGVjdGlvbigpLFxudGhpcy5sb2NhbFNoYXBlQ29sbGVjdGlvbi5hZGRTaGFwZSh0aGlzLnYpLHRoaXMucGF0aHM9dGhpcy5sb2NhbFNoYXBlQ29sbGVjdGlvbix0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aD90aGlzLms9ITA6dGhpcy5jb252ZXJ0VG9QYXRoKCl9fSgpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe2lmKHRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWQhPT10aGlzLmZyYW1lSWQpe3RoaXMubWRmPSExLHRoaXMuZnJhbWVJZD10aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkO3ZhciBlLHI9dGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7Zm9yKGU9MDtyPmU7ZSs9MSl0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2VdLmdldFZhbHVlKHQpLHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbZV0ubWRmJiYodGhpcy5tZGY9ITApO3RoaXMubWRmJiZ0aGlzLmNvbnZlcnRSZWN0VG9QYXRoKCl9fWZ1bmN0aW9uIGUoKXt2YXIgdD10aGlzLnAudlswXSxlPXRoaXMucC52WzFdLHI9dGhpcy5zLnZbMF0vMixzPXRoaXMucy52WzFdLzIsaT1ibV9taW4ocixzLHRoaXMuci52KSxhPWkqKDEtcm91bmRDb3JuZXIpO3RoaXMudi5fbGVuZ3RoPTAsMj09PXRoaXMuZHx8MT09PXRoaXMuZD8odGhpcy52LnNldFRyaXBsZUF0KHQrcixlLXMraSx0K3IsZS1zK2ksdCtyLGUtcythLDAsITApLHRoaXMudi5zZXRUcmlwbGVBdCh0K3IsZStzLWksdCtyLGUrcy1hLHQrcixlK3MtaSwxLCEwKSwwIT09aT8odGhpcy52LnNldFRyaXBsZUF0KHQrci1pLGUrcyx0K3ItaSxlK3MsdCtyLWEsZStzLDIsITApLHRoaXMudi5zZXRUcmlwbGVBdCh0LXIraSxlK3MsdC1yK2EsZStzLHQtcitpLGUrcywzLCEwKSx0aGlzLnYuc2V0VHJpcGxlQXQodC1yLGUrcy1pLHQtcixlK3MtaSx0LXIsZStzLWEsNCwhMCksdGhpcy52LnNldFRyaXBsZUF0KHQtcixlLXMraSx0LXIsZS1zK2EsdC1yLGUtcytpLDUsITApLHRoaXMudi5zZXRUcmlwbGVBdCh0LXIraSxlLXMsdC1yK2ksZS1zLHQtcithLGUtcyw2LCEwKSx0aGlzLnYuc2V0VHJpcGxlQXQodCtyLWksZS1zLHQrci1hLGUtcyx0K3ItaSxlLXMsNywhMCkpOih0aGlzLnYuc2V0VHJpcGxlQXQodC1yLGUrcyx0LXIrYSxlK3MsdC1yLGUrcywyKSx0aGlzLnYuc2V0VHJpcGxlQXQodC1yLGUtcyx0LXIsZS1zK2EsdC1yLGUtcywzKSkpOih0aGlzLnYuc2V0VHJpcGxlQXQodCtyLGUtcytpLHQrcixlLXMrYSx0K3IsZS1zK2ksMCwhMCksMCE9PWk/KHRoaXMudi5zZXRUcmlwbGVBdCh0K3ItaSxlLXMsdCtyLWksZS1zLHQrci1hLGUtcywxLCEwKSx0aGlzLnYuc2V0VHJpcGxlQXQodC1yK2ksZS1zLHQtcithLGUtcyx0LXIraSxlLXMsMiwhMCksdGhpcy52LnNldFRyaXBsZUF0KHQtcixlLXMraSx0LXIsZS1zK2ksdC1yLGUtcythLDMsITApLHRoaXMudi5zZXRUcmlwbGVBdCh0LXIsZStzLWksdC1yLGUrcy1hLHQtcixlK3MtaSw0LCEwKSx0aGlzLnYuc2V0VHJpcGxlQXQodC1yK2ksZStzLHQtcitpLGUrcyx0LXIrYSxlK3MsNSwhMCksdGhpcy52LnNldFRyaXBsZUF0KHQrci1pLGUrcyx0K3ItYSxlK3MsdCtyLWksZStzLDYsITApLHRoaXMudi5zZXRUcmlwbGVBdCh0K3IsZStzLWksdCtyLGUrcy1pLHQrcixlK3MtYSw3LCEwKSk6KHRoaXMudi5zZXRUcmlwbGVBdCh0LXIsZS1zLHQtcithLGUtcyx0LXIsZS1zLDEsITApLHRoaXMudi5zZXRUcmlwbGVBdCh0LXIsZStzLHQtcixlK3MtYSx0LXIsZStzLDIsITApLHRoaXMudi5zZXRUcmlwbGVBdCh0K3IsZStzLHQrci1hLGUrcyx0K3IsZStzLDMsITApKSl9cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dGhpcy52PXNoYXBlX3Bvb2wubmV3U2hhcGUoKSx0aGlzLnYuYz0hMCx0aGlzLmxvY2FsU2hhcGVDb2xsZWN0aW9uPXNoYXBlQ29sbGVjdGlvbl9wb29sLm5ld1NoYXBlQ29sbGVjdGlvbigpLHRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb24uYWRkU2hhcGUodGhpcy52KSx0aGlzLnBhdGhzPXRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb24sdGhpcy5lbGVtPXIsdGhpcy5jb21wPXIuY29tcCx0aGlzLmZyYW1lSWQ9LTEsdGhpcy5kPWkuZCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzPVtdLHRoaXMubWRmPSExLHRoaXMuZ2V0VmFsdWU9dCx0aGlzLmNvbnZlcnRSZWN0VG9QYXRoPWUsdGhpcy5yZXNldD1zLHRoaXMucD1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcChyLGkucCwxLDAsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5zPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHIsaS5zLDEsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLnI9UHJvcGVydHlGYWN0b3J5LmdldFByb3AocixpLnIsMCwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoP3RoaXMuaz0hMDp0aGlzLmNvbnZlcnRSZWN0VG9QYXRoKCl9fSgpLGM9e307cmV0dXJuIGMuZ2V0U2hhcGVQcm9wPW4sYy5nZXRDb25zdHJ1Y3RvckZ1bmN0aW9uPW8sYy5nZXRLZXlmcmFtZWRDb25zdHJ1Y3RvckZ1bmN0aW9uPWgsY30oKSxTaGFwZU1vZGlmaWVycz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtzW3RdfHwoc1t0XT1lKX1mdW5jdGlvbiBlKHQsZSxyLGkpe3JldHVybiBuZXcgc1t0XShlLHIsaSl9dmFyIHI9e30scz17fTtyZXR1cm4gci5yZWdpc3Rlck1vZGlmaWVyPXQsci5nZXRNb2RpZmllcj1lLHJ9KCk7U2hhcGVNb2RpZmllci5wcm90b3R5cGUuaW5pdE1vZGlmaWVyUHJvcGVydGllcz1mdW5jdGlvbigpe30sU2hhcGVNb2RpZmllci5wcm90b3R5cGUuYWRkU2hhcGVUb01vZGlmaWVyPWZ1bmN0aW9uKCl7fSxTaGFwZU1vZGlmaWVyLnByb3RvdHlwZS5hZGRTaGFwZT1mdW5jdGlvbih0KXt0aGlzLmNsb3NlZHx8KHRoaXMuc2hhcGVzLnB1c2goe3NoYXBlOnQuc2gsZGF0YTp0LGxvY2FsU2hhcGVDb2xsZWN0aW9uOnNoYXBlQ29sbGVjdGlvbl9wb29sLm5ld1NoYXBlQ29sbGVjdGlvbigpfSksdGhpcy5hZGRTaGFwZVRvTW9kaWZpZXIodC5zaCkpfSxTaGFwZU1vZGlmaWVyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSxyKXt0aGlzLmVsZW09dCx0aGlzLmZyYW1lSWQ9LTEsdGhpcy5zaGFwZXM9W10sdGhpcy5keW5hbWljUHJvcGVydGllcz1bXSx0aGlzLm1kZj0hMSx0aGlzLmNsb3NlZD0hMSx0aGlzLms9ITEsdGhpcy5jb21wPXQuY29tcCx0aGlzLmluaXRNb2RpZmllclByb3BlcnRpZXModCxlKSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aD8odGhpcy5rPSEwLHIucHVzaCh0aGlzKSk6dGhpcy5nZXRWYWx1ZSghMCl9LGV4dGVuZFByb3RvdHlwZShTaGFwZU1vZGlmaWVyLFRyaW1Nb2RpZmllciksVHJpbU1vZGlmaWVyLnByb3RvdHlwZS5wcm9jZXNzS2V5cz1mdW5jdGlvbih0KXtpZih0aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkIT09dGhpcy5mcmFtZUlkfHx0KXt0aGlzLm1kZj10PyEwOiExLHRoaXMuZnJhbWVJZD10aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkO3ZhciBlLHI9dGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7Zm9yKGU9MDtyPmU7ZSs9MSl0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2VdLmdldFZhbHVlKCksdGhpcy5keW5hbWljUHJvcGVydGllc1tlXS5tZGYmJih0aGlzLm1kZj0hMCk7aWYodGhpcy5tZGZ8fHQpe3ZhciBzPXRoaXMuby52JTM2MC8zNjA7MD5zJiYocys9MSk7dmFyIGk9dGhpcy5zLnYrcyxhPXRoaXMuZS52K3M7aWYoaT5hKXt2YXIgbj1pO2k9YSxhPW59dGhpcy5zVmFsdWU9aSx0aGlzLmVWYWx1ZT1hLHRoaXMub1ZhbHVlPXN9fX0sVHJpbU1vZGlmaWVyLnByb3RvdHlwZS5pbml0TW9kaWZpZXJQcm9wZXJ0aWVzPWZ1bmN0aW9uKHQsZSl7dGhpcy5zVmFsdWU9MCx0aGlzLmVWYWx1ZT0wLHRoaXMub1ZhbHVlPTAsdGhpcy5nZXRWYWx1ZT10aGlzLnByb2Nlc3NLZXlzLHRoaXMucz1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUucywwLC4wMSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLmU9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodCxlLmUsMCwuMDEsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5vPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5vLDAsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLm09ZS5tLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RofHx0aGlzLmdldFZhbHVlKCEwKX0sVHJpbU1vZGlmaWVyLnByb3RvdHlwZS5jYWxjdWxhdGVTaGFwZUVkZ2VzPWZ1bmN0aW9uKHQsZSxyLHMsaSl7dmFyIGE9W107MT49ZT9hLnB1c2goe3M6dCxlOmV9KTp0Pj0xP2EucHVzaCh7czp0LTEsZTplLTF9KTooYS5wdXNoKHtzOnQsZToxfSksYS5wdXNoKHtzOjAsZTplLTF9KSk7dmFyIG4sbyxoPVtdLGw9YS5sZW5ndGg7Zm9yKG49MDtsPm47bis9MSlpZihvPWFbbl0sby5lKmk8c3x8by5zKmk+cytyKTtlbHNle3ZhciBwLG07cD1vLnMqaTw9cz8wOihvLnMqaS1zKS9yLG09by5lKmk+PXMrcj8xOihvLmUqaS1zKS9yLGgucHVzaChbcCxtXSl9cmV0dXJuIGgubGVuZ3RofHxoLnB1c2goWzAsMF0pLGh9LFRyaW1Nb2RpZmllci5wcm90b3R5cGUucHJvY2Vzc1NoYXBlcz1mdW5jdGlvbih0KXt2YXIgZSxyLHMsaSxhLG4sbyxoPXRoaXMuc2hhcGVzLmxlbmd0aCxsPXRoaXMuc1ZhbHVlLHA9dGhpcy5lVmFsdWUsbT0wO2lmKHA9PT1sKWZvcihyPTA7aD5yO3IrPTEpdGhpcy5zaGFwZXNbcl0ubG9jYWxTaGFwZUNvbGxlY3Rpb24ucmVsZWFzZVNoYXBlcygpLHRoaXMuc2hhcGVzW3JdLnNoYXBlLm1kZj0hMCx0aGlzLnNoYXBlc1tyXS5zaGFwZS5wYXRocz10aGlzLnNoYXBlc1tyXS5sb2NhbFNoYXBlQ29sbGVjdGlvbjtlbHNlIGlmKDE9PT1wJiYwPT09bHx8MD09PXAmJjE9PT1sKXtpZih0aGlzLm1kZilmb3Iocj0wO2g+cjtyKz0xKXRoaXMuc2hhcGVzW3JdLnNoYXBlLm1kZj0hMH1lbHNle3ZhciBmLGMsZD1bXTtmb3Iocj0wO2g+cjtyKz0xKWlmKGY9dGhpcy5zaGFwZXNbcl0sZi5zaGFwZS5tZGZ8fHRoaXMubWRmfHx0fHwyPT09dGhpcy5tKXtpZihlPWYuc2hhcGUucGF0aHMsaT1lLl9sZW5ndGgsbz0wLCFmLnNoYXBlLm1kZiYmZi5wYXRoc0RhdGEpbz1mLnRvdGFsU2hhcGVMZW5ndGg7ZWxzZXtmb3IoYT1bXSxzPTA7aT5zO3MrPTEpbj1iZXouZ2V0U2VnbWVudHNMZW5ndGgoZS5zaGFwZXNbc10pLGEucHVzaChuKSxvKz1uLnRvdGFsTGVuZ3RoO2YudG90YWxTaGFwZUxlbmd0aD1vLGYucGF0aHNEYXRhPWF9bSs9byxmLnNoYXBlLm1kZj0hMH1lbHNlIGYuc2hhcGUucGF0aHM9Zi5sb2NhbFNoYXBlQ29sbGVjdGlvbjt2YXIgcyxpLHU9bCx5PXAsZz0wO2ZvcihyPWgtMTtyPj0wO3ItPTEpaWYoZj10aGlzLnNoYXBlc1tyXSxmLnNoYXBlLm1kZil7aWYoYz1mLmxvY2FsU2hhcGVDb2xsZWN0aW9uLGMucmVsZWFzZVNoYXBlcygpLDI9PT10aGlzLm0mJmg+MSl7dmFyIHY9dGhpcy5jYWxjdWxhdGVTaGFwZUVkZ2VzKGwscCxmLnRvdGFsU2hhcGVMZW5ndGgsZyxtKTtnKz1mLnRvdGFsU2hhcGVMZW5ndGh9ZWxzZSB2PVtbdSx5XV07Zm9yKGk9di5sZW5ndGgscz0wO2k+cztzKz0xKXt1PXZbc11bMF0seT12W3NdWzFdLGQubGVuZ3RoPTAsMT49eT9kLnB1c2goe3M6Zi50b3RhbFNoYXBlTGVuZ3RoKnUsZTpmLnRvdGFsU2hhcGVMZW5ndGgqeX0pOnU+PTE/ZC5wdXNoKHtzOmYudG90YWxTaGFwZUxlbmd0aCoodS0xKSxlOmYudG90YWxTaGFwZUxlbmd0aCooeS0xKX0pOihkLnB1c2goe3M6Zi50b3RhbFNoYXBlTGVuZ3RoKnUsZTpmLnRvdGFsU2hhcGVMZW5ndGh9KSxkLnB1c2goe3M6MCxlOmYudG90YWxTaGFwZUxlbmd0aCooeS0xKX0pKTt2YXIgYj10aGlzLmFkZFNoYXBlcyhmLGRbMF0pO2lmKGRbMF0ucyE9PWRbMF0uZSl7aWYoZC5sZW5ndGg+MSlpZihmLnNoYXBlLnYuYyl7dmFyIEU9Yi5wb3AoKTt0aGlzLmFkZFBhdGhzKGIsYyksYj10aGlzLmFkZFNoYXBlcyhmLGRbMV0sRSl9ZWxzZSB0aGlzLmFkZFBhdGhzKGIsYyksYj10aGlzLmFkZFNoYXBlcyhmLGRbMV0pO3RoaXMuYWRkUGF0aHMoYixjKX19Zi5zaGFwZS5wYXRocz1jfX10aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aHx8KHRoaXMubWRmPSExKX0sVHJpbU1vZGlmaWVyLnByb3RvdHlwZS5hZGRQYXRocz1mdW5jdGlvbih0LGUpe3ZhciByLHM9dC5sZW5ndGg7Zm9yKHI9MDtzPnI7cis9MSllLmFkZFNoYXBlKHRbcl0pfSxUcmltTW9kaWZpZXIucHJvdG90eXBlLmFkZFNlZ21lbnQ9ZnVuY3Rpb24odCxlLHIscyxpLGEsbil7aS5zZXRYWUF0KGVbMF0sZVsxXSxcIm9cIixhKSxpLnNldFhZQXQoclswXSxyWzFdLFwiaVwiLGErMSksbiYmaS5zZXRYWUF0KHRbMF0sdFsxXSxcInZcIixhKSxpLnNldFhZQXQoc1swXSxzWzFdLFwidlwiLGErMSl9LFRyaW1Nb2RpZmllci5wcm90b3R5cGUuYWRkU2hhcGVzPWZ1bmN0aW9uKHQsZSxyKXt2YXIgcyxpLGEsbixvLGgsbCxwLG09dC5wYXRoc0RhdGEsZj10LnNoYXBlLnBhdGhzLnNoYXBlcyxjPXQuc2hhcGUucGF0aHMuX2xlbmd0aCxkPTAsdT1bXSx5PSEwO2ZvcihyPyhvPXIuX2xlbmd0aCxwPXIuX2xlbmd0aCk6KHI9c2hhcGVfcG9vbC5uZXdTaGFwZSgpLG89MCxwPTApLHUucHVzaChyKSxzPTA7Yz5zO3MrPTEpe2ZvcihoPW1bc10ubGVuZ3RocyxyLmM9ZltzXS5jLGE9ZltzXS5jP2gubGVuZ3RoOmgubGVuZ3RoKzEsaT0xO2E+aTtpKz0xKWlmKG49aFtpLTFdLGQrbi5hZGRlZExlbmd0aDxlLnMpZCs9bi5hZGRlZExlbmd0aCxyLmM9ITE7ZWxzZXtpZihkPmUuZSl7ci5jPSExO2JyZWFrfWUuczw9ZCYmZS5lPj1kK24uYWRkZWRMZW5ndGg/KHRoaXMuYWRkU2VnbWVudChmW3NdLnZbaS0xXSxmW3NdLm9baS0xXSxmW3NdLmlbaV0sZltzXS52W2ldLHIsbyx5KSx5PSExKToobD1iZXouZ2V0TmV3U2VnbWVudChmW3NdLnZbaS0xXSxmW3NdLnZbaV0sZltzXS5vW2ktMV0sZltzXS5pW2ldLChlLnMtZCkvbi5hZGRlZExlbmd0aCwoZS5lLWQpL24uYWRkZWRMZW5ndGgsaFtpLTFdKSx0aGlzLmFkZFNlZ21lbnQobC5wdDEsbC5wdDMsbC5wdDQsbC5wdDIscixvLHkpLHk9ITEsci5jPSExKSxkKz1uLmFkZGVkTGVuZ3RoLG8rPTF9aWYoZltzXS5jKXtpZihuPWhbaS0xXSxkPD1lLmUpe3ZhciBnPWhbaS0xXS5hZGRlZExlbmd0aDtlLnM8PWQmJmUuZT49ZCtnPyh0aGlzLmFkZFNlZ21lbnQoZltzXS52W2ktMV0sZltzXS5vW2ktMV0sZltzXS5pWzBdLGZbc10udlswXSxyLG8seSkseT0hMSk6KGw9YmV6LmdldE5ld1NlZ21lbnQoZltzXS52W2ktMV0sZltzXS52WzBdLGZbc10ub1tpLTFdLGZbc10uaVswXSwoZS5zLWQpL2csKGUuZS1kKS9nLGhbaS0xXSksdGhpcy5hZGRTZWdtZW50KGwucHQxLGwucHQzLGwucHQ0LGwucHQyLHIsbyx5KSx5PSExLHIuYz0hMSl9ZWxzZSByLmM9ITE7ZCs9bi5hZGRlZExlbmd0aCxvKz0xfWlmKHIuX2xlbmd0aCYmKHIuc2V0WFlBdChyLnZbcF1bMF0sci52W3BdWzFdLFwiaVwiLHApLHIuc2V0WFlBdChyLnZbci5fbGVuZ3RoLTFdWzBdLHIudltyLl9sZW5ndGgtMV1bMV0sXCJvXCIsci5fbGVuZ3RoLTEpKSxkPmUuZSlicmVhaztjLTE+cyYmKHI9c2hhcGVfcG9vbC5uZXdTaGFwZSgpLHk9ITAsdS5wdXNoKHIpLG89MCl9cmV0dXJuIHV9LFNoYXBlTW9kaWZpZXJzLnJlZ2lzdGVyTW9kaWZpZXIoXCJ0bVwiLFRyaW1Nb2RpZmllciksZXh0ZW5kUHJvdG90eXBlKFNoYXBlTW9kaWZpZXIsUm91bmRDb3JuZXJzTW9kaWZpZXIpLFJvdW5kQ29ybmVyc01vZGlmaWVyLnByb3RvdHlwZS5wcm9jZXNzS2V5cz1mdW5jdGlvbih0KXtpZih0aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkIT09dGhpcy5mcmFtZUlkfHx0KXt0aGlzLm1kZj10PyEwOiExLHRoaXMuZnJhbWVJZD10aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkO3ZhciBlLHI9dGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7Zm9yKGU9MDtyPmU7ZSs9MSl0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2VdLmdldFZhbHVlKCksdGhpcy5keW5hbWljUHJvcGVydGllc1tlXS5tZGYmJih0aGlzLm1kZj0hMCl9fSxSb3VuZENvcm5lcnNNb2RpZmllci5wcm90b3R5cGUuaW5pdE1vZGlmaWVyUHJvcGVydGllcz1mdW5jdGlvbih0LGUpe3RoaXMuZ2V0VmFsdWU9dGhpcy5wcm9jZXNzS2V5cyx0aGlzLnJkPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5yLDAsbnVsbCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aHx8dGhpcy5nZXRWYWx1ZSghMCl9LFJvdW5kQ29ybmVyc01vZGlmaWVyLnByb3RvdHlwZS5wcm9jZXNzUGF0aD1mdW5jdGlvbih0LGUpe3ZhciByPXNoYXBlX3Bvb2wubmV3U2hhcGUoKTtyLmM9dC5jO3ZhciBzLGksYSxuLG8saCxsLHAsbSxmLGMsZCx1LHk9dC5fbGVuZ3RoLGc9MDtmb3Iocz0wO3k+cztzKz0xKWk9dC52W3NdLG49dC5vW3NdLGE9dC5pW3NdLGlbMF09PT1uWzBdJiZpWzFdPT09blsxXSYmaVswXT09PWFbMF0mJmlbMV09PT1hWzFdPzAhPT1zJiZzIT09eS0xfHx0LmM/KG89MD09PXM/dC52W3ktMV06dC52W3MtMV0saD1NYXRoLnNxcnQoTWF0aC5wb3coaVswXS1vWzBdLDIpK01hdGgucG93KGlbMV0tb1sxXSwyKSksbD1oP01hdGgubWluKGgvMixlKS9oOjAscD1kPWlbMF0rKG9bMF0taVswXSkqbCxtPXU9aVsxXS0oaVsxXS1vWzFdKSpsLGY9cC0ocC1pWzBdKSpyb3VuZENvcm5lcixjPW0tKG0taVsxXSkqcm91bmRDb3JuZXIsci5zZXRUcmlwbGVBdChwLG0sZixjLGQsdSxnKSxnKz0xLG89cz09PXktMT90LnZbMF06dC52W3MrMV0saD1NYXRoLnNxcnQoTWF0aC5wb3coaVswXS1vWzBdLDIpK01hdGgucG93KGlbMV0tb1sxXSwyKSksbD1oP01hdGgubWluKGgvMixlKS9oOjAscD1mPWlbMF0rKG9bMF0taVswXSkqbCxtPWM9aVsxXSsob1sxXS1pWzFdKSpsLGQ9cC0ocC1pWzBdKSpyb3VuZENvcm5lcix1PW0tKG0taVsxXSkqcm91bmRDb3JuZXIsci5zZXRUcmlwbGVBdChwLG0sZixjLGQsdSxnKSxnKz0xKTooci5zZXRUcmlwbGVBdChpWzBdLGlbMV0sblswXSxuWzFdLGFbMF0sYVsxXSxnKSxnKz0xKTooci5zZXRUcmlwbGVBdCh0LnZbc11bMF0sdC52W3NdWzFdLHQub1tzXVswXSx0Lm9bc11bMV0sdC5pW3NdWzBdLHQuaVtzXVsxXSxnKSxnKz0xKTtyZXR1cm4gcn0sUm91bmRDb3JuZXJzTW9kaWZpZXIucHJvdG90eXBlLnByb2Nlc3NTaGFwZXM9ZnVuY3Rpb24odCl7dmFyIGUscixzLGksYT10aGlzLnNoYXBlcy5sZW5ndGgsbj10aGlzLnJkLnY7aWYoMCE9PW4pe3ZhciBvLGgsbDtmb3Iocj0wO2E+cjtyKz0xKXtpZihvPXRoaXMuc2hhcGVzW3JdLGg9by5zaGFwZS5wYXRocyxsPW8ubG9jYWxTaGFwZUNvbGxlY3Rpb24sby5zaGFwZS5tZGZ8fHRoaXMubWRmfHx0KWZvcihsLnJlbGVhc2VTaGFwZXMoKSxvLnNoYXBlLm1kZj0hMCxlPW8uc2hhcGUucGF0aHMuc2hhcGVzLGk9by5zaGFwZS5wYXRocy5fbGVuZ3RoLHM9MDtpPnM7cys9MSlsLmFkZFNoYXBlKHRoaXMucHJvY2Vzc1BhdGgoZVtzXSxuKSk7by5zaGFwZS5wYXRocz1vLmxvY2FsU2hhcGVDb2xsZWN0aW9ufX10aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aHx8KHRoaXMubWRmPSExKX0sU2hhcGVNb2RpZmllcnMucmVnaXN0ZXJNb2RpZmllcihcInJkXCIsUm91bmRDb3JuZXJzTW9kaWZpZXIpLFJlcGVhdGVyTW9kaWZpZXIucHJvdG90eXBlLnByb2Nlc3NLZXlzPWZ1bmN0aW9uKHQpe2lmKHRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWQhPT10aGlzLmZyYW1lSWR8fHQpe3RoaXMubWRmPXQ/ITA6ITE7dmFyIGUscj10aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDtmb3IoZT0wO3I+ZTtlKz0xKXRoaXMuZHluYW1pY1Byb3BlcnRpZXNbZV0uZ2V0VmFsdWUoKSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2VdLm1kZiYmKHRoaXMubWRmPSEwKX19LFJlcGVhdGVyTW9kaWZpZXIucHJvdG90eXBlLmluaXRNb2RpZmllclByb3BlcnRpZXM9ZnVuY3Rpb24odCxlKXt0aGlzLmdldFZhbHVlPXRoaXMucHJvY2Vzc0tleXMsdGhpcy5jPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5jLDAsbnVsbCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLm89UHJvcGVydHlGYWN0b3J5LmdldFByb3AodCxlLm8sMCxudWxsLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMudHI9VHJhbnNmb3JtUHJvcGVydHlGYWN0b3J5LmdldFRyYW5zZm9ybVByb3BlcnR5KHQsZS50cix0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLmRhdGE9ZSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aHx8dGhpcy5nZXRWYWx1ZSghMCksdGhpcy5wTWF0cml4PW5ldyBNYXRyaXgsdGhpcy5yTWF0cml4PW5ldyBNYXRyaXgsdGhpcy5zTWF0cml4PW5ldyBNYXRyaXgsdGhpcy50TWF0cml4PW5ldyBNYXRyaXgsdGhpcy5tYXRyaXg9bmV3IE1hdHJpeH0sUmVwZWF0ZXJNb2RpZmllci5wcm90b3R5cGUuYXBwbHlUcmFuc2Zvcm1zPWZ1bmN0aW9uKHQsZSxyLHMsaSxhKXt2YXIgbj1hPy0xOjEsbz1zLnMudlswXSsoMS1zLnMudlswXSkqKDEtaSksaD1zLnMudlsxXSsoMS1zLnMudlsxXSkqKDEtaSk7dC50cmFuc2xhdGUocy5wLnZbMF0qbippLHMucC52WzFdKm4qaSxzLnAudlsyXSksZS50cmFuc2xhdGUoLXMuYS52WzBdLC1zLmEudlsxXSxzLmEudlsyXSksZS5yb3RhdGUoLXMuci52Km4qaSksZS50cmFuc2xhdGUocy5hLnZbMF0scy5hLnZbMV0scy5hLnZbMl0pLHIudHJhbnNsYXRlKC1zLmEudlswXSwtcy5hLnZbMV0scy5hLnZbMl0pLHIuc2NhbGUoYT8xL286byxhPzEvaDpoKSxyLnRyYW5zbGF0ZShzLmEudlswXSxzLmEudlsxXSxzLmEudlsyXSl9LFJlcGVhdGVyTW9kaWZpZXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlLHIscyxpKXt0aGlzLmVsZW09dCx0aGlzLmFycj1lLHRoaXMucG9zPXIsdGhpcy5lbGVtc0RhdGE9cyx0aGlzLl9jdXJyZW50Q29waWVzPTAsdGhpcy5fZWxlbWVudHM9W10sdGhpcy5fZ3JvdXBzPVtdLHRoaXMuZHluYW1pY1Byb3BlcnRpZXM9W10sdGhpcy5mcmFtZUlkPS0xLHRoaXMuaW5pdE1vZGlmaWVyUHJvcGVydGllcyh0LGVbcl0pO2Zvcih2YXIgYT0wO3I+MDspci09MSx0aGlzLl9lbGVtZW50cy51bnNoaWZ0KGVbcl0pLGErPTE7dGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg/KHRoaXMuaz0hMCxpLnB1c2godGhpcykpOnRoaXMuZ2V0VmFsdWUoITApfSxSZXBlYXRlck1vZGlmaWVyLnByb3RvdHlwZS5yZXNldEVsZW1lbnRzPWZ1bmN0aW9uKHQpe3ZhciBlLHI9dC5sZW5ndGg7Zm9yKGU9MDtyPmU7ZSs9MSl0W2VdLl9wcm9jZXNzZWQ9ITEsXCJnclwiPT09dFtlXS50eSYmdGhpcy5yZXNldEVsZW1lbnRzKHRbZV0uaXQpfSxSZXBlYXRlck1vZGlmaWVyLnByb3RvdHlwZS5jbG9uZUVsZW1lbnRzPWZ1bmN0aW9uKHQpe3ZhciBlPSh0Lmxlbmd0aCxKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHQpKSk7cmV0dXJuIHRoaXMucmVzZXRFbGVtZW50cyhlKSxlfSxSZXBlYXRlck1vZGlmaWVyLnByb3RvdHlwZS5jaGFuZ2VHcm91cFJlbmRlcj1mdW5jdGlvbih0LGUpe3ZhciByLHM9dC5sZW5ndGg7Zm9yKHI9MDtzPnI7cis9MSl0W3JdLl9yZW5kZXI9ZSxcImdyXCI9PT10W3JdLnR5JiZ0aGlzLmNoYW5nZUdyb3VwUmVuZGVyKHRbcl0uaXQsZSl9LFJlcGVhdGVyTW9kaWZpZXIucHJvdG90eXBlLnByb2Nlc3NTaGFwZXM9ZnVuY3Rpb24odCl7aWYodGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVJZCE9PXRoaXMuZnJhbWVJZCYmKHRoaXMuZnJhbWVJZD10aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RofHx0fHwodGhpcy5tZGY9ITEpLHRoaXMubWRmKSl7dmFyIGU9TWF0aC5jZWlsKHRoaXMuYy52KTtpZih0aGlzLl9ncm91cHMubGVuZ3RoPGUpe2Zvcig7dGhpcy5fZ3JvdXBzLmxlbmd0aDxlOyl7dmFyIHI9e2l0OnRoaXMuY2xvbmVFbGVtZW50cyh0aGlzLl9lbGVtZW50cyksdHk6XCJnclwifTtyLml0LnB1c2goe2E6e2E6MCxpeDoxLGs6WzAsMF19LG5tOlwiVHJhbnNmb3JtXCIsbzp7YTowLGl4OjcsazoxMDB9LHA6e2E6MCxpeDoyLGs6WzAsMF19LHI6e2E6MCxpeDo2LGs6MH0sczp7YTowLGl4OjMsazpbMTAwLDEwMF19LHNhOnthOjAsaXg6NSxrOjB9LHNrOnthOjAsaXg6NCxrOjB9LHR5OlwidHJcIn0pLHRoaXMuYXJyLnNwbGljZSgwLDAsciksdGhpcy5fZ3JvdXBzLnNwbGljZSgwLDAsciksdGhpcy5fY3VycmVudENvcGllcys9MX10aGlzLmVsZW0ucmVsb2FkU2hhcGVzKCl9dmFyIHMsaSxhPTA7Zm9yKHM9MDtzPD10aGlzLl9ncm91cHMubGVuZ3RoLTE7cys9MSlpPWU+YSx0aGlzLl9ncm91cHNbc10uX3JlbmRlcj1pLHRoaXMuY2hhbmdlR3JvdXBSZW5kZXIodGhpcy5fZ3JvdXBzW3NdLml0LGkpLGErPTE7dGhpcy5fY3VycmVudENvcGllcz1lLHRoaXMuZWxlbS5maXJzdEZyYW1lPSEwO3ZhciBuPXRoaXMuby52LG89biUxLGg9bj4wP01hdGguZmxvb3Iobik6TWF0aC5jZWlsKG4pLGw9KHRoaXMudHIudi5wcm9wcyx0aGlzLnBNYXRyaXgucHJvcHMpLHA9dGhpcy5yTWF0cml4LnByb3BzLG09dGhpcy5zTWF0cml4LnByb3BzO3RoaXMucE1hdHJpeC5yZXNldCgpLHRoaXMuck1hdHJpeC5yZXNldCgpLHRoaXMuc01hdHJpeC5yZXNldCgpLHRoaXMudE1hdHJpeC5yZXNldCgpLHRoaXMubWF0cml4LnJlc2V0KCk7dmFyIGY9MDtpZihuPjApe2Zvcig7aD5mOyl0aGlzLmFwcGx5VHJhbnNmb3Jtcyh0aGlzLnBNYXRyaXgsdGhpcy5yTWF0cml4LHRoaXMuc01hdHJpeCx0aGlzLnRyLDEsITEpLGYrPTE7byYmKHRoaXMuYXBwbHlUcmFuc2Zvcm1zKHRoaXMucE1hdHJpeCx0aGlzLnJNYXRyaXgsdGhpcy5zTWF0cml4LHRoaXMudHIsbywhMSksZis9byl9ZWxzZSBpZigwPm4pe2Zvcig7Zj5oOyl0aGlzLmFwcGx5VHJhbnNmb3Jtcyh0aGlzLnBNYXRyaXgsdGhpcy5yTWF0cml4LHRoaXMuc01hdHJpeCx0aGlzLnRyLDEsITApLGYtPTE7byYmKHRoaXMuYXBwbHlUcmFuc2Zvcm1zKHRoaXMucE1hdHJpeCx0aGlzLnJNYXRyaXgsdGhpcy5zTWF0cml4LHRoaXMudHIsLW8sITApLGYtPW8pfXM9MT09PXRoaXMuZGF0YS5tPzA6dGhpcy5fY3VycmVudENvcGllcy0xO3ZhciBjPTE9PT10aGlzLmRhdGEubT8xOi0xO2ZvcihhPXRoaXMuX2N1cnJlbnRDb3BpZXM7YTspe2lmKDAhPT1mKXsoMCE9PXMmJjE9PT1jfHxzIT09dGhpcy5fY3VycmVudENvcGllcy0xJiYtMT09PWMpJiZ0aGlzLmFwcGx5VHJhbnNmb3Jtcyh0aGlzLnBNYXRyaXgsdGhpcy5yTWF0cml4LHRoaXMuc01hdHJpeCx0aGlzLnRyLDEsITEpLHRoaXMubWF0cml4LnRyYW5zZm9ybShwWzBdLHBbMV0scFsyXSxwWzNdLHBbNF0scFs1XSxwWzZdLHBbN10scFs4XSxwWzldLHBbMTBdLHBbMTFdLHBbMTJdLHBbMTNdLHBbMTRdLHBbMTVdKSx0aGlzLm1hdHJpeC50cmFuc2Zvcm0obVswXSxtWzFdLG1bMl0sbVszXSxtWzRdLG1bNV0sbVs2XSxtWzddLG1bOF0sbVs5XSxtWzEwXSxtWzExXSxtWzEyXSxtWzEzXSxtWzE0XSxtWzE1XSksdGhpcy5tYXRyaXgudHJhbnNmb3JtKGxbMF0sbFsxXSxsWzJdLGxbM10sbFs0XSxsWzVdLGxbNl0sbFs3XSxsWzhdLGxbOV0sbFsxMF0sbFsxMV0sbFsxMl0sbFsxM10sbFsxNF0sbFsxNV0pO3ZhciBkLHU9dGhpcy5lbGVtc0RhdGFbc10uaXQseT11W3UubGVuZ3RoLTFdLnRyYW5zZm9ybS5tUHJvcHMudi5wcm9wcyxnPXkubGVuZ3RoO2ZvcihkPTA7Zz5kO2QrPTEpeVtkXT10aGlzLm1hdHJpeC5wcm9wc1tkXTt0aGlzLm1hdHJpeC5yZXNldCgpfWVsc2V7dGhpcy5tYXRyaXgucmVzZXQoKTt2YXIgZCx1PXRoaXMuZWxlbXNEYXRhW3NdLml0LHk9dVt1Lmxlbmd0aC0xXS50cmFuc2Zvcm0ubVByb3BzLnYucHJvcHMsZz15Lmxlbmd0aDtmb3IoZD0wO2c+ZDtkKz0xKXlbZF09dGhpcy5tYXRyaXgucHJvcHNbZF19Zis9MSxhLT0xLHMrPWN9fX0sUmVwZWF0ZXJNb2RpZmllci5wcm90b3R5cGUuYWRkU2hhcGU9ZnVuY3Rpb24oKXt9LFNoYXBlTW9kaWZpZXJzLnJlZ2lzdGVyTW9kaWZpZXIoXCJycFwiLFJlcGVhdGVyTW9kaWZpZXIpLFNoYXBlQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkU2hhcGU9ZnVuY3Rpb24odCl7dGhpcy5fbGVuZ3RoPT09dGhpcy5fbWF4TGVuZ3RoJiYodGhpcy5zaGFwZXM9dGhpcy5zaGFwZXMuY29uY2F0KEFycmF5LmFwcGx5KG51bGwse2xlbmd0aDp0aGlzLl9tYXhMZW5ndGh9KSksdGhpcy5fbWF4TGVuZ3RoKj0yKSx0aGlzLnNoYXBlc1t0aGlzLl9sZW5ndGhdPXQsdGhpcy5fbGVuZ3RoKz0xfSxTaGFwZUNvbGxlY3Rpb24ucHJvdG90eXBlLnJlbGVhc2VTaGFwZXM9ZnVuY3Rpb24oKXt2YXIgdDtmb3IodD0wO3Q8dGhpcy5fbGVuZ3RoO3QrPTEpc2hhcGVfcG9vbC5yZWxlYXNlKHRoaXMuc2hhcGVzW3RdKTt0aGlzLl9sZW5ndGg9MH0sRGFzaFByb3BlcnR5LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXtpZih0aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkIT09dGhpcy5mcmFtZUlkfHx0KXt2YXIgZT0wLHI9dGhpcy5kYXRhUHJvcHMubGVuZ3RoO2Zvcih0aGlzLm1kZj0hMSx0aGlzLmZyYW1lSWQ9dGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVJZDtyPmU7KXtpZih0aGlzLmRhdGFQcm9wc1tlXS5wLm1kZil7dGhpcy5tZGY9IXQ7YnJlYWt9ZSs9MX1pZih0aGlzLm1kZnx8dClmb3IoXCJzdmdcIj09PXRoaXMucmVuZGVyZXImJih0aGlzLmRhc2hTdHI9XCJcIiksZT0wO3I+ZTtlKz0xKVwib1wiIT10aGlzLmRhdGFQcm9wc1tlXS5uP1wic3ZnXCI9PT10aGlzLnJlbmRlcmVyP3RoaXMuZGFzaFN0cis9XCIgXCIrdGhpcy5kYXRhUHJvcHNbZV0ucC52OnRoaXMuZGFzaEFycmF5W2VdPXRoaXMuZGF0YVByb3BzW2VdLnAudjp0aGlzLmRhc2hvZmZzZXRbMF09dGhpcy5kYXRhUHJvcHNbZV0ucC52fX0sR3JhZGllbnRQcm9wZXJ0eS5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCl7aWYodGhpcy5wcm9wLmdldFZhbHVlKCksdGhpcy5jbWRmPSExLHRoaXMub21kZj0hMSx0aGlzLnByb3AubWRmfHx0KXt2YXIgZSxyLHMsaT00KnRoaXMuZGF0YS5wO2ZvcihlPTA7aT5lO2UrPTEpcj1lJTQ9PT0wPzEwMDoyNTUscz1NYXRoLnJvdW5kKHRoaXMucHJvcC52W2VdKnIpLHRoaXMuY1tlXSE9PXMmJih0aGlzLmNbZV09cyx0aGlzLmNtZGY9IXQpO2lmKHRoaXMuby5sZW5ndGgpZm9yKGk9dGhpcy5wcm9wLnYubGVuZ3RoLGU9NCp0aGlzLmRhdGEucDtpPmU7ZSs9MSlyPWUlMj09PTA/MTAwOjEscz1lJTI9PT0wP01hdGgucm91bmQoMTAwKnRoaXMucHJvcC52W2VdKTp0aGlzLnByb3AudltlXSx0aGlzLm9bZS00KnRoaXMuZGF0YS5wXSE9PXMmJih0aGlzLm9bZS00KnRoaXMuZGF0YS5wXT1zLHRoaXMub21kZj0hdCl9fTt2YXIgSW1hZ2VQcmVsb2FkZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5sb2FkZWRBc3NldHMrPTEsdGhpcy5sb2FkZWRBc3NldHM9PT10aGlzLnRvdGFsSW1hZ2VzJiZuJiZuKG51bGwpfWZ1bmN0aW9uIGUodCl7dmFyIGU9XCJcIjtpZih0aGlzLmFzc2V0c1BhdGgpe3ZhciByPXQucDstMSE9PXIuaW5kZXhPZihcImltYWdlcy9cIikmJihyPXIuc3BsaXQoXCIvXCIpWzFdKSxlPXRoaXMuYXNzZXRzUGF0aCtyfWVsc2UgZT10aGlzLnBhdGgsZSs9dC51P3QudTpcIlwiLGUrPXQucDtyZXR1cm4gZX1mdW5jdGlvbiByKGUpe3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7ci5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLHQuYmluZCh0aGlzKSwhMSksci5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIix0LmJpbmQodGhpcyksITEpLHIuc3JjPWV9ZnVuY3Rpb24gcyh0LHMpe249cyx0aGlzLnRvdGFsQXNzZXRzPXQubGVuZ3RoO3ZhciBpO2ZvcihpPTA7aTx0aGlzLnRvdGFsQXNzZXRzO2krPTEpdFtpXS5sYXllcnN8fChyLmJpbmQodGhpcykoZS5iaW5kKHRoaXMpKHRbaV0pKSx0aGlzLnRvdGFsSW1hZ2VzKz0xKX1mdW5jdGlvbiBpKHQpe3RoaXMucGF0aD10fHxcIlwifWZ1bmN0aW9uIGEodCl7dGhpcy5hc3NldHNQYXRoPXR8fFwiXCJ9dmFyIG47cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy5sb2FkQXNzZXRzPXMsdGhpcy5zZXRBc3NldHNQYXRoPWEsdGhpcy5zZXRQYXRoPWksdGhpcy5hc3NldHNQYXRoPVwiXCIsdGhpcy5wYXRoPVwiXCIsdGhpcy50b3RhbEFzc2V0cz0wLHRoaXMudG90YWxJbWFnZXM9MCx0aGlzLmxvYWRlZEFzc2V0cz0wfX0oKSxmZWF0dXJlU3VwcG9ydD1mdW5jdGlvbigpe3ZhciB0PXttYXNrVHlwZTohMH07cmV0dXJuKC9NU0lFIDEwL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KXx8L01TSUUgOS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl8fC9ydjoxMS4wL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KXx8L0VkZ2VcXC9cXGQuL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkmJih0Lm1hc2tUeXBlPSExKSx0fSgpLGZpbHRlcnNGYWN0b3J5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJmaWx0ZXJcIik7cmV0dXJuIGUuc2V0QXR0cmlidXRlKFwiaWRcIix0KSxlLnNldEF0dHJpYnV0ZShcImZpbHRlclVuaXRzXCIsXCJvYmplY3RCb3VuZGluZ0JveFwiKSxlLnNldEF0dHJpYnV0ZShcInhcIixcIjAlXCIpLGUuc2V0QXR0cmlidXRlKFwieVwiLFwiMCVcIiksZS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLFwiMTAwJVwiKSxlLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLFwiMTAwJVwiKSxlfWZ1bmN0aW9uIGUoKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJmZUNvbG9yTWF0cml4XCIpO3JldHVybiB0LnNldEF0dHJpYnV0ZShcInR5cGVcIixcIm1hdHJpeFwiKSx0LnNldEF0dHJpYnV0ZShcImNvbG9yLWludGVycG9sYXRpb24tZmlsdGVyc1wiLFwic1JHQlwiKSx0LnNldEF0dHJpYnV0ZShcInZhbHVlc1wiLFwiMCAwIDAgMSAwICAwIDAgMCAxIDAgIDAgMCAwIDEgMCAgMCAwIDAgMSAxXCIpLHR9dmFyIHI9e307cmV0dXJuIHIuY3JlYXRlRmlsdGVyPXQsci5jcmVhdGVBbHBoYVRvTHVtaW5hbmNlRmlsdGVyPWUscn0oKTtUZXh0QW5pbWF0b3JQcm9wZXJ0eS5wcm90b3R5cGUuc2VhcmNoUHJvcGVydGllcz1mdW5jdGlvbih0KXt2YXIgZSxyLHMsaT10aGlzLl90ZXh0RGF0YS5hLmxlbmd0aCxhPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wO2ZvcihlPTA7aT5lO2UrPTEpcz10aGlzLl90ZXh0RGF0YS5hW2VdLHI9e2E6e30sczp7fX0sXCJyXCJpbiBzLmEmJihyLmEucj1hKHRoaXMuX2VsZW0scy5hLnIsMCxkZWdUb1JhZHMsdGhpcy5fZHluYW1pY1Byb3BlcnRpZXMpKSxcInJ4XCJpbiBzLmEmJihyLmEucng9YSh0aGlzLl9lbGVtLHMuYS5yeCwwLGRlZ1RvUmFkcyx0aGlzLl9keW5hbWljUHJvcGVydGllcykpLFwicnlcImluIHMuYSYmKHIuYS5yeT1hKHRoaXMuX2VsZW0scy5hLnJ5LDAsZGVnVG9SYWRzLHRoaXMuX2R5bmFtaWNQcm9wZXJ0aWVzKSksXCJza1wiaW4gcy5hJiYoci5hLnNrPWEodGhpcy5fZWxlbSxzLmEuc2ssMCxkZWdUb1JhZHMsdGhpcy5fZHluYW1pY1Byb3BlcnRpZXMpKSxcInNhXCJpbiBzLmEmJihyLmEuc2E9YSh0aGlzLl9lbGVtLHMuYS5zYSwwLGRlZ1RvUmFkcyx0aGlzLl9keW5hbWljUHJvcGVydGllcykpLFwic1wiaW4gcy5hJiYoci5hLnM9YSh0aGlzLl9lbGVtLHMuYS5zLDEsLjAxLHRoaXMuX2R5bmFtaWNQcm9wZXJ0aWVzKSksXCJhXCJpbiBzLmEmJihyLmEuYT1hKHRoaXMuX2VsZW0scy5hLmEsMSwwLHRoaXMuX2R5bmFtaWNQcm9wZXJ0aWVzKSksXCJvXCJpbiBzLmEmJihyLmEubz1hKHRoaXMuX2VsZW0scy5hLm8sMCwuMDEsdGhpcy5fZHluYW1pY1Byb3BlcnRpZXMpKSxcInBcImluIHMuYSYmKHIuYS5wPWEodGhpcy5fZWxlbSxzLmEucCwxLDAsdGhpcy5fZHluYW1pY1Byb3BlcnRpZXMpKSxcInN3XCJpbiBzLmEmJihyLmEuc3c9YSh0aGlzLl9lbGVtLHMuYS5zdywwLDAsdGhpcy5fZHluYW1pY1Byb3BlcnRpZXMpKSxcInNjXCJpbiBzLmEmJihyLmEuc2M9YSh0aGlzLl9lbGVtLHMuYS5zYywxLDAsdGhpcy5fZHluYW1pY1Byb3BlcnRpZXMpKSxcImZjXCJpbiBzLmEmJihyLmEuZmM9YSh0aGlzLl9lbGVtLHMuYS5mYywxLDAsdGhpcy5fZHluYW1pY1Byb3BlcnRpZXMpKSxcImZoXCJpbiBzLmEmJihyLmEuZmg9YSh0aGlzLl9lbGVtLHMuYS5maCwwLDAsdGhpcy5fZHluYW1pY1Byb3BlcnRpZXMpKSxcImZzXCJpbiBzLmEmJihyLmEuZnM9YSh0aGlzLl9lbGVtLHMuYS5mcywwLC4wMSx0aGlzLl9keW5hbWljUHJvcGVydGllcykpLFwiZmJcImluIHMuYSYmKHIuYS5mYj1hKHRoaXMuX2VsZW0scy5hLmZiLDAsLjAxLHRoaXMuX2R5bmFtaWNQcm9wZXJ0aWVzKSksXCJ0XCJpbiBzLmEmJihyLmEudD1hKHRoaXMuX2VsZW0scy5hLnQsMCwwLHRoaXMuX2R5bmFtaWNQcm9wZXJ0aWVzKSksci5zPVRleHRTZWxlY3RvclByb3AuZ2V0VGV4dFNlbGVjdG9yUHJvcCh0aGlzLl9lbGVtLHMucyx0aGlzLl9keW5hbWljUHJvcGVydGllcyksci5zLnQ9cy5zLnQsdGhpcy5fYW5pbWF0b3JzRGF0YVtlXT1yO3RoaXMuX3RleHREYXRhLnAmJlwibVwiaW4gdGhpcy5fdGV4dERhdGEucD8odGhpcy5fcGF0aERhdGE9e2Y6YSh0aGlzLl9lbGVtLHRoaXMuX3RleHREYXRhLnAuZiwwLDAsdGhpcy5fZHluYW1pY1Byb3BlcnRpZXMpLGw6YSh0aGlzLl9lbGVtLHRoaXMuX3RleHREYXRhLnAubCwwLDAsdGhpcy5fZHluYW1pY1Byb3BlcnRpZXMpLHI6dGhpcy5fdGV4dERhdGEucC5yLG06dGhpcy5fZWxlbS5tYXNrTWFuYWdlci5nZXRNYXNrUHJvcGVydHkodGhpcy5fdGV4dERhdGEucC5tKX0sdGhpcy5faGFzTWFza2VkUGF0aD0hMCk6dGhpcy5faGFzTWFza2VkUGF0aD0hMSx0aGlzLl9tb3JlT3B0aW9ucy5hbGlnbm1lbnQ9YSh0aGlzLl9lbGVtLHRoaXMuX3RleHREYXRhLm0uYSwxLDAsdGhpcy5fZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMuX2R5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aCYmdC5wdXNoKHRoaXMpfSxUZXh0QW5pbWF0b3JQcm9wZXJ0eS5wcm90b3R5cGUuZ2V0TWVhc3VyZXM9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmxldHRlcnNDaGFuZ2VkRmxhZz1lLHRoaXMubWRmfHx0aGlzLl9maXJzdEZyYW1lfHxlfHx0aGlzLl9oYXNNYXNrZWRQYXRoJiZ0aGlzLl9wYXRoRGF0YS5tLm1kZil7dGhpcy5fZmlyc3RGcmFtZT0hMTt2YXIgcixzLGksYSxuPXRoaXMuX21vcmVPcHRpb25zLmFsaWdubWVudC52LG89dGhpcy5fYW5pbWF0b3JzRGF0YSxoPXRoaXMuX3RleHREYXRhLGw9dGhpcy5tSGVscGVyLHA9dGhpcy5fcmVuZGVyVHlwZSxtPXRoaXMucmVuZGVyZWRMZXR0ZXJzLmxlbmd0aCxmPSh0aGlzLmRhdGEsdC5sKTtpZih0aGlzLl9oYXNNYXNrZWRQYXRoKXt2YXIgYz10aGlzLl9wYXRoRGF0YS5tO2lmKCF0aGlzLl9wYXRoRGF0YS5ufHx0aGlzLl9wYXRoRGF0YS5tZGYpe3ZhciBkPWMudjt0aGlzLl9wYXRoRGF0YS5yJiYoZD1kLnJldmVyc2UoKSk7dmFyIHU9e3RMZW5ndGg6MCxzZWdtZW50czpbXX07YT1kLl9sZW5ndGgtMTt2YXIgeSxnPTA7Zm9yKGk9MDthPmk7aSs9MSl5PXtzOmQudltpXSxlOmQudltpKzFdLHRvOltkLm9baV1bMF0tZC52W2ldWzBdLGQub1tpXVsxXS1kLnZbaV1bMV1dLHRpOltkLmlbaSsxXVswXS1kLnZbaSsxXVswXSxkLmlbaSsxXVsxXS1kLnZbaSsxXVsxXV19LGJlei5idWlsZEJlemllckRhdGEoeSksdS50TGVuZ3RoKz15LmJlemllckRhdGEuc2VnbWVudExlbmd0aCx1LnNlZ21lbnRzLnB1c2goeSksZys9eS5iZXppZXJEYXRhLnNlZ21lbnRMZW5ndGg7aT1hLGMudi5jJiYoeT17czpkLnZbaV0sZTpkLnZbMF0sdG86W2Qub1tpXVswXS1kLnZbaV1bMF0sZC5vW2ldWzFdLWQudltpXVsxXV0sdGk6W2QuaVswXVswXS1kLnZbMF1bMF0sZC5pWzBdWzFdLWQudlswXVsxXV19LGJlei5idWlsZEJlemllckRhdGEoeSksdS50TGVuZ3RoKz15LmJlemllckRhdGEuc2VnbWVudExlbmd0aCx1LnNlZ21lbnRzLnB1c2goeSksZys9eS5iZXppZXJEYXRhLnNlZ21lbnRMZW5ndGgpLHRoaXMuX3BhdGhEYXRhLnBpPXV9dmFyIHYsYixFLHU9dGhpcy5fcGF0aERhdGEucGksUD10aGlzLl9wYXRoRGF0YS5mLnYseD0wLFM9MSxDPTAsaz0hMCxBPXUuc2VnbWVudHM7aWYoMD5QJiZjLnYuYylmb3IodS50TGVuZ3RoPE1hdGguYWJzKFApJiYoUD0tTWF0aC5hYnMoUCkldS50TGVuZ3RoKSx4PUEubGVuZ3RoLTEsRT1BW3hdLmJlemllckRhdGEucG9pbnRzLFM9RS5sZW5ndGgtMTswPlA7KVArPUVbU10ucGFydGlhbExlbmd0aCxTLT0xLDA+UyYmKHgtPTEsRT1BW3hdLmJlemllckRhdGEucG9pbnRzLFM9RS5sZW5ndGgtMSk7RT1BW3hdLmJlemllckRhdGEucG9pbnRzLGI9RVtTLTFdLHY9RVtTXTt2YXIgTSxELHc9di5wYXJ0aWFsTGVuZ3RofWE9Zi5sZW5ndGgscj0wLHM9MDt2YXIgVCxfLEksRixWLFI9MS4yKnQucyouNzE0LE49ITA7Rj1vLmxlbmd0aDt2YXIgQixMLE8sRyxqLEgseixXLHEsWSxYLEosVSxLPS0xLFo9UCxRPXgsJD1TLHR0PS0xLGV0PTAscnQ9XCJcIixzdD10aGlzLmRlZmF1bHRQcm9wc0FycmF5O2ZvcihpPTA7YT5pO2krPTEpe2lmKGwucmVzZXQoKSxqPTEsZltpXS5uKXI9MCxzKz10LnlPZmZzZXQscys9Tj8xOjAsUD1aLE49ITEsZXQ9MCx0aGlzLl9oYXNNYXNrZWRQYXRoJiYoeD1RLFM9JCxFPUFbeF0uYmV6aWVyRGF0YS5wb2ludHMsYj1FW1MtMV0sdj1FW1NdLHc9di5wYXJ0aWFsTGVuZ3RoLEM9MCksVT1ZPUo9cnQ9XCJcIixzdD10aGlzLmRlZmF1bHRQcm9wc0FycmF5O2Vsc2V7aWYodGhpcy5faGFzTWFza2VkUGF0aCl7aWYodHQhPT1mW2ldLmxpbmUpe3N3aXRjaCh0Lmope2Nhc2UgMTpQKz1nLXQubGluZVdpZHRoc1tmW2ldLmxpbmVdO2JyZWFrO2Nhc2UgMjpQKz0oZy10LmxpbmVXaWR0aHNbZltpXS5saW5lXSkvMn10dD1mW2ldLmxpbmV9SyE9PWZbaV0uaW5kJiYoZltLXSYmKFArPWZbS10uZXh0cmEpLFArPWZbaV0uYW4vMixLPWZbaV0uaW5kKSxQKz1uWzBdKmZbaV0uYW4vMjAwO3ZhciBpdD0wO2ZvcihJPTA7Rj5JO0krPTEpVD1vW0ldLmEsXCJwXCJpbiBUJiYoXz1vW0ldLnMsQj1fLmdldE11bHQoZltpXS5hbkluZGV4ZXNbSV0saC5hW0ldLnMudG90YWxDaGFycyksaXQrPUIubGVuZ3RoP1QucC52WzBdKkJbMF06VC5wLnZbMF0qQiksXCJhXCJpbiBUJiYoXz1vW0ldLnMsQj1fLmdldE11bHQoZltpXS5hbkluZGV4ZXNbSV0saC5hW0ldLnMudG90YWxDaGFycyksaXQrPUIubGVuZ3RoP1QuYS52WzBdKkJbMF06VC5hLnZbMF0qQik7Zm9yKGs9ITA7azspQyt3Pj1QK2l0fHwhRT8oTT0oUCtpdC1DKS92LnBhcnRpYWxMZW5ndGgsTz1iLnBvaW50WzBdKyh2LnBvaW50WzBdLWIucG9pbnRbMF0pKk0sRz1iLnBvaW50WzFdKyh2LnBvaW50WzFdLWIucG9pbnRbMV0pKk0sbC50cmFuc2xhdGUoLW5bMF0qZltpXS5hbi8yMDAsLShuWzFdKlIvMTAwKSksaz0hMSk6RSYmKEMrPXYucGFydGlhbExlbmd0aCxTKz0xLFM+PUUubGVuZ3RoJiYoUz0wLHgrPTEsQVt4XT9FPUFbeF0uYmV6aWVyRGF0YS5wb2ludHM6Yy52LmM/KFM9MCx4PTAsRT1BW3hdLmJlemllckRhdGEucG9pbnRzKTooQy09di5wYXJ0aWFsTGVuZ3RoLEU9bnVsbCkpLEUmJihiPXYsdj1FW1NdLHc9di5wYXJ0aWFsTGVuZ3RoKSk7TD1mW2ldLmFuLzItZltpXS5hZGQsbC50cmFuc2xhdGUoLUwsMCwwKX1lbHNlIEw9ZltpXS5hbi8yLWZbaV0uYWRkLGwudHJhbnNsYXRlKC1MLDAsMCksbC50cmFuc2xhdGUoLW5bMF0qZltpXS5hbi8yMDAsLW5bMV0qUi8xMDAsMCk7Zm9yKGV0Kz1mW2ldLmwvMixJPTA7Rj5JO0krPTEpVD1vW0ldLmEsXCJ0XCJpbiBUJiYoXz1vW0ldLnMsQj1fLmdldE11bHQoZltpXS5hbkluZGV4ZXNbSV0saC5hW0ldLnMudG90YWxDaGFycyksdGhpcy5faGFzTWFza2VkUGF0aD9QKz1CLmxlbmd0aD9ULnQqQlswXTpULnQqQjpyKz1CLmxlbmd0aD9ULnQudipCWzBdOlQudC52KkIpO2ZvcihldCs9ZltpXS5sLzIsdC5zdHJva2VXaWR0aEFuaW0mJih6PXQuc3d8fDApLHQuc3Ryb2tlQ29sb3JBbmltJiYoSD10LnNjP1t0LnNjWzBdLHQuc2NbMV0sdC5zY1syXV06WzAsMCwwXSksdC5maWxsQ29sb3JBbmltJiZ0LmZjJiYoVz1bdC5mY1swXSx0LmZjWzFdLHQuZmNbMl1dKSxJPTA7Rj5JO0krPTEpVD1vW0ldLmEsXCJhXCJpbiBUJiYoXz1vW0ldLnMsQj1fLmdldE11bHQoZltpXS5hbkluZGV4ZXNbSV0saC5hW0ldLnMudG90YWxDaGFycyksQi5sZW5ndGg/bC50cmFuc2xhdGUoLVQuYS52WzBdKkJbMF0sLVQuYS52WzFdKkJbMV0sVC5hLnZbMl0qQlsyXSk6bC50cmFuc2xhdGUoLVQuYS52WzBdKkIsLVQuYS52WzFdKkIsVC5hLnZbMl0qQikpO2ZvcihJPTA7Rj5JO0krPTEpVD1vW0ldLmEsXCJzXCJpbiBUJiYoXz1vW0ldLnMsQj1fLmdldE11bHQoZltpXS5hbkluZGV4ZXNbSV0saC5hW0ldLnMudG90YWxDaGFycyksQi5sZW5ndGg/bC5zY2FsZSgxKyhULnMudlswXS0xKSpCWzBdLDErKFQucy52WzFdLTEpKkJbMV0sMSk6bC5zY2FsZSgxKyhULnMudlswXS0xKSpCLDErKFQucy52WzFdLTEpKkIsMSkpO2ZvcihJPTA7Rj5JO0krPTEpe2lmKFQ9b1tJXS5hLF89b1tJXS5zLEI9Xy5nZXRNdWx0KGZbaV0uYW5JbmRleGVzW0ldLGguYVtJXS5zLnRvdGFsQ2hhcnMpLFwic2tcImluIFQmJihCLmxlbmd0aD9sLnNrZXdGcm9tQXhpcygtVC5zay52KkJbMF0sVC5zYS52KkJbMV0pOmwuc2tld0Zyb21BeGlzKC1ULnNrLnYqQixULnNhLnYqQikpLFwiclwiaW4gVCYmbC5yb3RhdGVaKEIubGVuZ3RoPy1ULnIudipCWzJdOi1ULnIudipCKSxcInJ5XCJpbiBUJiZsLnJvdGF0ZVkoQi5sZW5ndGg/VC5yeS52KkJbMV06VC5yeS52KkIpLFwicnhcImluIFQmJmwucm90YXRlWChCLmxlbmd0aD9ULnJ4LnYqQlswXTpULnJ4LnYqQiksXCJvXCJpbiBUJiYoais9Qi5sZW5ndGg/KFQuby52KkJbMF0taikqQlswXTooVC5vLnYqQi1qKSpCKSx0LnN0cm9rZVdpZHRoQW5pbSYmXCJzd1wiaW4gVCYmKHorPUIubGVuZ3RoP1Quc3cudipCWzBdOlQuc3cudipCKSx0LnN0cm9rZUNvbG9yQW5pbSYmXCJzY1wiaW4gVClmb3IocT0wOzM+cTtxKz0xKUhbcV09Qi5sZW5ndGg/SFtxXSsoVC5zYy52W3FdLUhbcV0pKkJbMF06SFtxXSsoVC5zYy52W3FdLUhbcV0pKkI7aWYodC5maWxsQ29sb3JBbmltJiZ0LmZjKXtpZihcImZjXCJpbiBUKWZvcihxPTA7Mz5xO3ErPTEpV1txXT1CLmxlbmd0aD9XW3FdKyhULmZjLnZbcV0tV1txXSkqQlswXTpXW3FdKyhULmZjLnZbcV0tV1txXSkqQjtcImZoXCJpbiBUJiYoVz1CLmxlbmd0aD9hZGRIdWVUb1JHQihXLFQuZmgudipCWzBdKTphZGRIdWVUb1JHQihXLFQuZmgudipCKSksXCJmc1wiaW4gVCYmKFc9Qi5sZW5ndGg/YWRkU2F0dXJhdGlvblRvUkdCKFcsVC5mcy52KkJbMF0pOmFkZFNhdHVyYXRpb25Ub1JHQihXLFQuZnMudipCKSksXCJmYlwiaW4gVCYmKFc9Qi5sZW5ndGg/YWRkQnJpZ2h0bmVzc1RvUkdCKFcsVC5mYi52KkJbMF0pOmFkZEJyaWdodG5lc3NUb1JHQihXLFQuZmIudipCKSl9fWZvcihJPTA7Rj5JO0krPTEpVD1vW0ldLmEsXCJwXCJpbiBUJiYoXz1vW0ldLnMsQj1fLmdldE11bHQoZltpXS5hbkluZGV4ZXNbSV0saC5hW0ldLnMudG90YWxDaGFycyksdGhpcy5faGFzTWFza2VkUGF0aD9CLmxlbmd0aD9sLnRyYW5zbGF0ZSgwLFQucC52WzFdKkJbMF0sLVQucC52WzJdKkJbMV0pOmwudHJhbnNsYXRlKDAsVC5wLnZbMV0qQiwtVC5wLnZbMl0qQik6Qi5sZW5ndGg/bC50cmFuc2xhdGUoVC5wLnZbMF0qQlswXSxULnAudlsxXSpCWzFdLC1ULnAudlsyXSpCWzJdKTpsLnRyYW5zbGF0ZShULnAudlswXSpCLFQucC52WzFdKkIsLVQucC52WzJdKkIpKTtpZih0LnN0cm9rZVdpZHRoQW5pbSYmKFk9MD56PzA6eiksdC5zdHJva2VDb2xvckFuaW0mJihYPVwicmdiKFwiK01hdGgucm91bmQoMjU1KkhbMF0pK1wiLFwiK01hdGgucm91bmQoMjU1KkhbMV0pK1wiLFwiK01hdGgucm91bmQoMjU1KkhbMl0pK1wiKVwiKSx0LmZpbGxDb2xvckFuaW0mJnQuZmMmJihKPVwicmdiKFwiK01hdGgucm91bmQoMjU1KldbMF0pK1wiLFwiK01hdGgucm91bmQoMjU1KldbMV0pK1wiLFwiK01hdGgucm91bmQoMjU1KldbMl0pK1wiKVwiKSx0aGlzLl9oYXNNYXNrZWRQYXRoKXtpZihsLnRyYW5zbGF0ZSgwLC10LmxzKSxsLnRyYW5zbGF0ZSgwLG5bMV0qUi8xMDArcywwKSxoLnAucCl7RD0odi5wb2ludFsxXS1iLnBvaW50WzFdKS8odi5wb2ludFswXS1iLnBvaW50WzBdKTt2YXIgYXQ9MTgwKk1hdGguYXRhbihEKS9NYXRoLlBJO3YucG9pbnRbMF08Yi5wb2ludFswXSYmKGF0Kz0xODApLGwucm90YXRlKC1hdCpNYXRoLlBJLzE4MCl9bC50cmFuc2xhdGUoTyxHLDApLFAtPW5bMF0qZltpXS5hbi8yMDAsZltpKzFdJiZLIT09ZltpKzFdLmluZCYmKFArPWZbaV0uYW4vMixQKz10LnRyLzFlMyp0LnMpfWVsc2V7c3dpdGNoKGwudHJhbnNsYXRlKHIscywwKSx0LnBzJiZsLnRyYW5zbGF0ZSh0LnBzWzBdLHQucHNbMV0rdC5hc2NlbnQsMCksdC5qKXtjYXNlIDE6bC50cmFuc2xhdGUodC5qdXN0aWZ5T2Zmc2V0Kyh0LmJveFdpZHRoLXQubGluZVdpZHRoc1tmW2ldLmxpbmVdKSwwLDApO2JyZWFrO2Nhc2UgMjpsLnRyYW5zbGF0ZSh0Lmp1c3RpZnlPZmZzZXQrKHQuYm94V2lkdGgtdC5saW5lV2lkdGhzW2ZbaV0ubGluZV0pLzIsMCwwKX1sLnRyYW5zbGF0ZSgwLC10LmxzKSxsLnRyYW5zbGF0ZShMLDAsMCksbC50cmFuc2xhdGUoblswXSpmW2ldLmFuLzIwMCxuWzFdKlIvMTAwLDApLHIrPWZbaV0ubCt0LnRyLzFlMyp0LnN9XCJodG1sXCI9PT1wP3J0PWwudG9DU1MoKTpcInN2Z1wiPT09cD9ydD1sLnRvMmRDU1MoKTpzdD1bbC5wcm9wc1swXSxsLnByb3BzWzFdLGwucHJvcHNbMl0sbC5wcm9wc1szXSxsLnByb3BzWzRdLGwucHJvcHNbNV0sbC5wcm9wc1s2XSxsLnByb3BzWzddLGwucHJvcHNbOF0sbC5wcm9wc1s5XSxsLnByb3BzWzEwXSxsLnByb3BzWzExXSxsLnByb3BzWzEyXSxsLnByb3BzWzEzXSxsLnByb3BzWzE0XSxsLnByb3BzWzE1XV0sVT1qfWk+PW0/KFY9bmV3IExldHRlclByb3BzKFUsWSxYLEoscnQsc3QpLHRoaXMucmVuZGVyZWRMZXR0ZXJzLnB1c2goViksbSs9MSx0aGlzLmxldHRlcnNDaGFuZ2VkRmxhZz0hMCk6KFY9dGhpcy5yZW5kZXJlZExldHRlcnNbaV0sdGhpcy5sZXR0ZXJzQ2hhbmdlZEZsYWc9Vi51cGRhdGUoVSxZLFgsSixydCxzdCl8fHRoaXMubGV0dGVyc0NoYW5nZWRGbGFnKX19fSxUZXh0QW5pbWF0b3JQcm9wZXJ0eS5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtpZih0aGlzLl9lbGVtLmdsb2JhbERhdGEuZnJhbWVJZCE9PXRoaXMuX2ZyYW1lSWQpe3RoaXMuX2ZyYW1lSWQ9dGhpcy5fZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWQ7dmFyIHQsZT10aGlzLl9keW5hbWljUHJvcGVydGllcy5sZW5ndGg7Zm9yKHRoaXMubWRmPSExLHQ9MDtlPnQ7dCs9MSl0aGlzLl9keW5hbWljUHJvcGVydGllc1t0XS5nZXRWYWx1ZSgpLHRoaXMubWRmPXRoaXMuX2R5bmFtaWNQcm9wZXJ0aWVzW3RdLm1kZnx8dGhpcy5tZGZ9fSxUZXh0QW5pbWF0b3JQcm9wZXJ0eS5wcm90b3R5cGUubUhlbHBlcj1uZXcgTWF0cml4LFRleHRBbmltYXRvclByb3BlcnR5LnByb3RvdHlwZS5kZWZhdWx0UHJvcHNBcnJheT1bXSxMZXR0ZXJQcm9wcy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxyLHMsaSxhKXt0aGlzLm1kZi5vPSExLHRoaXMubWRmLnN3PSExLHRoaXMubWRmLnNjPSExLHRoaXMubWRmLmZjPSExLHRoaXMubWRmLm09ITEsdGhpcy5tZGYucD0hMTt2YXIgbj0hMTtyZXR1cm4gdGhpcy5vIT09dCYmKHRoaXMubz10LHRoaXMubWRmLm89ITAsbj0hMCksdGhpcy5zdyE9PWUmJih0aGlzLnN3PWUsdGhpcy5tZGYuc3c9ITAsbj0hMCksdGhpcy5zYyE9PXImJih0aGlzLnNjPXIsdGhpcy5tZGYuc2M9ITAsbj0hMCksdGhpcy5mYyE9PXMmJih0aGlzLmZjPXMsdGhpcy5tZGYuZmM9ITAsbj0hMCksdGhpcy5tIT09aSYmKHRoaXMubT1pLHRoaXMubWRmLm09ITAsbj0hMCksIWEubGVuZ3RofHx0aGlzLnBbMF09PT1hWzBdJiZ0aGlzLnBbMV09PT1hWzFdJiZ0aGlzLnBbNF09PT1hWzRdJiZ0aGlzLnBbNV09PT1hWzVdJiZ0aGlzLnBbMTJdPT09YVsxMl0mJnRoaXMucFsxM109PT1hWzEzXXx8KHRoaXMucD1hLHRoaXMubWRmLnA9ITAsbj0hMCksbn0sVGV4dFByb3BlcnR5LnByb3RvdHlwZS5zZXRDdXJyZW50RGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmN1cnJlbnREYXRhO2UuYXNjZW50PXQuYXNjZW50LGUuYm94V2lkdGg9dC5ib3hXaWR0aD90LmJveFdpZHRoOmUuYm94V2lkdGgsZS5mPXQuZixlLmZTdHlsZT10LmZTdHlsZSxlLmZXZWlnaHQ9dC5mV2VpZ2h0LGUuZmM9dC5mYyxlLmo9dC5qLGUuanVzdGlmeU9mZnNldD10Lmp1c3RpZnlPZmZzZXQsZS5sPXQubCxlLmxoPXQubGgsZS5saW5lV2lkdGhzPXQubGluZVdpZHRocyxlLmxzPXQubHMsZS5vZj10Lm9mLGUucz10LnMsZS5zYz10LnNjLGUuc3c9dC5zdyxlLnQ9dC50LGUudHI9dC50cixlLmZpbGxDb2xvckFuaW09dC5maWxsQ29sb3JBbmltfHxlLmZpbGxDb2xvckFuaW0sZS5zdHJva2VDb2xvckFuaW09dC5zdHJva2VDb2xvckFuaW18fGUuc3Ryb2tlQ29sb3JBbmltLGUuc3Ryb2tlV2lkdGhBbmltPXQuc3Ryb2tlV2lkdGhBbmltfHxlLnN0cm9rZVdpZHRoQW5pbSxlLnlPZmZzZXQ9dC55T2Zmc2V0LGUuX19jb21wbGV0ZT0hMX0sVGV4dFByb3BlcnR5LnByb3RvdHlwZS5zZWFyY2hQcm9wZXJ0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtmPXRoaXMuZGF0YS5kLmsubGVuZ3RoPjEsdGhpcy5rZn0sVGV4dFByb3BlcnR5LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbigpe3RoaXMubWRmPSExO3ZhciB0PXRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWQ7aWYodCE9PXRoaXMuX2ZyYW1lSWQmJnRoaXMua2Z8fHRoaXMuZmlyc3RGcmFtZSl7Zm9yKHZhciBlLHI9dGhpcy5kYXRhLmQuayxzPTAsaT1yLmxlbmd0aDtpLTE+PXMmJihlPXJbc10ucywhKHM9PT1pLTF8fHJbcysxXS50PnQpKTspcys9MTt0aGlzLmtleXNJbmRleCE9PXMmJihlLl9fY29tcGxldGV8fHRoaXMuY29tcGxldGVUZXh0RGF0YShlKSx0aGlzLnNldEN1cnJlbnREYXRhKGUpLHRoaXMubWRmPXRoaXMuZmlyc3RGcmFtZT8hMTohMCx0aGlzLnB2PXRoaXMudj10aGlzLmN1cnJlbnREYXRhLnQsdGhpcy5rZXlzSW5kZXg9cyksdGhpcy5fZnJhbWVJZD10fX0sVGV4dFByb3BlcnR5LnByb3RvdHlwZS5jb21wbGV0ZVRleHREYXRhPWZ1bmN0aW9uKHQpe3QuX19jb21wbGV0ZT0hMDt2YXIgZSxyLHMsaSxhLG4sbyxoPXRoaXMuZWxlbS5nbG9iYWxEYXRhLmZvbnRNYW5hZ2VyLGw9dGhpcy5kYXRhLHA9W10sbT0wLGY9bC5tLmcsYz0wLGQ9MCx1PTAseT1bXSxnPTAsdj0wLGI9aC5nZXRGb250QnlOYW1lKHQuZiksRT0wLFA9Yi5mU3R5bGUuc3BsaXQoXCIgXCIpLHg9XCJub3JtYWxcIixTPVwibm9ybWFsXCI7cj1QLmxlbmd0aDt2YXIgQztmb3IoZT0wO3I+ZTtlKz0xKXN3aXRjaChDPVBbZV0udG9Mb3dlckNhc2UoKSl7Y2FzZVwiaXRhbGljXCI6Uz1cIml0YWxpY1wiO2JyZWFrO2Nhc2VcImJvbGRcIjp4PVwiNzAwXCI7YnJlYWs7Y2FzZVwiYmxhY2tcIjp4PVwiOTAwXCI7YnJlYWs7Y2FzZVwibWVkaXVtXCI6eD1cIjUwMFwiO2JyZWFrO2Nhc2VcInJlZ3VsYXJcIjpjYXNlXCJub3JtYWxcIjp4PVwiNDAwXCI7Y2FzZVwibGlnaHRcIjpjYXNlXCJ0aGluXCI6eD1cIjIwMFwifXQuZldlaWdodD14LHQuZlN0eWxlPVMscj10LnQubGVuZ3RoO3ZhciBrPXQudHIvMWUzKnQucztpZih0LnN6KXt2YXIgQT10LnN6WzBdLE09LTE7Zm9yKGU9MDtyPmU7ZSs9MSlzPSExLFwiIFwiPT09dC50LmNoYXJBdChlKT9NPWU6MTM9PT10LnQuY2hhckNvZGVBdChlKSYmKGc9MCxzPSEwKSxoLmNoYXJzPyhvPWguZ2V0Q2hhckRhdGEodC50LmNoYXJBdChlKSxiLmZTdHlsZSxiLmZGYW1pbHkpLEU9cz8wOm8udyp0LnMvMTAwKTpFPWgubWVhc3VyZVRleHQodC50LmNoYXJBdChlKSx0LmYsdC5zKSxnK0U+QSYmXCIgXCIhPT10LnQuY2hhckF0KGUpPygtMT09PU0/cis9MTplPU0sdC50PXQudC5zdWJzdHIoMCxlKStcIlxcclwiK3QudC5zdWJzdHIoZT09PU0/ZSsxOmUpLE09LTEsZz0wKTooZys9RSxnKz1rKTtyPXQudC5sZW5ndGh9Zz0tayxFPTA7dmFyIEQsdz0wO2ZvcihlPTA7cj5lO2UrPTEpaWYocz0hMSxEPXQudC5jaGFyQXQoZSksXCIgXCI9PT1EP2k9XCJcXHhhMFwiOjEzPT09RC5jaGFyQ29kZUF0KDApPyh3PTAseS5wdXNoKGcpLHY9Zz52P2c6dixnPS0yKmssaT1cIlwiLHM9ITAsdSs9MSk6aT10LnQuY2hhckF0KGUpLGguY2hhcnM/KG89aC5nZXRDaGFyRGF0YShELGIuZlN0eWxlLGguZ2V0Rm9udEJ5TmFtZSh0LmYpLmZGYW1pbHkpLEU9cz8wOm8udyp0LnMvMTAwKTpFPWgubWVhc3VyZVRleHQoaSx0LmYsdC5zKSxcIiBcIj09PUQ/dys9RStrOihnKz1FK2srdyx3PTApLHAucHVzaCh7bDpFLGFuOkUsYWRkOmMsbjpzLGFuSW5kZXhlczpbXSx2YWw6aSxsaW5lOnV9KSwyPT1mKXtpZihjKz1FLFwiXCI9PWl8fFwiXFx4YTBcIj09aXx8ZT09ci0xKXtmb3IoKFwiXCI9PWl8fFwiXFx4YTBcIj09aSkmJihjLT1FKTtlPj1kOylwW2RdLmFuPWMscFtkXS5pbmQ9bSxwW2RdLmV4dHJhPUUsZCs9MTttKz0xLGM9MH19ZWxzZSBpZigzPT1mKXtpZihjKz1FLFwiXCI9PWl8fGU9PXItMSl7Zm9yKFwiXCI9PWkmJihjLT1FKTtlPj1kOylwW2RdLmFuPWMscFtkXS5pbmQ9bSxwW2RdLmV4dHJhPUUsZCs9MTtjPTAsbSs9MX19ZWxzZSBwW21dLmluZD1tLHBbbV0uZXh0cmE9MCxtKz0xO2lmKHQubD1wLHY9Zz52P2c6dix5LnB1c2goZyksdC5zeil0LmJveFdpZHRoPXQuc3pbMF0sdC5qdXN0aWZ5T2Zmc2V0PTA7ZWxzZSBzd2l0Y2godC5ib3hXaWR0aD12LHQuail7Y2FzZSAxOnQuanVzdGlmeU9mZnNldD0tdC5ib3hXaWR0aDticmVhaztjYXNlIDI6dC5qdXN0aWZ5T2Zmc2V0PS10LmJveFdpZHRoLzI7YnJlYWs7ZGVmYXVsdDp0Lmp1c3RpZnlPZmZzZXQ9MH10LmxpbmVXaWR0aHM9eTt2YXIgVCxfLEk9bC5hO249SS5sZW5ndGg7dmFyIEYsVixSPVtdO2ZvcihhPTA7bj5hO2ErPTEpe2ZvcihUPUlbYV0sVC5hLnNjJiYodC5zdHJva2VDb2xvckFuaW09ITApLFQuYS5zdyYmKHQuc3Ryb2tlV2lkdGhBbmltPSEwKSwoVC5hLmZjfHxULmEuZmh8fFQuYS5mc3x8VC5hLmZiKSYmKHQuZmlsbENvbG9yQW5pbT0hMCksVj0wLEY9VC5zLmIsZT0wO3I+ZTtlKz0xKV89cFtlXSxfLmFuSW5kZXhlc1thXT1WLCgxPT1GJiZcIlwiIT1fLnZhbHx8Mj09RiYmXCJcIiE9Xy52YWwmJlwiXFx4YTBcIiE9Xy52YWx8fDM9PUYmJihfLm58fFwiXFx4YTBcIj09Xy52YWx8fGU9PXItMSl8fDQ9PUYmJihfLm58fGU9PXItMSkpJiYoMT09PVQucy5ybiYmUi5wdXNoKFYpLFYrPTEpO2wuYVthXS5zLnRvdGFsQ2hhcnM9Vjt2YXIgTixCPS0xO2lmKDE9PT1ULnMucm4pZm9yKGU9MDtyPmU7ZSs9MSlfPXBbZV0sQiE9Xy5hbkluZGV4ZXNbYV0mJihCPV8uYW5JbmRleGVzW2FdLE49Ui5zcGxpY2UoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKlIubGVuZ3RoKSwxKVswXSksXy5hbkluZGV4ZXNbYV09Tn10LnlPZmZzZXQ9dC5saHx8MS4yKnQucyx0LmxzPXQubHN8fDAsdC5hc2NlbnQ9Yi5hc2NlbnQqdC5zLzEwMH0sVGV4dFByb3BlcnR5LnByb3RvdHlwZS51cGRhdGVEb2N1bWVudERhdGE9ZnVuY3Rpb24odCxlKXtlPXZvaWQgMD09PWU/dGhpcy5rZXlzSW5kZXg6ZTt2YXIgcj10aGlzLmRhdGEuZC5rW2VdLnM7ci5fX2NvbXBsZXRlPSExLHIudD10LnQsdGhpcy5rZXlzSW5kZXg9LTEsdGhpcy5maXJzdEZyYW1lPSEwLHRoaXMuZ2V0VmFsdWUoKX07dmFyIFRleHRTZWxlY3RvclByb3A9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe2lmKHRoaXMubWRmPXR8fCExLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoKXt2YXIgZSxyPXRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoO2ZvcihlPTA7cj5lO2UrPTEpdGhpcy5keW5hbWljUHJvcGVydGllc1tlXS5nZXRWYWx1ZSgpLHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbZV0ubWRmJiYodGhpcy5tZGY9ITApfXZhciBzPXRoaXMuZWxlbS50ZXh0UHJvcGVydHkuY3VycmVudERhdGE/dGhpcy5lbGVtLnRleHRQcm9wZXJ0eS5jdXJyZW50RGF0YS5sLmxlbmd0aDowO3QmJjI9PT10aGlzLmRhdGEuciYmKHRoaXMuZS52PXMpO3ZhciBpPTI9PT10aGlzLmRhdGEucj8xOjEwMC9zLGE9dGhpcy5vLnYvaSxuPXRoaXMucy52L2krYSxvPXRoaXMuZS52L2krYTtpZihuPm8pe3ZhciBoPW47bj1vLG89aH10aGlzLmZpbmFsUz1uLHRoaXMuZmluYWxFPW99ZnVuY3Rpb24gZSh0KXt2YXIgZT1CZXppZXJGYWN0b3J5LmdldEJlemllckVhc2luZyh0aGlzLm5lLnYvMTAwLDAsMS10aGlzLnhlLnYvMTAwLDEpLmdldCxyPTAscz10aGlzLmZpbmFsUyxvPXRoaXMuZmluYWxFLGg9dGhpcy5kYXRhLnNoO2lmKDI9PWgpcj1vPT09cz90Pj1vPzE6MDppKDAsYSguNS8oby1zKSsodC1zKS8oby1zKSwxKSkscj1lKHIpO2Vsc2UgaWYoMz09aClyPW89PT1zP3Q+PW8/MDoxOjEtaSgwLGEoLjUvKG8tcykrKHQtcykvKG8tcyksMSkpLHI9ZShyKTtlbHNlIGlmKDQ9PWgpbz09PXM/cj0wOihyPWkoMCxhKC41LyhvLXMpKyh0LXMpLyhvLXMpLDEpKSwuNT5yP3IqPTI6cj0xLTIqKHItLjUpKSxyPWUocik7ZWxzZSBpZig1PT1oKXtpZihvPT09cylyPTA7ZWxzZXt2YXIgbD1vLXM7dD1hKGkoMCx0Ky41LXMpLG8tcyk7dmFyIHA9LWwvMit0LG09bC8yO3I9TWF0aC5zcXJ0KDEtcCpwLyhtKm0pKX1yPWUocil9ZWxzZSA2PT1oPyhvPT09cz9yPTA6KHQ9YShpKDAsdCsuNS1zKSxvLXMpLHI9KDErTWF0aC5jb3MoTWF0aC5QSSsyKk1hdGguUEkqdC8oby1zKSkpLzIpLHI9ZShyKSk6KHQ+PW4ocykmJihyPTA+dC1zPzEtKHMtdCk6aSgwLGEoby10LDEpKSkscj1lKHIpKTtyZXR1cm4gcip0aGlzLmEudn1mdW5jdGlvbiByKHIscyxpKXt0aGlzLm1kZj0hMSx0aGlzLms9ITEsdGhpcy5kYXRhPXMsdGhpcy5keW5hbWljUHJvcGVydGllcz1bXSx0aGlzLmdldFZhbHVlPXQsdGhpcy5nZXRNdWx0PWUsdGhpcy5lbGVtPXIsdGhpcy5jb21wPXIuY29tcCx0aGlzLmZpbmFsUz0wLHRoaXMuZmluYWxFPTAsdGhpcy5zPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHIscy5zfHx7azowfSwwLDAsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5lPVwiZVwiaW4gcz9Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcChyLHMuZSwwLDAsdGhpcy5keW5hbWljUHJvcGVydGllcyk6e3Y6MTAwfSx0aGlzLm89UHJvcGVydHlGYWN0b3J5LmdldFByb3AocixzLm98fHtrOjB9LDAsMCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLnhlPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHIscy54ZXx8e2s6MH0sMCwwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMubmU9UHJvcGVydHlGYWN0b3J5LmdldFByb3AocixzLm5lfHx7azowfSwwLDAsdGhpcy5keW5hbWljUHJvcGVydGllcyksdGhpcy5hPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHIscy5hLDAsLjAxLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoP2kucHVzaCh0aGlzKTp0aGlzLmdldFZhbHVlKCl9ZnVuY3Rpb24gcyh0LGUscyl7cmV0dXJuIG5ldyByKHQsZSxzKX12YXIgaT1NYXRoLm1heCxhPU1hdGgubWluLG49TWF0aC5mbG9vcjtyZXR1cm57Z2V0VGV4dFNlbGVjdG9yUHJvcDpzfX0oKSxwb29saW5nPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gdC5jb25jYXQoQXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOnQubGVuZ3RofSkpfXJldHVybntcImRvdWJsZVwiOnR9fSgpLHBvaW50X3Bvb2w9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIHQ7cmV0dXJuIHM/KHMtPTEsdD1hW3NdKTp0PWNyZWF0ZVR5cGVkQXJyYXkoXCJmbG9hdDMyXCIsMiksdH1mdW5jdGlvbiBlKHQpe3M9PT1pJiYoYT1wb29saW5nW1wiZG91YmxlXCJdKGEpLGk9MippKSxhW3NdPXQscys9MX12YXIgcj17bmV3UG9pbnQ6dCxyZWxlYXNlOmV9LHM9MCxpPTgsYT1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6aX0pO3JldHVybiByfSgpLHNoYXBlX3Bvb2w9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIHQ7cmV0dXJuIGE/KGEtPTEsdD1vW2FdKTp0PW5ldyBTaGFwZVBhdGgsdH1mdW5jdGlvbiBlKHQpe2E9PT1uJiYobz1wb29saW5nW1wiZG91YmxlXCJdKG8pLG49MipuKTt2YXIgZSxyPXQuX2xlbmd0aDtmb3IoZT0wO3I+ZTtlKz0xKXBvaW50X3Bvb2wucmVsZWFzZSh0LnZbZV0pLHBvaW50X3Bvb2wucmVsZWFzZSh0LmlbZV0pLHBvaW50X3Bvb2wucmVsZWFzZSh0Lm9bZV0pLHQudltlXT1udWxsLHQuaVtlXT1udWxsLHQub1tlXT1udWxsO3QuX2xlbmd0aD0wLHQuYz0hMSxvW2FdPXQsYSs9MX1mdW5jdGlvbiByKHQscil7Zm9yKDtyLS07KWUodFtyXSl9ZnVuY3Rpb24gcyhlLHIpe3ZhciBzLGk9dm9pZCAwPT09ZS5fbGVuZ3RoP2Uudi5sZW5ndGg6ZS5fbGVuZ3RoLGE9dCgpO2Euc2V0TGVuZ3RoKGkpLGEuYz1lLmM7dmFyIG47Zm9yKHM9MDtpPnM7cys9MSlyPyhuPXIuYXBwbHlUb1BvaW50QXJyYXkoZS52W3NdWzBdLGUudltzXVsxXSwwLDIpLFxuYS5zZXRYWUF0KG5bMF0sblsxXSxcInZcIixzKSxwb2ludF9wb29sLnJlbGVhc2Uobiksbj1yLmFwcGx5VG9Qb2ludEFycmF5KGUub1tzXVswXSxlLm9bc11bMV0sMCwyKSxhLnNldFhZQXQoblswXSxuWzFdLFwib1wiLHMpLHBvaW50X3Bvb2wucmVsZWFzZShuKSxuPXIuYXBwbHlUb1BvaW50QXJyYXkoZS5pW3NdWzBdLGUuaVtzXVsxXSwwLDIpLGEuc2V0WFlBdChuWzBdLG5bMV0sXCJpXCIscykscG9pbnRfcG9vbC5yZWxlYXNlKG4pKTphLnNldFRyaXBsZUF0KGUudltzXVswXSxlLnZbc11bMV0sZS5vW3NdWzBdLGUub1tzXVsxXSxlLmlbc11bMF0sZS5pW3NdWzFdLHMpO3JldHVybiBhfXZhciBpPXtjbG9uZTpzLG5ld1NoYXBlOnQscmVsZWFzZTplLHJlbGVhc2VBcnJheTpyfSxhPTAsbj00LG89QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOm59KTtyZXR1cm4gaX0oKSxzaGFwZUNvbGxlY3Rpb25fcG9vbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgdDtyZXR1cm4gaT8oaS09MSx0PW5baV0pOnQ9bmV3IFNoYXBlQ29sbGVjdGlvbix0fWZ1bmN0aW9uIGUodCl7dmFyIGUscj10Ll9sZW5ndGg7Zm9yKGU9MDtyPmU7ZSs9MSlzaGFwZV9wb29sLnJlbGVhc2UodC5zaGFwZXNbZV0pO3QuX2xlbmd0aD0wLGk9PT1hJiYobj1wb29saW5nW1wiZG91YmxlXCJdKG4pLGE9MiphKSxuW2ldPXQsaSs9MX1mdW5jdGlvbiByKHQscil7ZSh0KSxpPT09YSYmKG49cG9vbGluZ1tcImRvdWJsZVwiXShuKSxhPTIqYSksbltpXT10LGkrPTF9dmFyIHM9e25ld1NoYXBlQ29sbGVjdGlvbjp0LHJlbGVhc2U6ZSxjbG9uZTpyfSxpPTAsYT00LG49QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOmF9KTtyZXR1cm4gc30oKTtCYXNlUmVuZGVyZXIucHJvdG90eXBlLmNoZWNrTGF5ZXJzPWZ1bmN0aW9uKHQpe3ZhciBlLHIscz10aGlzLmxheWVycy5sZW5ndGg7Zm9yKHRoaXMuY29tcGxldGVMYXllcnM9ITAsZT1zLTE7ZT49MDtlLS0pdGhpcy5lbGVtZW50c1tlXXx8KHI9dGhpcy5sYXllcnNbZV0sci5pcC1yLnN0PD10LXRoaXMubGF5ZXJzW2VdLnN0JiZyLm9wLXIuc3Q+dC10aGlzLmxheWVyc1tlXS5zdCYmdGhpcy5idWlsZEl0ZW0oZSkpLHRoaXMuY29tcGxldGVMYXllcnM9dGhpcy5lbGVtZW50c1tlXT90aGlzLmNvbXBsZXRlTGF5ZXJzOiExO3RoaXMuY2hlY2tQZW5kaW5nRWxlbWVudHMoKX0sQmFzZVJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVJdGVtPWZ1bmN0aW9uKHQpe3N3aXRjaCh0LnR5KXtjYXNlIDI6cmV0dXJuIHRoaXMuY3JlYXRlSW1hZ2UodCk7Y2FzZSAwOnJldHVybiB0aGlzLmNyZWF0ZUNvbXAodCk7Y2FzZSAxOnJldHVybiB0aGlzLmNyZWF0ZVNvbGlkKHQpO2Nhc2UgNDpyZXR1cm4gdGhpcy5jcmVhdGVTaGFwZSh0KTtjYXNlIDU6cmV0dXJuIHRoaXMuY3JlYXRlVGV4dCh0KTtjYXNlIDEzOnJldHVybiB0aGlzLmNyZWF0ZUNhbWVyYSh0KTtjYXNlIDk5OnJldHVybiBudWxsfXJldHVybiB0aGlzLmNyZWF0ZUJhc2UodCl9LEJhc2VSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlQ2FtZXJhPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiWW91J3JlIHVzaW5nIGEgM2QgY2FtZXJhLiBUcnkgdGhlIGh0bWwgcmVuZGVyZXIuXCIpfSxCYXNlUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkQWxsSXRlbXM9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMubGF5ZXJzLmxlbmd0aDtmb3IodD0wO2U+dDt0Kz0xKXRoaXMuYnVpbGRJdGVtKHQpO3RoaXMuY2hlY2tQZW5kaW5nRWxlbWVudHMoKX0sQmFzZVJlbmRlcmVyLnByb3RvdHlwZS5pbmNsdWRlTGF5ZXJzPWZ1bmN0aW9uKHQpe3RoaXMuY29tcGxldGVMYXllcnM9ITE7dmFyIGUscixzPXQubGVuZ3RoLGk9dGhpcy5sYXllcnMubGVuZ3RoO2ZvcihlPTA7cz5lO2UrPTEpZm9yKHI9MDtpPnI7KXtpZih0aGlzLmxheWVyc1tyXS5pZD09dFtlXS5pZCl7dGhpcy5sYXllcnNbcl09dFtlXTticmVha31yKz0xfX0sQmFzZVJlbmRlcmVyLnByb3RvdHlwZS5zZXRQcm9qZWN0SW50ZXJmYWNlPWZ1bmN0aW9uKHQpe3RoaXMuZ2xvYmFsRGF0YS5wcm9qZWN0SW50ZXJmYWNlPXR9LEJhc2VSZW5kZXJlci5wcm90b3R5cGUuaW5pdEl0ZW1zPWZ1bmN0aW9uKCl7dGhpcy5nbG9iYWxEYXRhLnByb2dyZXNzaXZlTG9hZHx8dGhpcy5idWlsZEFsbEl0ZW1zKCl9LEJhc2VSZW5kZXJlci5wcm90b3R5cGUuYnVpbGRFbGVtZW50UGFyZW50aW5nPWZ1bmN0aW9uKHQsZSxyKXtyPXJ8fFtdO2Zvcih2YXIgcz10aGlzLmVsZW1lbnRzLGk9dGhpcy5sYXllcnMsYT0wLG49aS5sZW5ndGg7bj5hOylpW2FdLmluZD09ZSYmKHNbYV0mJnNbYV0hPT0hMD92b2lkIDAhPT1pW2FdLnBhcmVudD8oci5wdXNoKHNbYV0pLHNbYV0uX2lzUGFyZW50PSEwLHRoaXMuYnVpbGRFbGVtZW50UGFyZW50aW5nKHQsaVthXS5wYXJlbnQscikpOihyLnB1c2goc1thXSksc1thXS5faXNQYXJlbnQ9ITAsdC5zZXRIaWVyYXJjaHkocikpOih0aGlzLmJ1aWxkSXRlbShhKSx0aGlzLmFkZFBlbmRpbmdFbGVtZW50KHQpKSksYSs9MX0sQmFzZVJlbmRlcmVyLnByb3RvdHlwZS5hZGRQZW5kaW5nRWxlbWVudD1mdW5jdGlvbih0KXt0aGlzLnBlbmRpbmdFbGVtZW50cy5wdXNoKHQpfSxleHRlbmRQcm90b3R5cGUoQmFzZVJlbmRlcmVyLFNWR1JlbmRlcmVyKSxTVkdSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlQmFzZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFNWR0Jhc2VFbGVtZW50KHQsdGhpcy5sYXllckVsZW1lbnQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpfSxTVkdSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlU2hhcGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBJU2hhcGVFbGVtZW50KHQsdGhpcy5sYXllckVsZW1lbnQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpfSxTVkdSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlVGV4dD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFNWR1RleHRFbGVtZW50KHQsdGhpcy5sYXllckVsZW1lbnQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpfSxTVkdSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlSW1hZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBJSW1hZ2VFbGVtZW50KHQsdGhpcy5sYXllckVsZW1lbnQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpfSxTVkdSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlQ29tcD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IElDb21wRWxlbWVudCh0LHRoaXMubGF5ZXJFbGVtZW50LHRoaXMuZ2xvYmFsRGF0YSx0aGlzKX0sU1ZHUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVNvbGlkPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgSVNvbGlkRWxlbWVudCh0LHRoaXMubGF5ZXJFbGVtZW50LHRoaXMuZ2xvYmFsRGF0YSx0aGlzKX0sU1ZHUmVuZGVyZXIucHJvdG90eXBlLmNvbmZpZ0FuaW1hdGlvbj1mdW5jdGlvbih0KXt0aGlzLmxheWVyRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJzdmdcIiksdGhpcy5sYXllckVsZW1lbnQuc2V0QXR0cmlidXRlKFwieG1sbnNcIixcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIpLHRoaXMubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIixcIjAgMCBcIit0LncrXCIgXCIrdC5oKSx0aGlzLnJlbmRlckNvbmZpZy52aWV3Qm94T25seXx8KHRoaXMubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcIndpZHRoXCIsdC53KSx0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIix0LmgpLHRoaXMubGF5ZXJFbGVtZW50LnN0eWxlLndpZHRoPVwiMTAwJVwiLHRoaXMubGF5ZXJFbGVtZW50LnN0eWxlLmhlaWdodD1cIjEwMCVcIiksdGhpcy5yZW5kZXJDb25maWcuY2xhc3NOYW1lJiZ0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLHRoaXMucmVuZGVyQ29uZmlnLmNsYXNzTmFtZSksdGhpcy5sYXllckVsZW1lbnQuc2V0QXR0cmlidXRlKFwicHJlc2VydmVBc3BlY3RSYXRpb1wiLHRoaXMucmVuZGVyQ29uZmlnLnByZXNlcnZlQXNwZWN0UmF0aW8pLHRoaXMuYW5pbWF0aW9uSXRlbS53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMubGF5ZXJFbGVtZW50KTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJkZWZzXCIpO3RoaXMuZ2xvYmFsRGF0YS5kZWZzPWUsdGhpcy5sYXllckVsZW1lbnQuYXBwZW5kQ2hpbGQoZSksdGhpcy5nbG9iYWxEYXRhLmdldEFzc2V0RGF0YT10aGlzLmFuaW1hdGlvbkl0ZW0uZ2V0QXNzZXREYXRhLmJpbmQodGhpcy5hbmltYXRpb25JdGVtKSx0aGlzLmdsb2JhbERhdGEuZ2V0QXNzZXRzUGF0aD10aGlzLmFuaW1hdGlvbkl0ZW0uZ2V0QXNzZXRzUGF0aC5iaW5kKHRoaXMuYW5pbWF0aW9uSXRlbSksdGhpcy5nbG9iYWxEYXRhLnByb2dyZXNzaXZlTG9hZD10aGlzLnJlbmRlckNvbmZpZy5wcm9ncmVzc2l2ZUxvYWQsdGhpcy5nbG9iYWxEYXRhLmZyYW1lSWQ9MCx0aGlzLmdsb2JhbERhdGEubm09dC5ubSx0aGlzLmdsb2JhbERhdGEuY29tcFNpemU9e3c6dC53LGg6dC5ofSx0aGlzLmRhdGE9dCx0aGlzLmdsb2JhbERhdGEuZnJhbWVSYXRlPXQuZnI7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiY2xpcFBhdGhcIikscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJyZWN0XCIpO3Muc2V0QXR0cmlidXRlKFwid2lkdGhcIix0LncpLHMuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsdC5oKSxzLnNldEF0dHJpYnV0ZShcInhcIiwwKSxzLnNldEF0dHJpYnV0ZShcInlcIiwwKTt2YXIgaT1cImFuaW1hdGlvbk1hc2tfXCIrcmFuZG9tU3RyaW5nKDEwKTtyLnNldEF0dHJpYnV0ZShcImlkXCIsaSksci5hcHBlbmRDaGlsZChzKTt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJnXCIpO2Euc2V0QXR0cmlidXRlKFwiY2xpcC1wYXRoXCIsXCJ1cmwoXCIrbG9jYXRpb25IcmVmK1wiI1wiK2krXCIpXCIpLHRoaXMubGF5ZXJFbGVtZW50LmFwcGVuZENoaWxkKGEpLGUuYXBwZW5kQ2hpbGQociksdGhpcy5sYXllckVsZW1lbnQ9YSx0aGlzLmxheWVycz10LmxheWVycyx0aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXI9bmV3IEZvbnRNYW5hZ2VyLHRoaXMuZ2xvYmFsRGF0YS5mb250TWFuYWdlci5hZGRDaGFycyh0LmNoYXJzKSx0aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuYWRkRm9udHModC5mb250cyxlKSx0aGlzLmVsZW1lbnRzPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDp0LmxheWVycy5sZW5ndGh9KX0sU1ZHUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmFuaW1hdGlvbkl0ZW0ud3JhcHBlci5pbm5lckhUTUw9XCJcIix0aGlzLmxheWVyRWxlbWVudD1udWxsLHRoaXMuZ2xvYmFsRGF0YS5kZWZzPW51bGw7dmFyIHQsZT10aGlzLmxheWVycz90aGlzLmxheWVycy5sZW5ndGg6MDtmb3IodD0wO2U+dDt0KyspdGhpcy5lbGVtZW50c1t0XSYmdGhpcy5lbGVtZW50c1t0XS5kZXN0cm95KCk7dGhpcy5lbGVtZW50cy5sZW5ndGg9MCx0aGlzLmRlc3Ryb3llZD0hMCx0aGlzLmFuaW1hdGlvbkl0ZW09bnVsbH0sU1ZHUmVuZGVyZXIucHJvdG90eXBlLnVwZGF0ZUNvbnRhaW5lclNpemU9ZnVuY3Rpb24oKXt9LFNWR1JlbmRlcmVyLnByb3RvdHlwZS5idWlsZEl0ZW09ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5lbGVtZW50cztpZighZVt0XSYmOTkhPXRoaXMubGF5ZXJzW3RdLnR5KXtlW3RdPSEwO3ZhciByPXRoaXMuY3JlYXRlSXRlbSh0aGlzLmxheWVyc1t0XSk7ZVt0XT1yLGV4cHJlc3Npb25zUGx1Z2luJiYoMD09PXRoaXMubGF5ZXJzW3RdLnR5JiZ0aGlzLmdsb2JhbERhdGEucHJvamVjdEludGVyZmFjZS5yZWdpc3RlckNvbXBvc2l0aW9uKHIpLHIuaW5pdEV4cHJlc3Npb25zKCkpLHRoaXMuYXBwZW5kRWxlbWVudEluUG9zKHIsdCksdGhpcy5sYXllcnNbdF0udHQmJih0aGlzLmVsZW1lbnRzW3QtMV0mJnRoaXMuZWxlbWVudHNbdC0xXSE9PSEwP3Iuc2V0TWF0dGUoZVt0LTFdLmxheWVySWQpOih0aGlzLmJ1aWxkSXRlbSh0LTEpLHRoaXMuYWRkUGVuZGluZ0VsZW1lbnQocikpKX19LFNWR1JlbmRlcmVyLnByb3RvdHlwZS5jaGVja1BlbmRpbmdFbGVtZW50cz1mdW5jdGlvbigpe2Zvcig7dGhpcy5wZW5kaW5nRWxlbWVudHMubGVuZ3RoOyl7dmFyIHQ9dGhpcy5wZW5kaW5nRWxlbWVudHMucG9wKCk7aWYodC5jaGVja1BhcmVudGluZygpLHQuZGF0YS50dClmb3IodmFyIGU9MCxyPXRoaXMuZWxlbWVudHMubGVuZ3RoO3I+ZTspe2lmKHRoaXMuZWxlbWVudHNbZV09PT10KXt0LnNldE1hdHRlKHRoaXMuZWxlbWVudHNbZS0xXS5sYXllcklkKTticmVha31lKz0xfX19LFNWR1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbih0KXtpZih0aGlzLnJlbmRlcmVkRnJhbWUhPXQmJiF0aGlzLmRlc3Ryb3llZCl7bnVsbD09PXQ/dD10aGlzLnJlbmRlcmVkRnJhbWU6dGhpcy5yZW5kZXJlZEZyYW1lPXQsdGhpcy5nbG9iYWxEYXRhLmZyYW1lTnVtPXQsdGhpcy5nbG9iYWxEYXRhLmZyYW1lSWQrPTEsdGhpcy5nbG9iYWxEYXRhLnByb2plY3RJbnRlcmZhY2UuY3VycmVudEZyYW1lPXQ7dmFyIGUscj10aGlzLmxheWVycy5sZW5ndGg7Zm9yKHRoaXMuY29tcGxldGVMYXllcnN8fHRoaXMuY2hlY2tMYXllcnModCksZT1yLTE7ZT49MDtlLS0pKHRoaXMuY29tcGxldGVMYXllcnN8fHRoaXMuZWxlbWVudHNbZV0pJiZ0aGlzLmVsZW1lbnRzW2VdLnByZXBhcmVGcmFtZSh0LXRoaXMubGF5ZXJzW2VdLnN0KTtmb3IoZT1yLTE7ZT49MDtlLS0pKHRoaXMuY29tcGxldGVMYXllcnN8fHRoaXMuZWxlbWVudHNbZV0pJiZ0aGlzLmVsZW1lbnRzW2VdLnJlbmRlckZyYW1lKCl9fSxTVkdSZW5kZXJlci5wcm90b3R5cGUuYXBwZW5kRWxlbWVudEluUG9zPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dC5nZXRCYXNlRWxlbWVudCgpO2lmKHIpe2Zvcih2YXIgcyxpPTA7ZT5pOyl0aGlzLmVsZW1lbnRzW2ldJiZ0aGlzLmVsZW1lbnRzW2ldIT09ITAmJnRoaXMuZWxlbWVudHNbaV0uZ2V0QmFzZUVsZW1lbnQoKSYmKHM9dGhpcy5lbGVtZW50c1tpXS5nZXRCYXNlRWxlbWVudCgpKSxpKz0xO3M/dGhpcy5sYXllckVsZW1lbnQuaW5zZXJ0QmVmb3JlKHIscyk6dGhpcy5sYXllckVsZW1lbnQuYXBwZW5kQ2hpbGQocil9fSxTVkdSZW5kZXJlci5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMubGF5ZXJFbGVtZW50LnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9LFNWR1JlbmRlcmVyLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dGhpcy5sYXllckVsZW1lbnQuc3R5bGUuZGlzcGxheT1cImJsb2NrXCJ9LFNWR1JlbmRlcmVyLnByb3RvdHlwZS5zZWFyY2hFeHRyYUNvbXBvc2l0aW9ucz1mdW5jdGlvbih0KXt2YXIgZSxyPXQubGVuZ3RoLHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZ1wiKTtmb3IoZT0wO3I+ZTtlKz0xKWlmKHRbZV0ueHQpe3ZhciBpPXRoaXMuY3JlYXRlQ29tcCh0W2VdLHMsdGhpcy5nbG9iYWxEYXRhLmNvbXAsbnVsbCk7aS5pbml0RXhwcmVzc2lvbnMoKSx0aGlzLmdsb2JhbERhdGEucHJvamVjdEludGVyZmFjZS5yZWdpc3RlckNvbXBvc2l0aW9uKGkpfX0sTWFza0VsZW1lbnQucHJvdG90eXBlLmdldE1hc2tQcm9wZXJ0eT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy52aWV3RGF0YVt0XS5wcm9wfSxNYXNrRWxlbWVudC5wcm90b3R5cGUucHJlcGFyZUZyYW1lPWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDtmb3IodD0wO2U+dDt0Kz0xKXRoaXMuZHluYW1pY1Byb3BlcnRpZXNbdF0uZ2V0VmFsdWUoKX0sTWFza0VsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe3ZhciBlLHI9dGhpcy5tYXNrc1Byb3BlcnRpZXMubGVuZ3RoO2ZvcihlPTA7cj5lO2UrKylpZigodGhpcy52aWV3RGF0YVtlXS5wcm9wLm1kZnx8dGhpcy5maXJzdEZyYW1lKSYmdGhpcy5kcmF3UGF0aCh0aGlzLm1hc2tzUHJvcGVydGllc1tlXSx0aGlzLnZpZXdEYXRhW2VdLnByb3Audix0aGlzLnZpZXdEYXRhW2VdKSwodGhpcy52aWV3RGF0YVtlXS5vcC5tZGZ8fHRoaXMuZmlyc3RGcmFtZSkmJnRoaXMudmlld0RhdGFbZV0uZWxlbS5zZXRBdHRyaWJ1dGUoXCJmaWxsLW9wYWNpdHlcIix0aGlzLnZpZXdEYXRhW2VdLm9wLnYpLFwiblwiIT09dGhpcy5tYXNrc1Byb3BlcnRpZXNbZV0ubW9kZSYmKHRoaXMudmlld0RhdGFbZV0uaW52UmVjdCYmKHRoaXMuZWxlbWVudC5maW5hbFRyYW5zZm9ybS5tUHJvcC5tZGZ8fHRoaXMuZmlyc3RGcmFtZSkmJih0aGlzLnZpZXdEYXRhW2VdLmludlJlY3Quc2V0QXR0cmlidXRlKFwieFwiLC10LnByb3BzWzEyXSksdGhpcy52aWV3RGF0YVtlXS5pbnZSZWN0LnNldEF0dHJpYnV0ZShcInlcIiwtdC5wcm9wc1sxM10pKSx0aGlzLnN0b3JlZERhdGFbZV0ueCYmKHRoaXMuc3RvcmVkRGF0YVtlXS54Lm1kZnx8dGhpcy5maXJzdEZyYW1lKSkpe3ZhciBzPXRoaXMuc3RvcmVkRGF0YVtlXS5leHBhbjt0aGlzLnN0b3JlZERhdGFbZV0ueC52PDA/KFwiZXJvZGVcIiE9PXRoaXMuc3RvcmVkRGF0YVtlXS5sYXN0T3BlcmF0b3ImJih0aGlzLnN0b3JlZERhdGFbZV0ubGFzdE9wZXJhdG9yPVwiZXJvZGVcIix0aGlzLnN0b3JlZERhdGFbZV0uZWxlbS5zZXRBdHRyaWJ1dGUoXCJmaWx0ZXJcIixcInVybChcIitsb2NhdGlvbkhyZWYrXCIjXCIrdGhpcy5zdG9yZWREYXRhW2VdLmZpbHRlcklkK1wiKVwiKSkscy5zZXRBdHRyaWJ1dGUoXCJyYWRpdXNcIiwtdGhpcy5zdG9yZWREYXRhW2VdLngudikpOihcImRpbGF0ZVwiIT09dGhpcy5zdG9yZWREYXRhW2VdLmxhc3RPcGVyYXRvciYmKHRoaXMuc3RvcmVkRGF0YVtlXS5sYXN0T3BlcmF0b3I9XCJkaWxhdGVcIix0aGlzLnN0b3JlZERhdGFbZV0uZWxlbS5zZXRBdHRyaWJ1dGUoXCJmaWx0ZXJcIixudWxsKSksdGhpcy5zdG9yZWREYXRhW2VdLmVsZW0uc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsMip0aGlzLnN0b3JlZERhdGFbZV0ueC52KSl9dGhpcy5maXJzdEZyYW1lPSExfSxNYXNrRWxlbWVudC5wcm90b3R5cGUuZ2V0TWFza2VsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXNrRWxlbWVudH0sTWFza0VsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUxheWVyU29saWRQYXRoPWZ1bmN0aW9uKCl7dmFyIHQ9XCJNMCwwIFwiO3JldHVybiB0Kz1cIiBoXCIrdGhpcy5nbG9iYWxEYXRhLmNvbXBTaXplLncsdCs9XCIgdlwiK3RoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZS5oLHQrPVwiIGgtXCIrdGhpcy5nbG9iYWxEYXRhLmNvbXBTaXplLncsdCs9XCIgdi1cIit0aGlzLmdsb2JhbERhdGEuY29tcFNpemUuaCtcIiBcIn0sTWFza0VsZW1lbnQucHJvdG90eXBlLmRyYXdQYXRoPWZ1bmN0aW9uKHQsZSxyKXt2YXIgcyxpLGE9XCIgTVwiK2UudlswXVswXStcIixcIitlLnZbMF1bMV07Zm9yKGk9ZS5fbGVuZ3RoLHM9MTtpPnM7cys9MSlhKz1cIiBDXCIrYm1fcm5kKGUub1tzLTFdWzBdKStcIixcIitibV9ybmQoZS5vW3MtMV1bMV0pK1wiIFwiK2JtX3JuZChlLmlbc11bMF0pK1wiLFwiK2JtX3JuZChlLmlbc11bMV0pK1wiIFwiK2JtX3JuZChlLnZbc11bMF0pK1wiLFwiK2JtX3JuZChlLnZbc11bMV0pO2UuYyYmaT4xJiYoYSs9XCIgQ1wiK2JtX3JuZChlLm9bcy0xXVswXSkrXCIsXCIrYm1fcm5kKGUub1tzLTFdWzFdKStcIiBcIitibV9ybmQoZS5pWzBdWzBdKStcIixcIitibV9ybmQoZS5pWzBdWzFdKStcIiBcIitibV9ybmQoZS52WzBdWzBdKStcIixcIitibV9ybmQoZS52WzBdWzFdKSksci5sYXN0UGF0aCE9PWEmJihyLmVsZW0mJihlLmM/dC5pbnY/ci5lbGVtLnNldEF0dHJpYnV0ZShcImRcIix0aGlzLnNvbGlkUGF0aCthKTpyLmVsZW0uc2V0QXR0cmlidXRlKFwiZFwiLGEpOnIuZWxlbS5zZXRBdHRyaWJ1dGUoXCJkXCIsXCJcIikpLHIubGFzdFBhdGg9YSl9LE1hc2tFbGVtZW50LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50PW51bGwsdGhpcy5nbG9iYWxEYXRhPW51bGwsdGhpcy5tYXNrRWxlbWVudD1udWxsLHRoaXMuZGF0YT1udWxsLHRoaXMubWFza3NQcm9wZXJ0aWVzPW51bGx9LEJhc2VFbGVtZW50LnByb3RvdHlwZS5jaGVja01hc2tzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuZGF0YS5oYXNNYXNrKXJldHVybiExO2Zvcih2YXIgdD0wLGU9dGhpcy5kYXRhLm1hc2tzUHJvcGVydGllcy5sZW5ndGg7ZT50Oyl7aWYoXCJuXCIhPT10aGlzLmRhdGEubWFza3NQcm9wZXJ0aWVzW3RdLm1vZGUmJnRoaXMuZGF0YS5tYXNrc1Byb3BlcnRpZXNbdF0uY2whPT0hMSlyZXR1cm4hMDt0Kz0xfXJldHVybiExfSxCYXNlRWxlbWVudC5wcm90b3R5cGUuY2hlY2tQYXJlbnRpbmc9ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLmRhdGEucGFyZW50JiZ0aGlzLmNvbXAuYnVpbGRFbGVtZW50UGFyZW50aW5nKHRoaXMsdGhpcy5kYXRhLnBhcmVudCl9LEJhc2VFbGVtZW50LnByb3RvdHlwZS5wcmVwYXJlRnJhbWU9ZnVuY3Rpb24odCl7dGhpcy5kYXRhLmlwLXRoaXMuZGF0YS5zdDw9dCYmdGhpcy5kYXRhLm9wLXRoaXMuZGF0YS5zdD50P3RoaXMuaXNWaXNpYmxlIT09ITAmJih0aGlzLmVsZW1NZGY9ITAsdGhpcy5nbG9iYWxEYXRhLm1kZj0hMCx0aGlzLmlzVmlzaWJsZT0hMCx0aGlzLmZpcnN0RnJhbWU9ITAsdGhpcy5kYXRhLmhhc01hc2smJih0aGlzLm1hc2tNYW5hZ2VyLmZpcnN0RnJhbWU9ITApKTp0aGlzLmlzVmlzaWJsZSE9PSExJiYodGhpcy5lbGVtTWRmPSEwLHRoaXMuZ2xvYmFsRGF0YS5tZGY9ITAsdGhpcy5pc1Zpc2libGU9ITEpO3ZhciBlLHI9dGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7Zm9yKGU9MDtyPmU7ZSs9MSkodGhpcy5pc1Zpc2libGV8fHRoaXMuX2lzUGFyZW50JiZcInRyYW5zZm9ybVwiPT09dGhpcy5keW5hbWljUHJvcGVydGllc1tlXS50eXBlKSYmKHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbZV0uZ2V0VmFsdWUoKSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2VdLm1kZiYmKHRoaXMuZWxlbU1kZj0hMCx0aGlzLmdsb2JhbERhdGEubWRmPSEwKSk7cmV0dXJuIHRoaXMuZGF0YS5oYXNNYXNrJiZ0aGlzLmlzVmlzaWJsZSYmdGhpcy5tYXNrTWFuYWdlci5wcmVwYXJlRnJhbWUodCp0aGlzLmRhdGEuc3IpLHRoaXMuY3VycmVudEZyYW1lTnVtPXQqdGhpcy5kYXRhLnNyLHRoaXMuaXNWaXNpYmxlfSxCYXNlRWxlbWVudC5wcm90b3R5cGUuZ2xvYmFsVG9Mb2NhbD1mdW5jdGlvbih0KXt2YXIgZT1bXTtlLnB1c2godGhpcy5maW5hbFRyYW5zZm9ybSk7Zm9yKHZhciByPSEwLHM9dGhpcy5jb21wO3I7KXMuZmluYWxUcmFuc2Zvcm0/KHMuZGF0YS5oYXNNYXNrJiZlLnNwbGljZSgwLDAscy5maW5hbFRyYW5zZm9ybSkscz1zLmNvbXApOnI9ITE7dmFyIGksYSxuPWUubGVuZ3RoO2ZvcihpPTA7bj5pO2krPTEpYT1lW2ldLm1hdC5hcHBseVRvUG9pbnRBcnJheSgwLDAsMCksdD1bdFswXS1hWzBdLHRbMV0tYVsxXSwwXTtyZXR1cm4gdH0sQmFzZUVsZW1lbnQucHJvdG90eXBlLmluaXRFeHByZXNzaW9ucz1mdW5jdGlvbigpe3RoaXMubGF5ZXJJbnRlcmZhY2U9TGF5ZXJFeHByZXNzaW9uSW50ZXJmYWNlKHRoaXMpLHRoaXMuZGF0YS5oYXNNYXNrJiZ0aGlzLmxheWVySW50ZXJmYWNlLnJlZ2lzdGVyTWFza0ludGVyZmFjZSh0aGlzLm1hc2tNYW5hZ2VyKTt2YXIgdD1FZmZlY3RzRXhwcmVzc2lvbkludGVyZmFjZS5jcmVhdGVFZmZlY3RzSW50ZXJmYWNlKHRoaXMsdGhpcy5sYXllckludGVyZmFjZSk7dGhpcy5sYXllckludGVyZmFjZS5yZWdpc3RlckVmZmVjdHNJbnRlcmZhY2UodCksMD09PXRoaXMuZGF0YS50eXx8dGhpcy5kYXRhLnh0P3RoaXMuY29tcEludGVyZmFjZT1Db21wRXhwcmVzc2lvbkludGVyZmFjZSh0aGlzKTo0PT09dGhpcy5kYXRhLnR5P3RoaXMubGF5ZXJJbnRlcmZhY2Uuc2hhcGVJbnRlcmZhY2U9U2hhcGVFeHByZXNzaW9uSW50ZXJmYWNlLmNyZWF0ZVNoYXBlSW50ZXJmYWNlKHRoaXMuc2hhcGVzRGF0YSx0aGlzLml0ZW1zRGF0YSx0aGlzLmxheWVySW50ZXJmYWNlKTo1PT09dGhpcy5kYXRhLnR5JiYodGhpcy5sYXllckludGVyZmFjZS50ZXh0SW50ZXJmYWNlPVRleHRFeHByZXNzaW9uSW50ZXJmYWNlKHRoaXMpKX0sQmFzZUVsZW1lbnQucHJvdG90eXBlLnNldEJsZW5kTW9kZT1mdW5jdGlvbigpe3ZhciB0PVwiXCI7c3dpdGNoKHRoaXMuZGF0YS5ibSl7Y2FzZSAxOnQ9XCJtdWx0aXBseVwiO2JyZWFrO2Nhc2UgMjp0PVwic2NyZWVuXCI7YnJlYWs7Y2FzZSAzOnQ9XCJvdmVybGF5XCI7YnJlYWs7Y2FzZSA0OnQ9XCJkYXJrZW5cIjticmVhaztjYXNlIDU6dD1cImxpZ2h0ZW5cIjticmVhaztjYXNlIDY6dD1cImNvbG9yLWRvZGdlXCI7YnJlYWs7Y2FzZSA3OnQ9XCJjb2xvci1idXJuXCI7YnJlYWs7Y2FzZSA4OnQ9XCJoYXJkLWxpZ2h0XCI7YnJlYWs7Y2FzZSA5OnQ9XCJzb2Z0LWxpZ2h0XCI7YnJlYWs7Y2FzZSAxMDp0PVwiZGlmZmVyZW5jZVwiO2JyZWFrO2Nhc2UgMTE6dD1cImV4Y2x1c2lvblwiO2JyZWFrO2Nhc2UgMTI6dD1cImh1ZVwiO2JyZWFrO2Nhc2UgMTM6dD1cInNhdHVyYXRpb25cIjticmVhaztjYXNlIDE0OnQ9XCJjb2xvclwiO2JyZWFrO2Nhc2UgMTU6dD1cImx1bWlub3NpdHlcIn12YXIgZT10aGlzLmJhc2VFbGVtZW50fHx0aGlzLmxheWVyRWxlbWVudDtlLnN0eWxlW1wibWl4LWJsZW5kLW1vZGVcIl09dH0sQmFzZUVsZW1lbnQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLmRhdGEuc3J8fCh0aGlzLmRhdGEuc3I9MSksdGhpcy5keW5hbWljUHJvcGVydGllcz10aGlzLmR5bmFtaWNQcm9wZXJ0aWVzfHxbXSx0aGlzLmRhdGEuZWYmJih0aGlzLmVmZmVjdHM9bmV3IEVmZmVjdHNNYW5hZ2VyKHRoaXMuZGF0YSx0aGlzLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpKSx0aGlzLmhpZGRlbj0hMSx0aGlzLmZpcnN0RnJhbWU9ITAsdGhpcy5pc1Zpc2libGU9ITEsdGhpcy5faXNQYXJlbnQ9ITEsdGhpcy5jdXJyZW50RnJhbWVOdW09LTk5OTk5LHRoaXMubGFzdE51bT0tOTk5OTksdGhpcy5kYXRhLmtzJiYodGhpcy5maW5hbFRyYW5zZm9ybT17bVByb3A6VHJhbnNmb3JtUHJvcGVydHlGYWN0b3J5LmdldFRyYW5zZm9ybVByb3BlcnR5KHRoaXMsdGhpcy5kYXRhLmtzLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMpLG1hdE1kZjohMSxvcE1kZjohMSxtYXQ6bmV3IE1hdHJpeCxvcGFjaXR5OjF9LHRoaXMuZGF0YS5hbyYmKHRoaXMuZmluYWxUcmFuc2Zvcm0ubVByb3AuYXV0b09yaWVudGVkPSEwKSx0aGlzLmZpbmFsVHJhbnNmb3JtLm9wPXRoaXMuZmluYWxUcmFuc2Zvcm0ubVByb3Aubyx0aGlzLnRyYW5zZm9ybT10aGlzLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLDExIT09dGhpcy5kYXRhLnR5JiZ0aGlzLmNyZWF0ZUVsZW1lbnRzKCksdGhpcy5kYXRhLmhhc01hc2smJnRoaXMuYWRkTWFza3ModGhpcy5kYXRhKSksdGhpcy5lbGVtTWRmPSExfSxCYXNlRWxlbWVudC5wcm90b3R5cGUuZ2V0VHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGV9LEJhc2VFbGVtZW50LnByb3RvdHlwZS5yZXNldEhpZXJhcmNoeT1mdW5jdGlvbigpe3RoaXMuaGllcmFyY2h5P3RoaXMuaGllcmFyY2h5Lmxlbmd0aD0wOnRoaXMuaGllcmFyY2h5PVtdfSxCYXNlRWxlbWVudC5wcm90b3R5cGUuZ2V0SGllcmFyY2h5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGllcmFyY2h5fHwodGhpcy5oaWVyYXJjaHk9W10pLHRoaXMuaGllcmFyY2h5fSxCYXNlRWxlbWVudC5wcm90b3R5cGUuc2V0SGllcmFyY2h5PWZ1bmN0aW9uKHQpe3RoaXMuaGllcmFyY2h5PXR9LEJhc2VFbGVtZW50LnByb3RvdHlwZS5nZXRMYXllclNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gNT09PXRoaXMuZGF0YS50eT97dzp0aGlzLmRhdGEudGV4dERhdGEud2lkdGgsaDp0aGlzLmRhdGEudGV4dERhdGEuaGVpZ2h0fTp7dzp0aGlzLmRhdGEud2lkdGgsaDp0aGlzLmRhdGEuaGVpZ2h0fX0sQmFzZUVsZW1lbnQucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt9LEJhc2VFbGVtZW50LnByb3RvdHlwZS5zb3VyY2VSZWN0QXRUaW1lPWZ1bmN0aW9uKCl7cmV0dXJue3RvcDowLGxlZnQ6MCx3aWR0aDoxMDAsaGVpZ2h0OjEwMH19LEJhc2VFbGVtZW50LnByb3RvdHlwZS5tSGVscGVyPW5ldyBNYXRyaXgsY3JlYXRlRWxlbWVudChCYXNlRWxlbWVudCxTVkdCYXNlRWxlbWVudCksU1ZHQmFzZUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRzPWZ1bmN0aW9uKCl7dGhpcy5sYXllckVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZ1wiKSx0aGlzLnRyYW5zZm9ybWVkRWxlbWVudD10aGlzLmxheWVyRWxlbWVudCx0aGlzLmRhdGEuaGFzTWFzayYmKHRoaXMubWFza2VkRWxlbWVudD10aGlzLmxheWVyRWxlbWVudCk7dmFyIHQ9bnVsbDtpZih0aGlzLmRhdGEudGQpe2lmKDM9PXRoaXMuZGF0YS50ZHx8MT09dGhpcy5kYXRhLnRkKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJtYXNrXCIpO2lmKGUuc2V0QXR0cmlidXRlKFwiaWRcIix0aGlzLmxheWVySWQpLGUuc2V0QXR0cmlidXRlKFwibWFzay10eXBlXCIsMz09dGhpcy5kYXRhLnRkP1wibHVtaW5hbmNlXCI6XCJhbHBoYVwiKSxlLmFwcGVuZENoaWxkKHRoaXMubGF5ZXJFbGVtZW50KSx0PWUsdGhpcy5nbG9iYWxEYXRhLmRlZnMuYXBwZW5kQ2hpbGQoZSksIWZlYXR1cmVTdXBwb3J0Lm1hc2tUeXBlJiYxPT10aGlzLmRhdGEudGQpe2Uuc2V0QXR0cmlidXRlKFwibWFzay10eXBlXCIsXCJsdW1pbmFuY2VcIik7dmFyIHI9cmFuZG9tU3RyaW5nKDEwKSxzPWZpbHRlcnNGYWN0b3J5LmNyZWF0ZUZpbHRlcihyKTt0aGlzLmdsb2JhbERhdGEuZGVmcy5hcHBlbmRDaGlsZChzKSxzLmFwcGVuZENoaWxkKGZpbHRlcnNGYWN0b3J5LmNyZWF0ZUFscGhhVG9MdW1pbmFuY2VGaWx0ZXIoKSk7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZ1wiKTtpLmFwcGVuZENoaWxkKHRoaXMubGF5ZXJFbGVtZW50KSx0PWksZS5hcHBlbmRDaGlsZChpKSxpLnNldEF0dHJpYnV0ZShcImZpbHRlclwiLFwidXJsKFwiK2xvY2F0aW9uSHJlZitcIiNcIityK1wiKVwiKX19ZWxzZSBpZigyPT10aGlzLmRhdGEudGQpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcIm1hc2tcIik7YS5zZXRBdHRyaWJ1dGUoXCJpZFwiLHRoaXMubGF5ZXJJZCksYS5zZXRBdHRyaWJ1dGUoXCJtYXNrLXR5cGVcIixcImFscGhhXCIpO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImdcIik7YS5hcHBlbmRDaGlsZChuKTt2YXIgcj1yYW5kb21TdHJpbmcoMTApLHM9ZmlsdGVyc0ZhY3RvcnkuY3JlYXRlRmlsdGVyKHIpLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZmVDb2xvck1hdHJpeFwiKTtvLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIm1hdHJpeFwiKSxvLnNldEF0dHJpYnV0ZShcImNvbG9yLWludGVycG9sYXRpb24tZmlsdGVyc1wiLFwic1JHQlwiKSxvLnNldEF0dHJpYnV0ZShcInZhbHVlc1wiLFwiMSAwIDAgMCAwIDAgMSAwIDAgMCAwIDAgMSAwIDAgMCAwIDAgLTEgMVwiKSxzLmFwcGVuZENoaWxkKG8pLHRoaXMuZ2xvYmFsRGF0YS5kZWZzLmFwcGVuZENoaWxkKHMpO3ZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInJlY3RcIik7aWYoaC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLHRoaXMuY29tcC5kYXRhLncpLGguc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsdGhpcy5jb21wLmRhdGEuaCksaC5zZXRBdHRyaWJ1dGUoXCJ4XCIsXCIwXCIpLGguc2V0QXR0cmlidXRlKFwieVwiLFwiMFwiKSxoLnNldEF0dHJpYnV0ZShcImZpbGxcIixcIiNmZmZmZmZcIiksaC5zZXRBdHRyaWJ1dGUoXCJvcGFjaXR5XCIsXCIwXCIpLG4uc2V0QXR0cmlidXRlKFwiZmlsdGVyXCIsXCJ1cmwoXCIrbG9jYXRpb25IcmVmK1wiI1wiK3IrXCIpXCIpLG4uYXBwZW5kQ2hpbGQoaCksbi5hcHBlbmRDaGlsZCh0aGlzLmxheWVyRWxlbWVudCksdD1uLCFmZWF0dXJlU3VwcG9ydC5tYXNrVHlwZSl7YS5zZXRBdHRyaWJ1dGUoXCJtYXNrLXR5cGVcIixcImx1bWluYW5jZVwiKSxzLmFwcGVuZENoaWxkKGZpbHRlcnNGYWN0b3J5LmNyZWF0ZUFscGhhVG9MdW1pbmFuY2VGaWx0ZXIoKSk7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZ1wiKTtuLmFwcGVuZENoaWxkKGgpLGkuYXBwZW5kQ2hpbGQodGhpcy5sYXllckVsZW1lbnQpLHQ9aSxuLmFwcGVuZENoaWxkKGkpfXRoaXMuZ2xvYmFsRGF0YS5kZWZzLmFwcGVuZENoaWxkKGEpfX1lbHNlKHRoaXMuZGF0YS5oYXNNYXNrfHx0aGlzLmRhdGEudHQpJiZ0aGlzLmRhdGEudHQ/KHRoaXMubWF0dGVFbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImdcIiksdGhpcy5tYXR0ZUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5sYXllckVsZW1lbnQpLHQ9dGhpcy5tYXR0ZUVsZW1lbnQsdGhpcy5iYXNlRWxlbWVudD10aGlzLm1hdHRlRWxlbWVudCk6dGhpcy5iYXNlRWxlbWVudD10aGlzLmxheWVyRWxlbWVudDtpZighdGhpcy5kYXRhLmxuJiYhdGhpcy5kYXRhLmNsfHw0IT09dGhpcy5kYXRhLnR5JiYwIT09dGhpcy5kYXRhLnR5fHwodGhpcy5kYXRhLmxuJiZ0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLHRoaXMuZGF0YS5sbiksdGhpcy5kYXRhLmNsJiZ0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLHRoaXMuZGF0YS5jbCkpLDA9PT10aGlzLmRhdGEudHkpe3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImNsaXBQYXRoXCIpLHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwicGF0aFwiKTtwLnNldEF0dHJpYnV0ZShcImRcIixcIk0wLDAgTFwiK3RoaXMuZGF0YS53K1wiLDAgTFwiK3RoaXMuZGF0YS53K1wiLFwiK3RoaXMuZGF0YS5oK1wiIEwwLFwiK3RoaXMuZGF0YS5oK1wielwiKTt2YXIgbT1cImNwX1wiK3JhbmRvbVN0cmluZyg4KTtpZihsLnNldEF0dHJpYnV0ZShcImlkXCIsbSksbC5hcHBlbmRDaGlsZChwKSx0aGlzLmdsb2JhbERhdGEuZGVmcy5hcHBlbmRDaGlsZChsKSx0aGlzLmNoZWNrTWFza3MoKSl7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZ1wiKTtmLnNldEF0dHJpYnV0ZShcImNsaXAtcGF0aFwiLFwidXJsKFwiK2xvY2F0aW9uSHJlZitcIiNcIittK1wiKVwiKSxmLmFwcGVuZENoaWxkKHRoaXMubGF5ZXJFbGVtZW50KSx0aGlzLnRyYW5zZm9ybWVkRWxlbWVudD1mLHQ/dC5hcHBlbmRDaGlsZCh0aGlzLnRyYW5zZm9ybWVkRWxlbWVudCk6dGhpcy5iYXNlRWxlbWVudD10aGlzLnRyYW5zZm9ybWVkRWxlbWVudH1lbHNlIHRoaXMubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNsaXAtcGF0aFwiLFwidXJsKFwiK2xvY2F0aW9uSHJlZitcIiNcIittK1wiKVwiKX0wIT09dGhpcy5kYXRhLmJtJiZ0aGlzLnNldEJsZW5kTW9kZSgpLHRoaXMubGF5ZXJFbGVtZW50IT09dGhpcy5wYXJlbnRDb250YWluZXImJih0aGlzLnBsYWNlaG9sZGVyPW51bGwpLHRoaXMuZGF0YS5lZiYmKHRoaXMuZWZmZWN0c01hbmFnZXI9bmV3IFNWR0VmZmVjdHModGhpcykpLHRoaXMuY2hlY2tQYXJlbnRpbmcoKX0sU1ZHQmFzZUVsZW1lbnQucHJvdG90eXBlLnNldEJsZW5kTW9kZT1CYXNlRWxlbWVudC5wcm90b3R5cGUuc2V0QmxlbmRNb2RlLFNWR0Jhc2VFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbih0KXtpZigzPT09dGhpcy5kYXRhLnR5fHx0aGlzLmRhdGEuaGR8fCF0aGlzLmlzVmlzaWJsZSlyZXR1cm4hMTt0aGlzLmxhc3ROdW09dGhpcy5jdXJyZW50RnJhbWVOdW0sdGhpcy5maW5hbFRyYW5zZm9ybS5vcE1kZj10aGlzLmZpcnN0RnJhbWV8fHRoaXMuZmluYWxUcmFuc2Zvcm0ub3AubWRmLHRoaXMuZmluYWxUcmFuc2Zvcm0ubWF0TWRmPXRoaXMuZmlyc3RGcmFtZXx8dGhpcy5maW5hbFRyYW5zZm9ybS5tUHJvcC5tZGYsdGhpcy5maW5hbFRyYW5zZm9ybS5vcGFjaXR5PXRoaXMuZmluYWxUcmFuc2Zvcm0ub3Audjt2YXIgZSxyPXRoaXMuZmluYWxUcmFuc2Zvcm0ubWF0O2lmKHRoaXMuaGllcmFyY2h5KXt2YXIgcz0wLGk9dGhpcy5oaWVyYXJjaHkubGVuZ3RoO2lmKCF0aGlzLmZpbmFsVHJhbnNmb3JtLm1hdE1kZilmb3IoO2k+czspe2lmKHRoaXMuaGllcmFyY2h5W3NdLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLm1kZil7dGhpcy5maW5hbFRyYW5zZm9ybS5tYXRNZGY9ITA7YnJlYWt9cys9MX1pZih0aGlzLmZpbmFsVHJhbnNmb3JtLm1hdE1kZilmb3IoZT10aGlzLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLnYucHJvcHMsci5jbG9uZUZyb21Qcm9wcyhlKSxzPTA7aT5zO3MrPTEpZT10aGlzLmhpZXJhcmNoeVtzXS5maW5hbFRyYW5zZm9ybS5tUHJvcC52LnByb3BzLHIudHJhbnNmb3JtKGVbMF0sZVsxXSxlWzJdLGVbM10sZVs0XSxlWzVdLGVbNl0sZVs3XSxlWzhdLGVbOV0sZVsxMF0sZVsxMV0sZVsxMl0sZVsxM10sZVsxNF0sZVsxNV0pfWVsc2UgdGhpcy5pc1Zpc2libGUmJihyPXRoaXMuZmluYWxUcmFuc2Zvcm0ubVByb3Audik7cmV0dXJuIHRoaXMuZmluYWxUcmFuc2Zvcm0ubWF0TWRmJiZ0aGlzLmxheWVyRWxlbWVudCYmdGhpcy50cmFuc2Zvcm1lZEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsci50bzJkQ1NTKCkpLHRoaXMuZmluYWxUcmFuc2Zvcm0ub3BNZGYmJnRoaXMubGF5ZXJFbGVtZW50JiYodGhpcy5maW5hbFRyYW5zZm9ybS5vcC52PD0wPyF0aGlzLmlzVHJhbnNwYXJlbnQmJnRoaXMuZ2xvYmFsRGF0YS5yZW5kZXJDb25maWcuaGlkZU9uVHJhbnNwYXJlbnQmJih0aGlzLmlzVHJhbnNwYXJlbnQ9ITAsdGhpcy5oaWRlKCkpOnRoaXMuaGlkZGVuJiZ0aGlzLmlzVHJhbnNwYXJlbnQmJih0aGlzLmlzVHJhbnNwYXJlbnQ9ITEsdGhpcy5zaG93KCkpLHRoaXMudHJhbnNmb3JtZWRFbGVtZW50LnNldEF0dHJpYnV0ZShcIm9wYWNpdHlcIix0aGlzLmZpbmFsVHJhbnNmb3JtLm9wLnYpKSx0aGlzLmRhdGEuaGFzTWFzayYmdGhpcy5tYXNrTWFuYWdlci5yZW5kZXJGcmFtZShyKSx0aGlzLmVmZmVjdHNNYW5hZ2VyJiZ0aGlzLmVmZmVjdHNNYW5hZ2VyLnJlbmRlckZyYW1lKHRoaXMuZmlyc3RGcmFtZSksdGhpcy5pc1Zpc2libGV9LFNWR0Jhc2VFbGVtZW50LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5sYXllckVsZW1lbnQ9bnVsbCx0aGlzLnBhcmVudENvbnRhaW5lcj1udWxsLHRoaXMubWF0dGVFbGVtZW50JiYodGhpcy5tYXR0ZUVsZW1lbnQ9bnVsbCksdGhpcy5tYXNrTWFuYWdlciYmdGhpcy5tYXNrTWFuYWdlci5kZXN0cm95KCl9LFNWR0Jhc2VFbGVtZW50LnByb3RvdHlwZS5nZXRCYXNlRWxlbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJhc2VFbGVtZW50fSxTVkdCYXNlRWxlbWVudC5wcm90b3R5cGUuYWRkTWFza3M9ZnVuY3Rpb24odCl7dGhpcy5tYXNrTWFuYWdlcj1uZXcgTWFza0VsZW1lbnQodCx0aGlzLHRoaXMuZ2xvYmFsRGF0YSl9LFNWR0Jhc2VFbGVtZW50LnByb3RvdHlwZS5zZXRNYXR0ZT1mdW5jdGlvbih0KXt0aGlzLm1hdHRlRWxlbWVudCYmdGhpcy5tYXR0ZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibWFza1wiLFwidXJsKFwiK2xvY2F0aW9uSHJlZitcIiNcIit0K1wiKVwiKX0sU1ZHQmFzZUVsZW1lbnQucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLmhpZGRlbnx8KHRoaXMubGF5ZXJFbGVtZW50LnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpcy5oaWRkZW49ITApfSxTVkdCYXNlRWxlbWVudC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3RoaXMuaXNWaXNpYmxlJiYhdGhpcy5pc1RyYW5zcGFyZW50JiYodGhpcy5oaWRkZW49ITEsdGhpcy5sYXllckVsZW1lbnQuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIpfSxjcmVhdGVFbGVtZW50KFNWR0Jhc2VFbGVtZW50LElTaGFwZUVsZW1lbnQpLElTaGFwZUVsZW1lbnQucHJvdG90eXBlLmlkZW50aXR5TWF0cml4PW5ldyBNYXRyaXgsSVNoYXBlRWxlbWVudC5wcm90b3R5cGUubGNFbnVtPXsxOlwiYnV0dFwiLDI6XCJyb3VuZFwiLDM6XCJzcXVhcmVcIn0sSVNoYXBlRWxlbWVudC5wcm90b3R5cGUubGpFbnVtPXsxOlwibWl0ZXJcIiwyOlwicm91bmRcIiwzOlwiYnV0dFwifSxJU2hhcGVFbGVtZW50LnByb3RvdHlwZS5zZWFyY2hQcm9jZXNzZWRFbGVtZW50PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnByb2Nlc3NlZEVsZW1lbnRzLmxlbmd0aDtlOylpZihlLT0xLHRoaXMucHJvY2Vzc2VkRWxlbWVudHNbZV0uZWxlbT09PXQpcmV0dXJuIHRoaXMucHJvY2Vzc2VkRWxlbWVudHNbZV0ucG9zO3JldHVybiAwfSxJU2hhcGVFbGVtZW50LnByb3RvdHlwZS5hZGRQcm9jZXNzZWRFbGVtZW50PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPXRoaXMucHJvY2Vzc2VkRWxlbWVudHMubGVuZ3RoO3I7KWlmKHItPTEsdGhpcy5wcm9jZXNzZWRFbGVtZW50c1tyXS5lbGVtPT09dCl7dGhpcy5wcm9jZXNzZWRFbGVtZW50c1tyXS5wb3M9ZTticmVha30wPT09ciYmdGhpcy5wcm9jZXNzZWRFbGVtZW50cy5wdXNoKHtlbGVtOnQscG9zOmV9KX0sSVNoYXBlRWxlbWVudC5wcm90b3R5cGUuYnVpbGRFeHByZXNzaW9uSW50ZXJmYWNlPWZ1bmN0aW9uKCl7fSxJU2hhcGVFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50cz1mdW5jdGlvbigpe3RoaXMuX3BhcmVudC5jcmVhdGVFbGVtZW50cy5jYWxsKHRoaXMpLHRoaXMuc2VhcmNoU2hhcGVzKHRoaXMuc2hhcGVzRGF0YSx0aGlzLml0ZW1zRGF0YSx0aGlzLnByZXZWaWV3RGF0YSx0aGlzLmxheWVyRWxlbWVudCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLDAsW10sITApLCghdGhpcy5kYXRhLmhkfHx0aGlzLmRhdGEudGQpJiZzdHlsZVVuc2VsZWN0YWJsZURpdih0aGlzLmxheWVyRWxlbWVudCl9LElTaGFwZUVsZW1lbnQucHJvdG90eXBlLnNldEdyYWRpZW50RGF0YT1mdW5jdGlvbih0LGUscil7dmFyIHMsaT1cImdyX1wiK3JhbmRvbVN0cmluZygxMCk7cz0xPT09ZS50P2RvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImxpbmVhckdyYWRpZW50XCIpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInJhZGlhbEdyYWRpZW50XCIpLHMuc2V0QXR0cmlidXRlKFwiaWRcIixpKSxzLnNldEF0dHJpYnV0ZShcInNwcmVhZE1ldGhvZFwiLFwicGFkXCIpLHMuc2V0QXR0cmlidXRlKFwiZ3JhZGllbnRVbml0c1wiLFwidXNlclNwYWNlT25Vc2VcIik7dmFyIGEsbixvLGg9W107Zm9yKG89NCplLmcucCxuPTA7bz5uO24rPTQpYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJzdG9wXCIpLHMuYXBwZW5kQ2hpbGQoYSksaC5wdXNoKGEpO3Quc2V0QXR0cmlidXRlKFwiZ2ZcIj09PWUudHk/XCJmaWxsXCI6XCJzdHJva2VcIixcInVybCgjXCIraStcIilcIiksdGhpcy5nbG9iYWxEYXRhLmRlZnMuYXBwZW5kQ2hpbGQocyksci5nZj1zLHIuY3N0PWh9LElTaGFwZUVsZW1lbnQucHJvdG90eXBlLnNldEdyYWRpZW50T3BhY2l0eT1mdW5jdGlvbih0LGUscil7aWYodC5nLmsua1swXS5zJiZ0Lmcuay5rWzBdLnMubGVuZ3RoPjQqdC5nLnB8fHQuZy5rLmsubGVuZ3RoPjQqdC5nLnApe3ZhciBzLGksYSxuLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwibWFza1wiKSxoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInBhdGhcIik7by5hcHBlbmRDaGlsZChoKTt2YXIgbD1cIm9wX1wiK3JhbmRvbVN0cmluZygxMCkscD1cIm1rX1wiK3JhbmRvbVN0cmluZygxMCk7by5zZXRBdHRyaWJ1dGUoXCJpZFwiLHApLHM9MT09PXQudD9kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJsaW5lYXJHcmFkaWVudFwiKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJyYWRpYWxHcmFkaWVudFwiKSxzLnNldEF0dHJpYnV0ZShcImlkXCIsbCkscy5zZXRBdHRyaWJ1dGUoXCJzcHJlYWRNZXRob2RcIixcInBhZFwiKSxzLnNldEF0dHJpYnV0ZShcImdyYWRpZW50VW5pdHNcIixcInVzZXJTcGFjZU9uVXNlXCIpLG49dC5nLmsua1swXS5zP3QuZy5rLmtbMF0ucy5sZW5ndGg6dC5nLmsuay5sZW5ndGg7dmFyIG09W107Zm9yKGE9NCp0LmcucDtuPmE7YSs9MilpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInN0b3BcIiksaS5zZXRBdHRyaWJ1dGUoXCJzdG9wLWNvbG9yXCIsXCJyZ2IoMjU1LDI1NSwyNTUpXCIpLHMuYXBwZW5kQ2hpbGQoaSksbS5wdXNoKGkpO3JldHVybiBoLnNldEF0dHJpYnV0ZShcImdmXCI9PT10LnR5P1wiZmlsbFwiOlwic3Ryb2tlXCIsXCJ1cmwoI1wiK2wrXCIpXCIpLHRoaXMuZ2xvYmFsRGF0YS5kZWZzLmFwcGVuZENoaWxkKHMpLHRoaXMuZ2xvYmFsRGF0YS5kZWZzLmFwcGVuZENoaWxkKG8pLGUub2Y9cyxlLm9zdD1tLHIubXNFbGVtPWgscH19LElTaGFwZUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVN0eWxlRWxlbWVudD1mdW5jdGlvbih0LGUscil7dmFyIHM9e30saT17ZGF0YTp0LHR5cGU6dC50eSxkOlwiXCIsbGQ6XCJcIixsdmw6ZSxtZGY6ITEsY2xvc2VkOiExfSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInBhdGhcIik7aWYocy5vPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdC5vLDAsLjAxLHIpLChcInN0XCI9PXQudHl8fFwiZ3NcIj09dC50eSkmJihhLnNldEF0dHJpYnV0ZShcInN0cm9rZS1saW5lY2FwXCIsdGhpcy5sY0VudW1bdC5sY118fFwicm91bmRcIiksYS5zZXRBdHRyaWJ1dGUoXCJzdHJva2UtbGluZWpvaW5cIix0aGlzLmxqRW51bVt0LmxqXXx8XCJyb3VuZFwiKSxhLnNldEF0dHJpYnV0ZShcImZpbGwtb3BhY2l0eVwiLFwiMFwiKSwxPT10LmxqJiZhLnNldEF0dHJpYnV0ZShcInN0cm9rZS1taXRlcmxpbWl0XCIsdC5tbCkscy53PVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdC53LDAsbnVsbCxyKSx0LmQpKXt2YXIgbj1uZXcgRGFzaFByb3BlcnR5KHRoaXMsdC5kLFwic3ZnXCIscik7bi5rfHwoYS5zZXRBdHRyaWJ1dGUoXCJzdHJva2UtZGFzaGFycmF5XCIsbi5kYXNoYXJyYXkpLGEuc2V0QXR0cmlidXRlKFwic3Ryb2tlLWRhc2hvZmZzZXRcIixuLmRhc2hvZmZzZXRbMF0pKSxzLmQ9bn1pZihcImZsXCI9PXQudHl8fFwic3RcIj09dC50eSlzLmM9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyx0LmMsMSwyNTUscik7ZWxzZXtzLmc9bmV3IEdyYWRpZW50UHJvcGVydHkodGhpcyx0LmcsciksMj09dC50JiYocy5oPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdC5oLDAsLjAxLHIpLHMuYT1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLHQuYSwwLGRlZ1RvUmFkcyxyKSkscy5zPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdC5zLDEsbnVsbCxyKSxzLmU9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyx0LmUsMSxudWxsLHIpLHRoaXMuc2V0R3JhZGllbnREYXRhKGEsdCxzLGkpO3ZhciBvPXRoaXMuc2V0R3JhZGllbnRPcGFjaXR5KHQscyxpKTtvJiZhLnNldEF0dHJpYnV0ZShcIm1hc2tcIixcInVybCgjXCIrbytcIilcIil9cmV0dXJuIHMuZWxlbT1hLDI9PT10LnImJmEuc2V0QXR0cmlidXRlKFwiZmlsbC1ydWxlXCIsXCJldmVub2RkXCIpLHQubG4mJmEuc2V0QXR0cmlidXRlKFwiaWRcIix0LmxuKSx0LmNsJiZhLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsdC5jbCksaS5wRWxlbT1hLHRoaXMuc3R5bGVzTGlzdC5wdXNoKGkpLHMuc3R5bGU9aSxzfSxJU2hhcGVFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVHcm91cEVsZW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU9e2l0OltdLHByZXZWaWV3RGF0YTpbXX0scj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJnXCIpO3JldHVybiBlLmdyPXIsdC5sbiYmZS5nci5zZXRBdHRyaWJ1dGUoXCJpZFwiLHQubG4pLGV9LElTaGFwZUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVRyYW5zZm9ybUVsZW1lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgcj17dHJhbnNmb3JtOntvcDpQcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLHQubywwLC4wMSxlKSxtUHJvcHM6VHJhbnNmb3JtUHJvcGVydHlGYWN0b3J5LmdldFRyYW5zZm9ybVByb3BlcnR5KHRoaXMsdCxlKX0sZWxlbWVudHM6W119O3JldHVybiByfSxJU2hhcGVFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFwZUVsZW1lbnQ9ZnVuY3Rpb24odCxlLHIscyl7dmFyIGk9e2VsZW1lbnRzOltdLGNhY2hlczpbXSxzdHlsZXM6W10sdHJhbnNmb3JtZXJzOmUsbFN0cjpcIlwifSxhPTQ7cmV0dXJuXCJyY1wiPT10LnR5P2E9NTpcImVsXCI9PXQudHk/YT02Olwic3JcIj09dC50eSYmKGE9NyksaS5zaD1TaGFwZVByb3BlcnR5RmFjdG9yeS5nZXRTaGFwZVByb3AodGhpcyx0LGEscyksaS5sdmw9cix0aGlzLnNoYXBlcy5wdXNoKGkuc2gpLHRoaXMuYWRkU2hhcGVUb01vZGlmaWVycyhpKSxpfTt2YXIgY29udD0wO0lTaGFwZUVsZW1lbnQucHJvdG90eXBlLnNldEVsZW1lbnRTdHlsZXM9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuc3R5bGVzTGlzdC5sZW5ndGgscj1bXTtmb3IodD0wO2U+dDt0Kz0xKXRoaXMuc3R5bGVzTGlzdFt0XS5jbG9zZWR8fHIucHVzaCh0aGlzLnN0eWxlc0xpc3RbdF0pO3JldHVybiByfSxJU2hhcGVFbGVtZW50LnByb3RvdHlwZS5yZWxvYWRTaGFwZXM9ZnVuY3Rpb24oKXt0aGlzLmZpcnN0RnJhbWU9ITA7dmFyIHQsZT10aGlzLml0ZW1zRGF0YS5sZW5ndGg7Zm9yKHQ9MDtlPnQ7dCs9MSl0aGlzLnByZXZWaWV3RGF0YVt0XT10aGlzLml0ZW1zRGF0YVt0XTt0aGlzLnNlYXJjaFNoYXBlcyh0aGlzLnNoYXBlc0RhdGEsdGhpcy5pdGVtc0RhdGEsdGhpcy5wcmV2Vmlld0RhdGEsdGhpcy5sYXllckVsZW1lbnQsdGhpcy5keW5hbWljUHJvcGVydGllcywwLFtdLCEwKTt2YXIgdCxlPXRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoO2Zvcih0PTA7ZT50O3QrPTEpdGhpcy5keW5hbWljUHJvcGVydGllc1t0XS5nZXRWYWx1ZSgpO3RoaXMucmVuZGVyTW9kaWZpZXJzKCl9LElTaGFwZUVsZW1lbnQucHJvdG90eXBlLnNlYXJjaFNoYXBlcz1mdW5jdGlvbih0LGUscixzLGksYSxuLG8pe3ZhciBoLGwscCxtLGYsYyxkPVtdLmNvbmNhdChuKSx1PXQubGVuZ3RoLTEseT1bXSxnPVtdO2ZvcihoPXU7aD49MDtoLT0xKXtpZihjPXRoaXMuc2VhcmNoUHJvY2Vzc2VkRWxlbWVudCh0W2hdKSxjP2VbaF09cltjLTFdOnRbaF0uX3JlbmRlcj1vLFwiZmxcIj09dFtoXS50eXx8XCJzdFwiPT10W2hdLnR5fHxcImdmXCI9PXRbaF0udHl8fFwiZ3NcIj09dFtoXS50eSljP2VbaF0uc3R5bGUuY2xvc2VkPSExOmVbaF09dGhpcy5jcmVhdGVTdHlsZUVsZW1lbnQodFtoXSxhLGkpLHRbaF0uX3JlbmRlciYmcy5hcHBlbmRDaGlsZChlW2hdLmVsZW0pLHkucHVzaChlW2hdLnN0eWxlKTtlbHNlIGlmKFwiZ3JcIj09dFtoXS50eSl7aWYoYylmb3IocD1lW2hdLml0Lmxlbmd0aCxsPTA7cD5sO2wrPTEpZVtoXS5wcmV2Vmlld0RhdGFbbF09ZVtoXS5pdFtsXTtlbHNlIGVbaF09dGhpcy5jcmVhdGVHcm91cEVsZW1lbnQodFtoXSk7dGhpcy5zZWFyY2hTaGFwZXModFtoXS5pdCxlW2hdLml0LGVbaF0ucHJldlZpZXdEYXRhLGVbaF0uZ3IsaSxhKzEsZCxvKSx0W2hdLl9yZW5kZXImJnMuYXBwZW5kQ2hpbGQoZVtoXS5ncil9ZWxzZVwidHJcIj09dFtoXS50eT8oY3x8KGVbaF09dGhpcy5jcmVhdGVUcmFuc2Zvcm1FbGVtZW50KHRbaF0saSkpLG09ZVtoXS50cmFuc2Zvcm0sZC5wdXNoKG0pKTpcInNoXCI9PXRbaF0udHl8fFwicmNcIj09dFtoXS50eXx8XCJlbFwiPT10W2hdLnR5fHxcInNyXCI9PXRbaF0udHk/KGN8fChlW2hdPXRoaXMuY3JlYXRlU2hhcGVFbGVtZW50KHRbaF0sZCxhLGkpKSxlW2hdLmVsZW1lbnRzPXRoaXMuc2V0RWxlbWVudFN0eWxlcygpKTpcInRtXCI9PXRbaF0udHl8fFwicmRcIj09dFtoXS50eXx8XCJtc1wiPT10W2hdLnR5PyhjPyhmPWVbaF0sZi5jbG9zZWQ9ITEpOihmPVNoYXBlTW9kaWZpZXJzLmdldE1vZGlmaWVyKHRbaF0udHkpLGYuaW5pdCh0aGlzLHRbaF0saSksZVtoXT1mLHRoaXMuc2hhcGVNb2RpZmllcnMucHVzaChmKSksZy5wdXNoKGYpKTpcInJwXCI9PXRbaF0udHkmJihjPyhmPWVbaF0sZi5jbG9zZWQ9ITApOihmPVNoYXBlTW9kaWZpZXJzLmdldE1vZGlmaWVyKHRbaF0udHkpLGVbaF09ZixmLmluaXQodGhpcyx0LGgsZSxpKSx0aGlzLnNoYXBlTW9kaWZpZXJzLnB1c2goZiksbz0hMSksZy5wdXNoKGYpKTt0aGlzLmFkZFByb2Nlc3NlZEVsZW1lbnQodFtoXSxoKzEpfWZvcih1PXkubGVuZ3RoLGg9MDt1Pmg7aCs9MSl5W2hdLmNsb3NlZD0hMDtmb3IodT1nLmxlbmd0aCxoPTA7dT5oO2grPTEpZ1toXS5jbG9zZWQ9ITB9LElTaGFwZUVsZW1lbnQucHJvdG90eXBlLmFkZFNoYXBlVG9Nb2RpZmllcnM9ZnVuY3Rpb24odCl7dmFyIGUscj10aGlzLnNoYXBlTW9kaWZpZXJzLmxlbmd0aDtmb3IoZT0wO3I+ZTtlKz0xKXRoaXMuc2hhcGVNb2RpZmllcnNbZV0uYWRkU2hhcGUodCl9LElTaGFwZUVsZW1lbnQucHJvdG90eXBlLnJlbmRlck1vZGlmaWVycz1mdW5jdGlvbigpe2lmKHRoaXMuc2hhcGVNb2RpZmllcnMubGVuZ3RoKXt2YXIgdCxlPXRoaXMuc2hhcGVzLmxlbmd0aDtmb3IodD0wO2U+dDt0Kz0xKXRoaXMuc2hhcGVzW3RdLnJlc2V0KCk7Zm9yKGU9dGhpcy5zaGFwZU1vZGlmaWVycy5sZW5ndGgsdD1lLTE7dD49MDt0LT0xKXRoaXMuc2hhcGVNb2RpZmllcnNbdF0ucHJvY2Vzc1NoYXBlcyh0aGlzLmZpcnN0RnJhbWUpfX0sSVNoYXBlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcGFyZW50LnJlbmRlckZyYW1lLmNhbGwodGhpcyx0KTtpZihlPT09ITEpcmV0dXJuIHZvaWQgdGhpcy5oaWRlKCk7dGhpcy5oaWRkZW4mJih0aGlzLmxheWVyRWxlbWVudC5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLmhpZGRlbj0hMSksdGhpcy5yZW5kZXJNb2RpZmllcnMoKTt2YXIgcixzPXRoaXMuc3R5bGVzTGlzdC5sZW5ndGg7Zm9yKHI9MDtzPnI7cis9MSl0aGlzLnN0eWxlc0xpc3Rbcl0uZD1cIlwiLHRoaXMuc3R5bGVzTGlzdFtyXS5tZGY9ITE7Zm9yKHRoaXMucmVuZGVyU2hhcGUodGhpcy5zaGFwZXNEYXRhLHRoaXMuaXRlbXNEYXRhLG51bGwpLHI9MDtzPnI7cis9MSlcIjBcIj09PXRoaXMuc3R5bGVzTGlzdFtyXS5sZCYmKHRoaXMuc3R5bGVzTGlzdFtyXS5sZD1cIjFcIix0aGlzLnN0eWxlc0xpc3Rbcl0ucEVsZW0uc3R5bGUuZGlzcGxheT1cImJsb2NrXCIpLCh0aGlzLnN0eWxlc0xpc3Rbcl0ubWRmfHx0aGlzLmZpcnN0RnJhbWUpJiYodGhpcy5zdHlsZXNMaXN0W3JdLnBFbGVtLnNldEF0dHJpYnV0ZShcImRcIix0aGlzLnN0eWxlc0xpc3Rbcl0uZCksdGhpcy5zdHlsZXNMaXN0W3JdLm1zRWxlbSYmdGhpcy5zdHlsZXNMaXN0W3JdLm1zRWxlbS5zZXRBdHRyaWJ1dGUoXCJkXCIsdGhpcy5zdHlsZXNMaXN0W3JdLmQpKTt0aGlzLmZpcnN0RnJhbWUmJih0aGlzLmZpcnN0RnJhbWU9ITEpfSxJU2hhcGVFbGVtZW50LnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaGlkZGVuKXt0aGlzLmxheWVyRWxlbWVudC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO3ZhciB0LGU9dGhpcy5zdHlsZXNMaXN0Lmxlbmd0aDtmb3IodD1lLTE7dD49MDt0LT0xKVwiMFwiIT09dGhpcy5zdHlsZXNMaXN0W3RdLmxkJiYodGhpcy5zdHlsZXNMaXN0W3RdLmxkPVwiMFwiLHRoaXMuc3R5bGVzTGlzdFt0XS5wRWxlbS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMuc3R5bGVzTGlzdFt0XS5wRWxlbS5wYXJlbnROb2RlJiYodGhpcy5zdHlsZXNMaXN0W3RdLnBhcmVudD10aGlzLnN0eWxlc0xpc3RbdF0ucEVsZW0ucGFyZW50Tm9kZSkpO3RoaXMuaGlkZGVuPSEwfX0sSVNoYXBlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyU2hhcGU9ZnVuY3Rpb24odCxlLHIpe3ZhciBzLGksYT10Lmxlbmd0aC0xO2ZvcihzPWE7cz49MDtzLT0xKWk9dFtzXS50eSxcInRyXCI9PWk/KCh0aGlzLmZpcnN0RnJhbWV8fGVbc10udHJhbnNmb3JtLm9wLm1kZiYmcikmJnIuc2V0QXR0cmlidXRlKFwib3BhY2l0eVwiLGVbc10udHJhbnNmb3JtLm9wLnYpLCh0aGlzLmZpcnN0RnJhbWV8fGVbc10udHJhbnNmb3JtLm1Qcm9wcy5tZGYmJnIpJiZyLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLGVbc10udHJhbnNmb3JtLm1Qcm9wcy52LnRvMmRDU1MoKSkpOlwic2hcIj09aXx8XCJlbFwiPT1pfHxcInJjXCI9PWl8fFwic3JcIj09aT90aGlzLnJlbmRlclBhdGgodFtzXSxlW3NdKTpcImZsXCI9PWk/dGhpcy5yZW5kZXJGaWxsKHRbc10sZVtzXSk6XCJnZlwiPT1pP3RoaXMucmVuZGVyR3JhZGllbnQodFtzXSxlW3NdKTpcImdzXCI9PWk/KHRoaXMucmVuZGVyR3JhZGllbnQodFtzXSxlW3NdKSx0aGlzLnJlbmRlclN0cm9rZSh0W3NdLGVbc10pKTpcInN0XCI9PWk/dGhpcy5yZW5kZXJTdHJva2UodFtzXSxlW3NdKTpcImdyXCI9PWkmJnRoaXMucmVuZGVyU2hhcGUodFtzXS5pdCxlW3NdLml0LGVbc10uZ3IpfSxJU2hhcGVFbGVtZW50LnByb3RvdHlwZS5idWlsZFNoYXBlU3RyaW5nPWZ1bmN0aW9uKHQsZSxyLHMpe3ZhciBpLGE9XCJcIjtmb3IoaT0xO2U+aTtpKz0xKTE9PT1pJiYoYSs9XCIgTVwiK3MuYXBwbHlUb1BvaW50U3RyaW5naWZpZWQodC52WzBdWzBdLHQudlswXVsxXSkpLGErPVwiIENcIitzLmFwcGx5VG9Qb2ludFN0cmluZ2lmaWVkKHQub1tpLTFdWzBdLHQub1tpLTFdWzFdKStcIiBcIitzLmFwcGx5VG9Qb2ludFN0cmluZ2lmaWVkKHQuaVtpXVswXSx0LmlbaV1bMV0pK1wiIFwiK3MuYXBwbHlUb1BvaW50U3RyaW5naWZpZWQodC52W2ldWzBdLHQudltpXVsxXSk7cmV0dXJuIDE9PT1lJiYoYSs9XCIgTVwiK3MuYXBwbHlUb1BvaW50U3RyaW5naWZpZWQodC52WzBdWzBdLHQudlswXVsxXSkpLHImJmUmJihhKz1cIiBDXCIrcy5hcHBseVRvUG9pbnRTdHJpbmdpZmllZCh0Lm9baS0xXVswXSx0Lm9baS0xXVsxXSkrXCIgXCIrcy5hcHBseVRvUG9pbnRTdHJpbmdpZmllZCh0LmlbMF1bMF0sdC5pWzBdWzFdKStcIiBcIitzLmFwcGx5VG9Qb2ludFN0cmluZ2lmaWVkKHQudlswXVswXSx0LnZbMF1bMV0pLGErPVwielwiKSxhfSxJU2hhcGVFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIHIscyxpLGEsbixvLGg9ZS5lbGVtZW50cy5sZW5ndGgsbD1lLmx2bDtpZih0Ll9yZW5kZXIpZm9yKG89MDtoPm87bys9MSlpZihlLmVsZW1lbnRzW29dLmRhdGEuX3JlbmRlcil7YT1lLnNoLm1kZnx8dGhpcy5maXJzdEZyYW1lLGk9XCJNMCAwXCI7dmFyIHA9ZS5zaC5wYXRocztpZihzPXAuX2xlbmd0aCxlLmVsZW1lbnRzW29dLmx2bDxsKXtmb3IodmFyIG0sZj10aGlzLm1IZWxwZXIucmVzZXQoKSxjPWwtZS5lbGVtZW50c1tvXS5sdmwsZD1lLnRyYW5zZm9ybWVycy5sZW5ndGgtMTtjPjA7KWE9ZS50cmFuc2Zvcm1lcnNbZF0ubVByb3BzLm1kZnx8YSxtPWUudHJhbnNmb3JtZXJzW2RdLm1Qcm9wcy52LnByb3BzLGYudHJhbnNmb3JtKG1bMF0sbVsxXSxtWzJdLG1bM10sbVs0XSxtWzVdLG1bNl0sbVs3XSxtWzhdLG1bOV0sbVsxMF0sbVsxMV0sbVsxMl0sbVsxM10sbVsxNF0sbVsxNV0pLGMtLSxkLS07aWYoYSl7Zm9yKHI9MDtzPnI7cis9MSluPXAuc2hhcGVzW3JdLG4mJm4uX2xlbmd0aCYmKGkrPXRoaXMuYnVpbGRTaGFwZVN0cmluZyhuLG4uX2xlbmd0aCxuLmMsZikpO2UuY2FjaGVzW29dPWl9ZWxzZSBpPWUuY2FjaGVzW29dfWVsc2UgaWYoYSl7Zm9yKHI9MDtzPnI7cis9MSluPXAuc2hhcGVzW3JdLG4mJm4uX2xlbmd0aCYmKGkrPXRoaXMuYnVpbGRTaGFwZVN0cmluZyhuLG4uX2xlbmd0aCxuLmMsdGhpcy5pZGVudGl0eU1hdHJpeCkpO2UuY2FjaGVzW29dPWl9ZWxzZSBpPWUuY2FjaGVzW29dO2UuZWxlbWVudHNbb10uZCs9aSxlLmVsZW1lbnRzW29dLm1kZj1hfHxlLmVsZW1lbnRzW29dLm1kZn1lbHNlIGUuZWxlbWVudHNbb10ubWRmPSEwfSxJU2hhcGVFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJGaWxsPWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZS5zdHlsZTsoZS5jLm1kZnx8dGhpcy5maXJzdEZyYW1lKSYmci5wRWxlbS5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsXCJyZ2IoXCIrYm1fZmxvb3IoZS5jLnZbMF0pK1wiLFwiK2JtX2Zsb29yKGUuYy52WzFdKStcIixcIitibV9mbG9vcihlLmMudlsyXSkrXCIpXCIpLChlLm8ubWRmfHx0aGlzLmZpcnN0RnJhbWUpJiZyLnBFbGVtLnNldEF0dHJpYnV0ZShcImZpbGwtb3BhY2l0eVwiLGUuby52KX0sSVNoYXBlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyR3JhZGllbnQ9ZnVuY3Rpb24odCxlKXt2YXIgcj1lLmdmLHM9ZS5vZixpPWUucy52LGE9ZS5lLnY7aWYoZS5vLm1kZnx8dGhpcy5maXJzdEZyYW1lKXt2YXIgbj1cImdmXCI9PT10LnR5P1wiZmlsbC1vcGFjaXR5XCI6XCJzdHJva2Utb3BhY2l0eVwiO2UuZWxlbS5zZXRBdHRyaWJ1dGUobixlLm8udil9aWYoZS5zLm1kZnx8dGhpcy5maXJzdEZyYW1lKXt2YXIgbz0xPT09dC50P1wieDFcIjpcImN4XCIsaD1cIngxXCI9PT1vP1wieTFcIjpcImN5XCI7ci5zZXRBdHRyaWJ1dGUobyxpWzBdKSxyLnNldEF0dHJpYnV0ZShoLGlbMV0pLHMmJihzLnNldEF0dHJpYnV0ZShvLGlbMF0pLHMuc2V0QXR0cmlidXRlKGgsaVsxXSkpfXZhciBsLHAsbSxmO2lmKGUuZy5jbWRmfHx0aGlzLmZpcnN0RnJhbWUpe2w9ZS5jc3Q7dmFyIGM9ZS5nLmM7Zm9yKG09bC5sZW5ndGgscD0wO20+cDtwKz0xKWY9bFtwXSxmLnNldEF0dHJpYnV0ZShcIm9mZnNldFwiLGNbNCpwXStcIiVcIiksZi5zZXRBdHRyaWJ1dGUoXCJzdG9wLWNvbG9yXCIsXCJyZ2IoXCIrY1s0KnArMV0rXCIsXCIrY1s0KnArMl0rXCIsXCIrY1s0KnArM10rXCIpXCIpfWlmKHMmJihlLmcub21kZnx8dGhpcy5maXJzdEZyYW1lKSl7bD1lLm9zdDt2YXIgZD1lLmcubztmb3IobT1sLmxlbmd0aCxwPTA7bT5wO3ArPTEpZj1sW3BdLGYuc2V0QXR0cmlidXRlKFwib2Zmc2V0XCIsZFsyKnBdK1wiJVwiKSxmLnNldEF0dHJpYnV0ZShcInN0b3Atb3BhY2l0eVwiLGRbMipwKzFdKX1pZigxPT09dC50KShlLmUubWRmfHx0aGlzLmZpcnN0RnJhbWUpJiYoci5zZXRBdHRyaWJ1dGUoXCJ4MlwiLGFbMF0pLHIuc2V0QXR0cmlidXRlKFwieTJcIixhWzFdKSxzJiYocy5zZXRBdHRyaWJ1dGUoXCJ4MlwiLGFbMF0pLHMuc2V0QXR0cmlidXRlKFwieTJcIixhWzFdKSkpO2Vsc2V7dmFyIHU7aWYoKGUucy5tZGZ8fGUuZS5tZGZ8fHRoaXMuZmlyc3RGcmFtZSkmJih1PU1hdGguc3FydChNYXRoLnBvdyhpWzBdLWFbMF0sMikrTWF0aC5wb3coaVsxXS1hWzFdLDIpKSxyLnNldEF0dHJpYnV0ZShcInJcIix1KSxzJiZzLnNldEF0dHJpYnV0ZShcInJcIix1KSksZS5lLm1kZnx8ZS5oLm1kZnx8ZS5hLm1kZnx8dGhpcy5maXJzdEZyYW1lKXt1fHwodT1NYXRoLnNxcnQoTWF0aC5wb3coaVswXS1hWzBdLDIpK01hdGgucG93KGlbMV0tYVsxXSwyKSkpO3ZhciB5PU1hdGguYXRhbjIoYVsxXS1pWzFdLGFbMF0taVswXSksZz1lLmgudj49MT8uOTk6ZS5oLnY8PS0xPy0uOTk6ZS5oLnYsdj11KmcsYj1NYXRoLmNvcyh5K2UuYS52KSp2K2lbMF0sRT1NYXRoLnNpbih5K2UuYS52KSp2K2lbMV07ci5zZXRBdHRyaWJ1dGUoXCJmeFwiLGIpLHIuc2V0QXR0cmlidXRlKFwiZnlcIixFKSxzJiYocy5zZXRBdHRyaWJ1dGUoXCJmeFwiLGIpLHMuc2V0QXR0cmlidXRlKFwiZnlcIixFKSl9fX0sSVNoYXBlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyU3Ryb2tlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZS5zdHlsZSxzPWUuZDtzJiYocy5tZGZ8fHRoaXMuZmlyc3RGcmFtZSkmJihyLnBFbGVtLnNldEF0dHJpYnV0ZShcInN0cm9rZS1kYXNoYXJyYXlcIixzLmRhc2hTdHIpLHIucEVsZW0uc2V0QXR0cmlidXRlKFwic3Ryb2tlLWRhc2hvZmZzZXRcIixzLmRhc2hvZmZzZXRbMF0pKSxlLmMmJihlLmMubWRmfHx0aGlzLmZpcnN0RnJhbWUpJiZyLnBFbGVtLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLFwicmdiKFwiK2JtX2Zsb29yKGUuYy52WzBdKStcIixcIitibV9mbG9vcihlLmMudlsxXSkrXCIsXCIrYm1fZmxvb3IoZS5jLnZbMl0pK1wiKVwiKSwoZS5vLm1kZnx8dGhpcy5maXJzdEZyYW1lKSYmci5wRWxlbS5zZXRBdHRyaWJ1dGUoXCJzdHJva2Utb3BhY2l0eVwiLGUuby52KSwoZS53Lm1kZnx8dGhpcy5maXJzdEZyYW1lKSYmKHIucEVsZW0uc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsZS53LnYpLHIubXNFbGVtJiZyLm1zRWxlbS5zZXRBdHRyaWJ1dGUoXCJzdHJva2Utd2lkdGhcIixlLncudikpfSxJU2hhcGVFbGVtZW50LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fcGFyZW50LmRlc3Ryb3kuY2FsbCh0aGlzLl9wYXJlbnQpLHRoaXMuc2hhcGVEYXRhPW51bGwsdGhpcy5pdGVtc0RhdGE9bnVsbCx0aGlzLnBhcmVudENvbnRhaW5lcj1udWxsLHRoaXMucGxhY2Vob2xkZXI9bnVsbH0sSVRleHRFbGVtZW50LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5sZXR0ZXJzQ2hhbmdlZEZsYWc9ITAsdGhpcy5keW5hbWljUHJvcGVydGllcz10aGlzLmR5bmFtaWNQcm9wZXJ0aWVzfHxbXSx0aGlzLnRleHRBbmltYXRvcj1uZXcgVGV4dEFuaW1hdG9yUHJvcGVydHkodGhpcy5kYXRhLnQsdGhpcy5yZW5kZXJUeXBlLHRoaXMpLHRoaXMudGV4dFByb3BlcnR5PW5ldyBUZXh0UHJvcGVydHkodGhpcyx0aGlzLmRhdGEudCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLl9wYXJlbnQuaW5pdC5jYWxsKHRoaXMpLHRoaXMudGV4dEFuaW1hdG9yLnNlYXJjaFByb3BlcnRpZXModGhpcy5keW5hbWljUHJvcGVydGllcyl9LElUZXh0RWxlbWVudC5wcm90b3R5cGUucHJlcGFyZUZyYW1lPWZ1bmN0aW9uKHQpe3RoaXMuX3BhcmVudC5wcmVwYXJlRnJhbWUuY2FsbCh0aGlzLHQpLCh0aGlzLnRleHRQcm9wZXJ0eS5tZGZ8fHRoaXMudGV4dFByb3BlcnR5LmZpcnN0RnJhbWUpJiYodGhpcy5idWlsZE5ld1RleHQoKSxcbnRoaXMudGV4dFByb3BlcnR5LmZpcnN0RnJhbWU9ITEpfSxJVGV4dEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVBhdGhTaGFwZT1mdW5jdGlvbih0LGUpe3ZhciByLHMsaT1lLmxlbmd0aCxhPVwiXCI7Zm9yKHI9MDtpPnI7cis9MSlzPWVbcl0ua3MuayxhKz10aGlzLmJ1aWxkU2hhcGVTdHJpbmcocyxzLmkubGVuZ3RoLCEwLHQpO3JldHVybiBhfSxJVGV4dEVsZW1lbnQucHJvdG90eXBlLnVwZGF0ZURvY3VtZW50RGF0YT1mdW5jdGlvbih0LGUpe3RoaXMudGV4dFByb3BlcnR5LnVwZGF0ZURvY3VtZW50RGF0YSh0LGUpfSxJVGV4dEVsZW1lbnQucHJvdG90eXBlLmFwcGx5VGV4dFByb3BlcnRpZXNUb01hdHJpeD1mdW5jdGlvbih0LGUscixzLGkpe3N3aXRjaCh0LnBzJiZlLnRyYW5zbGF0ZSh0LnBzWzBdLHQucHNbMV0rdC5hc2NlbnQsMCksZS50cmFuc2xhdGUoMCwtdC5scywwKSx0Lmope2Nhc2UgMTplLnRyYW5zbGF0ZSh0Lmp1c3RpZnlPZmZzZXQrKHQuYm94V2lkdGgtdC5saW5lV2lkdGhzW3JdKSwwLDApO2JyZWFrO2Nhc2UgMjplLnRyYW5zbGF0ZSh0Lmp1c3RpZnlPZmZzZXQrKHQuYm94V2lkdGgtdC5saW5lV2lkdGhzW3JdKS8yLDAsMCl9ZS50cmFuc2xhdGUocyxpLDApfSxJVGV4dEVsZW1lbnQucHJvdG90eXBlLmJ1aWxkQ29sb3I9ZnVuY3Rpb24odCl7cmV0dXJuXCJyZ2IoXCIrTWF0aC5yb3VuZCgyNTUqdFswXSkrXCIsXCIrTWF0aC5yb3VuZCgyNTUqdFsxXSkrXCIsXCIrTWF0aC5yb3VuZCgyNTUqdFsyXSkrXCIpXCJ9LElUZXh0RWxlbWVudC5wcm90b3R5cGUuYnVpbGRTaGFwZVN0cmluZz1JU2hhcGVFbGVtZW50LnByb3RvdHlwZS5idWlsZFNoYXBlU3RyaW5nLElUZXh0RWxlbWVudC5wcm90b3R5cGUuZW1wdHlQcm9wPW5ldyBMZXR0ZXJQcm9wcyxJVGV4dEVsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl9wYXJlbnQuZGVzdHJveS5jYWxsKHRoaXMuX3BhcmVudCl9LGNyZWF0ZUVsZW1lbnQoU1ZHQmFzZUVsZW1lbnQsU1ZHVGV4dEVsZW1lbnQpLGV4dGVuZFByb3RvdHlwZShJVGV4dEVsZW1lbnQsU1ZHVGV4dEVsZW1lbnQpLFNWR1RleHRFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50cz1mdW5jdGlvbigpe3RoaXMuX3BhcmVudC5jcmVhdGVFbGVtZW50cy5jYWxsKHRoaXMpLHRoaXMuZGF0YS5sbiYmdGhpcy5sYXllckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIix0aGlzLmRhdGEubG4pLHRoaXMuZGF0YS5jbCYmdGhpcy5sYXllckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIix0aGlzLmRhdGEuY2wpLHRoaXMuZGF0YS5zaW5nbGVTaGFwZSYmIXRoaXMuZ2xvYmFsRGF0YS5mb250TWFuYWdlci5jaGFycyYmKHRoaXMudGV4dENvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJ0ZXh0XCIpKX0sU1ZHVGV4dEVsZW1lbnQucHJvdG90eXBlLmJ1aWxkTmV3VGV4dD1mdW5jdGlvbigpe3ZhciB0LGUscj10aGlzLnRleHRQcm9wZXJ0eS5jdXJyZW50RGF0YTt0aGlzLnJlbmRlcmVkTGV0dGVycz1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6cj9yLmwubGVuZ3RoOjB9KSxyLmZjP3RoaXMubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImZpbGxcIix0aGlzLmJ1aWxkQ29sb3Ioci5mYykpOnRoaXMubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImZpbGxcIixcInJnYmEoMCwwLDAsMClcIiksci5zYyYmKHRoaXMubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLHRoaXMuYnVpbGRDb2xvcihyLnNjKSksdGhpcy5sYXllckVsZW1lbnQuc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsci5zdykpLHRoaXMubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImZvbnQtc2l6ZVwiLHIucyk7dmFyIHM9dGhpcy5nbG9iYWxEYXRhLmZvbnRNYW5hZ2VyLmdldEZvbnRCeU5hbWUoci5mKTtpZihzLmZDbGFzcyl0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLHMuZkNsYXNzKTtlbHNle3RoaXMubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImZvbnQtZmFtaWx5XCIscy5mRmFtaWx5KTt2YXIgaT1yLmZXZWlnaHQsYT1yLmZTdHlsZTt0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJmb250LXN0eWxlXCIsYSksdGhpcy5sYXllckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZm9udC13ZWlnaHRcIixpKX12YXIgbj1yLmx8fFtdLG89dGhpcy5nbG9iYWxEYXRhLmZvbnRNYW5hZ2VyLmNoYXJzO2lmKGU9bi5sZW5ndGgpe3ZhciBoLGwscD10aGlzLm1IZWxwZXIsbT1cIlwiLGY9dGhpcy5kYXRhLnNpbmdsZVNoYXBlLGM9MCxkPTAsdT0hMCx5PXIudHIvMWUzKnIucztpZihmJiYhbyl7dmFyIGc9dGhpcy50ZXh0Q29udGFpbmVyLHY9XCJcIjtzd2l0Y2goci5qKXtjYXNlIDE6dj1cImVuZFwiO2JyZWFrO2Nhc2UgMjp2PVwibWlkZGxlXCI7YnJlYWs7Y2FzZSAyOnY9XCJzdGFydFwifWcuc2V0QXR0cmlidXRlKFwidGV4dC1hbmNob3JcIix2KSxnLnNldEF0dHJpYnV0ZShcImxldHRlci1zcGFjaW5nXCIseSk7dmFyIGI9ci50LnNwbGl0KFN0cmluZy5mcm9tQ2hhckNvZGUoMTMpKTtlPWIubGVuZ3RoO3ZhciBkPXIucHM/ci5wc1sxXStyLmFzY2VudDowO2Zvcih0PTA7ZT50O3QrPTEpaD10aGlzLnRleHRTcGFuc1t0XXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwidHNwYW5cIiksaC50ZXh0Q29udGVudD1iW3RdLGguc2V0QXR0cmlidXRlKFwieFwiLDApLGguc2V0QXR0cmlidXRlKFwieVwiLGQpLGguc3R5bGUuZGlzcGxheT1cImluaGVyaXRcIixnLmFwcGVuZENoaWxkKGgpLHRoaXMudGV4dFNwYW5zW3RdPWgsZCs9ci5saDt0aGlzLmxheWVyRWxlbWVudC5hcHBlbmRDaGlsZChnKX1lbHNle3ZhciBFLFAseD10aGlzLnRleHRTcGFucy5sZW5ndGg7Zm9yKHQ9MDtlPnQ7dCs9MSlvJiZmJiYwIT09dHx8KGg9eD50P3RoaXMudGV4dFNwYW5zW3RdOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxvP1wicGF0aFwiOlwidGV4dFwiKSx0Pj14JiYoaC5zZXRBdHRyaWJ1dGUoXCJzdHJva2UtbGluZWNhcFwiLFwiYnV0dFwiKSxoLnNldEF0dHJpYnV0ZShcInN0cm9rZS1saW5lam9pblwiLFwicm91bmRcIiksaC5zZXRBdHRyaWJ1dGUoXCJzdHJva2UtbWl0ZXJsaW1pdFwiLFwiNFwiKSx0aGlzLnRleHRTcGFuc1t0XT1oLHRoaXMubGF5ZXJFbGVtZW50LmFwcGVuZENoaWxkKGgpKSxoLnN0eWxlLmRpc3BsYXk9XCJpbmhlcml0XCIpLHAucmVzZXQoKSxvPyhwLnNjYWxlKHIucy8xMDAsci5zLzEwMCksZiYmKG5bdF0ubiYmKGM9LXksZCs9ci55T2Zmc2V0LGQrPXU/MTowLHU9ITEpLHRoaXMuYXBwbHlUZXh0UHJvcGVydGllc1RvTWF0cml4KHIscCxuW3RdLmxpbmUsYyxkKSxjKz1uW3RdLmx8fDAsYys9eSksUD10aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuZ2V0Q2hhckRhdGEoci50LmNoYXJBdCh0KSxzLmZTdHlsZSx0aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuZ2V0Rm9udEJ5TmFtZShyLmYpLmZGYW1pbHkpLEU9UCYmUC5kYXRhfHx7fSxsPUUuc2hhcGVzP0Uuc2hhcGVzWzBdLml0OltdLGY/bSs9dGhpcy5jcmVhdGVQYXRoU2hhcGUocCxsKTpoLnNldEF0dHJpYnV0ZShcImRcIix0aGlzLmNyZWF0ZVBhdGhTaGFwZShwLGwpKSk6KGgudGV4dENvbnRlbnQ9blt0XS52YWwsaC5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLFwieG1sOnNwYWNlXCIsXCJwcmVzZXJ2ZVwiKSk7ZiYmaC5zZXRBdHRyaWJ1dGUoXCJkXCIsbSl9Zm9yKDt0PHRoaXMudGV4dFNwYW5zLmxlbmd0aDspdGhpcy50ZXh0U3BhbnNbdF0uc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0Kz0xO3RoaXMuX3NpemVDaGFuZ2VkPSEwfX0sU1ZHVGV4dEVsZW1lbnQucHJvdG90eXBlLnNvdXJjZVJlY3RBdFRpbWU9ZnVuY3Rpb24odCl7aWYodGhpcy5wcmVwYXJlRnJhbWUodGhpcy5jb21wLnJlbmRlcmVkRnJhbWUtdGhpcy5kYXRhLnN0KSx0aGlzLnJlbmRlckxldHRlcnMoKSx0aGlzLl9zaXplQ2hhbmdlZCl7dGhpcy5fc2l6ZUNoYW5nZWQ9ITE7dmFyIGU9dGhpcy5sYXllckVsZW1lbnQuZ2V0QkJveCgpO3RoaXMuYmJveD17dG9wOmUueSxsZWZ0OmUueCx3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodH19cmV0dXJuIHRoaXMuYmJveH0sU1ZHVGV4dEVsZW1lbnQucHJvdG90eXBlLnJlbmRlckxldHRlcnM9ZnVuY3Rpb24oKXtpZighdGhpcy5kYXRhLnNpbmdsZVNoYXBlJiYodGhpcy50ZXh0QW5pbWF0b3IuZ2V0TWVhc3VyZXModGhpcy50ZXh0UHJvcGVydHkuY3VycmVudERhdGEsdGhpcy5sZXR0ZXJzQ2hhbmdlZEZsYWcpLHRoaXMubGV0dGVyc0NoYW5nZWRGbGFnfHx0aGlzLnRleHRBbmltYXRvci5sZXR0ZXJzQ2hhbmdlZEZsYWcpKXt0aGlzLl9zaXplQ2hhbmdlZD0hMDt2YXIgdCxlLHI9dGhpcy50ZXh0QW5pbWF0b3IucmVuZGVyZWRMZXR0ZXJzLHM9dGhpcy50ZXh0UHJvcGVydHkuY3VycmVudERhdGEubDtlPXMubGVuZ3RoO3ZhciBpLGE7Zm9yKHQ9MDtlPnQ7dCs9MSlzW3RdLm58fChpPXJbdF0sYT10aGlzLnRleHRTcGFuc1t0XSxpLm1kZi5tJiZhLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLGkubSksaS5tZGYubyYmYS5zZXRBdHRyaWJ1dGUoXCJvcGFjaXR5XCIsaS5vKSxpLm1kZi5zdyYmYS5zZXRBdHRyaWJ1dGUoXCJzdHJva2Utd2lkdGhcIixpLnN3KSxpLm1kZi5zYyYmYS5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIixpLnNjKSxpLm1kZi5mYyYmYS5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsaS5mYykpfX0sU1ZHVGV4dEVsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BhcmVudC5yZW5kZXJGcmFtZS5jYWxsKHRoaXMsdCk7cmV0dXJuIGU9PT0hMT92b2lkIHRoaXMuaGlkZSgpOih0aGlzLmhpZGRlbiYmdGhpcy5zaG93KCksdGhpcy5maXJzdEZyYW1lJiYodGhpcy5maXJzdEZyYW1lPSExKSx2b2lkIHRoaXMucmVuZGVyTGV0dGVycygpKX0sU1ZHVGludEZpbHRlci5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7aWYodHx8dGhpcy5maWx0ZXJNYW5hZ2VyLm1kZil7dmFyIGU9dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzBdLnAudixyPXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1sxXS5wLnYscz10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMl0ucC52LzEwMDt0aGlzLm1hdHJpeEZpbHRlci5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZXNcIixyWzBdLWVbMF0rXCIgMCAwIDAgXCIrZVswXStcIiBcIisoclsxXS1lWzFdKStcIiAwIDAgMCBcIitlWzFdK1wiIFwiKyhyWzJdLWVbMl0pK1wiIDAgMCAwIFwiK2VbMl0rXCIgMCAwIDAgXCIrcytcIiAwXCIpfX0sU1ZHRmlsbEZpbHRlci5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7aWYodHx8dGhpcy5maWx0ZXJNYW5hZ2VyLm1kZil7dmFyIGU9dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzJdLnAudixyPXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s2XS5wLnY7dGhpcy5tYXRyaXhGaWx0ZXIuc2V0QXR0cmlidXRlKFwidmFsdWVzXCIsXCIwIDAgMCAwIFwiK2VbMF0rXCIgMCAwIDAgMCBcIitlWzFdK1wiIDAgMCAwIDAgXCIrZVsyXStcIiAwIDAgMCBcIityK1wiIDBcIil9fSxTVkdTdHJva2VFZmZlY3QucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdCxlLHIscyxpPXRoaXMuZWxlbS5sYXllckVsZW1lbnQuY2hpbGRyZW58fHRoaXMuZWxlbS5sYXllckVsZW1lbnQuY2hpbGROb2Rlcztmb3IoMT09PXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1sxXS5wLnY/KHM9dGhpcy5lbGVtLm1hc2tNYW5hZ2VyLm1hc2tzUHJvcGVydGllcy5sZW5ndGgscj0wKToocj10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMF0ucC52LTEscz1yKzEpLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZ1wiKSxlLnNldEF0dHJpYnV0ZShcImZpbGxcIixcIm5vbmVcIiksZS5zZXRBdHRyaWJ1dGUoXCJzdHJva2UtbGluZWNhcFwiLFwicm91bmRcIiksZS5zZXRBdHRyaWJ1dGUoXCJzdHJva2UtZGFzaG9mZnNldFwiLDEpLHI7cz5yO3IrPTEpdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJwYXRoXCIpLGUuYXBwZW5kQ2hpbGQodCksdGhpcy5wYXRocy5wdXNoKHtwOnQsbTpyfSk7aWYoMz09PXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1sxMF0ucC52KXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJtYXNrXCIpLG49XCJzdG1zX1wiK3JhbmRvbVN0cmluZygxMCk7YS5zZXRBdHRyaWJ1dGUoXCJpZFwiLG4pLGEuc2V0QXR0cmlidXRlKFwibWFzay10eXBlXCIsXCJhbHBoYVwiKSxhLmFwcGVuZENoaWxkKGUpLHRoaXMuZWxlbS5nbG9iYWxEYXRhLmRlZnMuYXBwZW5kQ2hpbGQoYSk7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZ1wiKTtvLnNldEF0dHJpYnV0ZShcIm1hc2tcIixcInVybChcIitsb2NhdGlvbkhyZWYrXCIjXCIrbitcIilcIiksaVswXSYmby5hcHBlbmRDaGlsZChpWzBdKSx0aGlzLmVsZW0ubGF5ZXJFbGVtZW50LmFwcGVuZENoaWxkKG8pLHRoaXMubWFza2VyPWEsZS5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIixcIiNmZmZcIil9ZWxzZSBpZigxPT09dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzEwXS5wLnZ8fDI9PT10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMTBdLnAudil7aWYoMj09PXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1sxMF0ucC52KWZvcih2YXIgaT10aGlzLmVsZW0ubGF5ZXJFbGVtZW50LmNoaWxkcmVufHx0aGlzLmVsZW0ubGF5ZXJFbGVtZW50LmNoaWxkTm9kZXM7aS5sZW5ndGg7KXRoaXMuZWxlbS5sYXllckVsZW1lbnQucmVtb3ZlQ2hpbGQoaVswXSk7dGhpcy5lbGVtLmxheWVyRWxlbWVudC5hcHBlbmRDaGlsZChlKSx0aGlzLmVsZW0ubGF5ZXJFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcIm1hc2tcIiksZS5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIixcIiNmZmZcIil9dGhpcy5pbml0aWFsaXplZD0hMCx0aGlzLnBhdGhNYXNrZXI9ZX0sU1ZHU3Ryb2tlRWZmZWN0LnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbih0KXt0aGlzLmluaXRpYWxpemVkfHx0aGlzLmluaXRpYWxpemUoKTt2YXIgZSxyLHMsaT10aGlzLnBhdGhzLmxlbmd0aDtmb3IoZT0wO2k+ZTtlKz0xKWlmKHI9dGhpcy5lbGVtLm1hc2tNYW5hZ2VyLnZpZXdEYXRhW3RoaXMucGF0aHNbZV0ubV0scz10aGlzLnBhdGhzW2VdLnAsKHR8fHRoaXMuZmlsdGVyTWFuYWdlci5tZGZ8fHIucHJvcC5tZGYpJiZzLnNldEF0dHJpYnV0ZShcImRcIixyLmxhc3RQYXRoKSx0fHx0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbOV0ucC5tZGZ8fHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s0XS5wLm1kZnx8dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzddLnAubWRmfHx0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbOF0ucC5tZGZ8fHIucHJvcC5tZGYpe3ZhciBhO2lmKDAhPT10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbN10ucC52fHwxMDAhPT10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbOF0ucC52KXt2YXIgbj1NYXRoLm1pbih0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbN10ucC52LHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s4XS5wLnYpLzEwMCxvPU1hdGgubWF4KHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s3XS5wLnYsdGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzhdLnAudikvMTAwLGg9cy5nZXRUb3RhbExlbmd0aCgpO2E9XCIwIDAgMCBcIitoKm4rXCIgXCI7dmFyIGwscD1oKihvLW4pLG09MSsyKnRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s0XS5wLnYqdGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzldLnAudi8xMDAsZj1NYXRoLmZsb29yKHAvbSk7Zm9yKGw9MDtmPmw7bCs9MSlhKz1cIjEgXCIrMip0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbNF0ucC52KnRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s5XS5wLnYvMTAwK1wiIFwiO2ErPVwiMCBcIisxMCpoK1wiIDAgMFwifWVsc2UgYT1cIjEgXCIrMip0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbNF0ucC52KnRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s5XS5wLnYvMTAwO3Muc2V0QXR0cmlidXRlKFwic3Ryb2tlLWRhc2hhcnJheVwiLGEpfWlmKCh0fHx0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbNF0ucC5tZGYpJiZ0aGlzLnBhdGhNYXNrZXIuc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsMip0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbNF0ucC52KSwodHx8dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzZdLnAubWRmKSYmdGhpcy5wYXRoTWFza2VyLnNldEF0dHJpYnV0ZShcIm9wYWNpdHlcIix0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbNl0ucC52KSwoMT09PXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1sxMF0ucC52fHwyPT09dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzEwXS5wLnYpJiYodHx8dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzNdLnAubWRmKSl7dmFyIGM9dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzNdLnAudjt0aGlzLnBhdGhNYXNrZXIuc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsXCJyZ2IoXCIrYm1fZmxvb3IoMjU1KmNbMF0pK1wiLFwiK2JtX2Zsb29yKDI1NSpjWzFdKStcIixcIitibV9mbG9vcigyNTUqY1syXSkrXCIpXCIpfX0sU1ZHVHJpdG9uZUZpbHRlci5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7aWYodHx8dGhpcy5maWx0ZXJNYW5hZ2VyLm1kZil7dmFyIGU9dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzBdLnAudixyPXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1sxXS5wLnYscz10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMl0ucC52LGk9c1swXStcIiBcIityWzBdK1wiIFwiK2VbMF0sYT1zWzFdK1wiIFwiK3JbMV0rXCIgXCIrZVsxXSxuPXNbMl0rXCIgXCIrclsyXStcIiBcIitlWzJdO3RoaXMuZmVGdW5jUi5zZXRBdHRyaWJ1dGUoXCJ0YWJsZVZhbHVlc1wiLGkpLHRoaXMuZmVGdW5jRy5zZXRBdHRyaWJ1dGUoXCJ0YWJsZVZhbHVlc1wiLGEpLHRoaXMuZmVGdW5jQi5zZXRBdHRyaWJ1dGUoXCJ0YWJsZVZhbHVlc1wiLG4pfX0sU1ZHUHJvTGV2ZWxzRmlsdGVyLnByb3RvdHlwZS5jcmVhdGVGZUZ1bmM9ZnVuY3Rpb24odCxlKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsdCk7cmV0dXJuIHIuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwidGFibGVcIiksZS5hcHBlbmRDaGlsZChyKSxyfSxTVkdQcm9MZXZlbHNGaWx0ZXIucHJvdG90eXBlLmdldFRhYmxlVmFsdWU9ZnVuY3Rpb24odCxlLHIscyxpKXtmb3IodmFyIGEsbixvPTAsaD0yNTYsbD1NYXRoLm1pbih0LGUpLHA9TWF0aC5tYXgodCxlKSxtPUFycmF5LmNhbGwobnVsbCx7bGVuZ3RoOmh9KSxmPTAsYz1pLXMsZD1lLXQ7MjU2Pj1vOylhPW8vMjU2LG49bD49YT8wPmQ/aTpzOmE+PXA/MD5kP3M6aTpzK2MqTWF0aC5wb3coKGEtdCkvZCwxL3IpLG1bZisrXT1uLG8rPTI1Ni8oaC0xKTtyZXR1cm4gbS5qb2luKFwiIFwiKX0sU1ZHUHJvTGV2ZWxzRmlsdGVyLnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbih0KXtpZih0fHx0aGlzLmZpbHRlck1hbmFnZXIubWRmKXt2YXIgZSxyPXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50czt0aGlzLmZlRnVuY1JDb21wb3NlZCYmKHR8fHJbMl0ucC5tZGZ8fHJbM10ucC5tZGZ8fHJbNF0ucC5tZGZ8fHJbNV0ucC5tZGZ8fHJbNl0ucC5tZGYpJiYoZT10aGlzLmdldFRhYmxlVmFsdWUoclsyXS5wLnYsclszXS5wLnYscls0XS5wLnYscls1XS5wLnYscls2XS5wLnYpLHRoaXMuZmVGdW5jUkNvbXBvc2VkLnNldEF0dHJpYnV0ZShcInRhYmxlVmFsdWVzXCIsZSksdGhpcy5mZUZ1bmNHQ29tcG9zZWQuc2V0QXR0cmlidXRlKFwidGFibGVWYWx1ZXNcIixlKSx0aGlzLmZlRnVuY0JDb21wb3NlZC5zZXRBdHRyaWJ1dGUoXCJ0YWJsZVZhbHVlc1wiLGUpKSx0aGlzLmZlRnVuY1ImJih0fHxyWzldLnAubWRmfHxyWzEwXS5wLm1kZnx8clsxMV0ucC5tZGZ8fHJbMTJdLnAubWRmfHxyWzEzXS5wLm1kZikmJihlPXRoaXMuZ2V0VGFibGVWYWx1ZShyWzldLnAudixyWzEwXS5wLnYsclsxMV0ucC52LHJbMTJdLnAudixyWzEzXS5wLnYpLHRoaXMuZmVGdW5jUi5zZXRBdHRyaWJ1dGUoXCJ0YWJsZVZhbHVlc1wiLGUpKSx0aGlzLmZlRnVuY0cmJih0fHxyWzE2XS5wLm1kZnx8clsxN10ucC5tZGZ8fHJbMThdLnAubWRmfHxyWzE5XS5wLm1kZnx8clsyMF0ucC5tZGYpJiYoZT10aGlzLmdldFRhYmxlVmFsdWUoclsxNl0ucC52LHJbMTddLnAudixyWzE4XS5wLnYsclsxOV0ucC52LHJbMjBdLnAudiksdGhpcy5mZUZ1bmNHLnNldEF0dHJpYnV0ZShcInRhYmxlVmFsdWVzXCIsZSkpLHRoaXMuZmVGdW5jQiYmKHR8fHJbMjNdLnAubWRmfHxyWzI0XS5wLm1kZnx8clsyNV0ucC5tZGZ8fHJbMjZdLnAubWRmfHxyWzI3XS5wLm1kZikmJihlPXRoaXMuZ2V0VGFibGVWYWx1ZShyWzIzXS5wLnYsclsyNF0ucC52LHJbMjVdLnAudixyWzI2XS5wLnYsclsyN10ucC52KSx0aGlzLmZlRnVuY0Iuc2V0QXR0cmlidXRlKFwidGFibGVWYWx1ZXNcIixlKSksdGhpcy5mZUZ1bmNBJiYodHx8clszMF0ucC5tZGZ8fHJbMzFdLnAubWRmfHxyWzMyXS5wLm1kZnx8clszM10ucC5tZGZ8fHJbMzRdLnAubWRmKSYmKGU9dGhpcy5nZXRUYWJsZVZhbHVlKHJbMzBdLnAudixyWzMxXS5wLnYsclszMl0ucC52LHJbMzNdLnAudixyWzM0XS5wLnYpLHRoaXMuZmVGdW5jQS5zZXRBdHRyaWJ1dGUoXCJ0YWJsZVZhbHVlc1wiLGUpKX19LFNWR0Ryb3BTaGFkb3dFZmZlY3QucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe2lmKHR8fHRoaXMuZmlsdGVyTWFuYWdlci5tZGYpe2lmKCh0fHx0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbNF0ucC5tZGYpJiZ0aGlzLmZlR2F1c3NpYW5CbHVyLnNldEF0dHJpYnV0ZShcInN0ZERldmlhdGlvblwiLHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s0XS5wLnYvNCksdHx8dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzBdLnAubWRmKXt2YXIgZT10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMF0ucC52O3RoaXMuZmVGbG9vZC5zZXRBdHRyaWJ1dGUoXCJmbG9vZC1jb2xvclwiLHJnYlRvSGV4KE1hdGgucm91bmQoMjU1KmVbMF0pLE1hdGgucm91bmQoMjU1KmVbMV0pLE1hdGgucm91bmQoMjU1KmVbMl0pKSl9aWYoKHR8fHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1sxXS5wLm1kZikmJnRoaXMuZmVGbG9vZC5zZXRBdHRyaWJ1dGUoXCJmbG9vZC1vcGFjaXR5XCIsdGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzFdLnAudi8yNTUpLHR8fHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1syXS5wLm1kZnx8dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzNdLnAubWRmKXt2YXIgcj10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbM10ucC52LHM9KHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1syXS5wLnYtOTApKmRlZ1RvUmFkcyxpPXIqTWF0aC5jb3MocyksYT1yKk1hdGguc2luKHMpO3RoaXMuZmVPZmZzZXQuc2V0QXR0cmlidXRlKFwiZHhcIixpKSx0aGlzLmZlT2Zmc2V0LnNldEF0dHJpYnV0ZShcImR5XCIsYSl9fX0sU1ZHTWF0dGUzRWZmZWN0LnByb3RvdHlwZS5zZXRFbGVtZW50QXNNYXNrPWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwibWFza1wiKTtyLnNldEF0dHJpYnV0ZShcImlkXCIsZS5sYXllcklkKSxyLnNldEF0dHJpYnV0ZShcIm1hc2stdHlwZVwiLFwiYWxwaGFcIiksci5hcHBlbmRDaGlsZChlLmxheWVyRWxlbWVudCksdC5zZXRNYXR0ZShlLmxheWVySWQpLGUuZGF0YS5oZD0hMTt2YXIgcz10Lmdsb2JhbERhdGEuZGVmcztzLmFwcGVuZENoaWxkKHIpfSxTVkdNYXR0ZTNFZmZlY3QucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzBdLnAudixlPTAscj10aGlzLmVsZW0uY29tcC5lbGVtZW50cy5sZW5ndGg7cj5lOyl0aGlzLmVsZW0uY29tcC5lbGVtZW50c1tlXS5kYXRhLmluZD09PXQmJnRoaXMuc2V0RWxlbWVudEFzTWFzayh0aGlzLmVsZW0sdGhpcy5lbGVtLmNvbXAuZWxlbWVudHNbZV0pLGUrPTE7dGhpcy5pbml0aWFsaXplZD0hMH0sU1ZHTWF0dGUzRWZmZWN0LnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbigpe3RoaXMuaW5pdGlhbGl6ZWR8fHRoaXMuaW5pdGlhbGl6ZSgpfSxTVkdFZmZlY3RzLnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbih0KXt2YXIgZSxyPXRoaXMuZmlsdGVycy5sZW5ndGg7Zm9yKGU9MDtyPmU7ZSs9MSl0aGlzLmZpbHRlcnNbZV0ucmVuZGVyRnJhbWUodCl9LGNyZWF0ZUVsZW1lbnQoU1ZHQmFzZUVsZW1lbnQsSUNvbXBFbGVtZW50KSxJQ29tcEVsZW1lbnQucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXtpZighdGhpcy5oaWRkZW4pe3RoaXMuX3BhcmVudC5oaWRlLmNhbGwodGhpcyk7dmFyIHQsZT10aGlzLmVsZW1lbnRzLmxlbmd0aDtmb3IodD0wO2U+dDt0Kz0xKXRoaXMuZWxlbWVudHNbdF0mJnRoaXMuZWxlbWVudHNbdF0uaGlkZSgpfX0sSUNvbXBFbGVtZW50LnByb3RvdHlwZS5wcmVwYXJlRnJhbWU9ZnVuY3Rpb24odCl7aWYodGhpcy5fcGFyZW50LnByZXBhcmVGcmFtZS5jYWxsKHRoaXMsdCksdGhpcy5pc1Zpc2libGUhPT0hMXx8dGhpcy5kYXRhLnh0KXtpZih0aGlzLnRtKXt2YXIgZT10aGlzLnRtLnY7ZT09PXRoaXMuZGF0YS5vcCYmKGU9dGhpcy5kYXRhLm9wLTEpLHRoaXMucmVuZGVyZWRGcmFtZT1lfWVsc2UgdGhpcy5yZW5kZXJlZEZyYW1lPXQvdGhpcy5kYXRhLnNyO3ZhciByLHM9dGhpcy5lbGVtZW50cy5sZW5ndGg7Zm9yKHRoaXMuY29tcGxldGVMYXllcnN8fHRoaXMuY2hlY2tMYXllcnModGhpcy5yZW5kZXJlZEZyYW1lKSxyPTA7cz5yO3IrPTEpKHRoaXMuY29tcGxldGVMYXllcnN8fHRoaXMuZWxlbWVudHNbcl0pJiZ0aGlzLmVsZW1lbnRzW3JdLnByZXBhcmVGcmFtZSh0aGlzLnJlbmRlcmVkRnJhbWUtdGhpcy5sYXllcnNbcl0uc3QpfX0sSUNvbXBFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbih0KXt2YXIgZSxyPXRoaXMuX3BhcmVudC5yZW5kZXJGcmFtZS5jYWxsKHRoaXMsdCkscz10aGlzLmxheWVycy5sZW5ndGg7aWYocj09PSExKXJldHVybiB2b2lkIHRoaXMuaGlkZSgpO2Zvcih0aGlzLmhpZGRlbiYmdGhpcy5zaG93KCksZT0wO3M+ZTtlKz0xKSh0aGlzLmNvbXBsZXRlTGF5ZXJzfHx0aGlzLmVsZW1lbnRzW2VdKSYmdGhpcy5lbGVtZW50c1tlXS5yZW5kZXJGcmFtZSgpO3RoaXMuZmlyc3RGcmFtZSYmKHRoaXMuZmlyc3RGcmFtZT0hMSl9LElDb21wRWxlbWVudC5wcm90b3R5cGUuc2V0RWxlbWVudHM9ZnVuY3Rpb24odCl7dGhpcy5lbGVtZW50cz10fSxJQ29tcEVsZW1lbnQucHJvdG90eXBlLmdldEVsZW1lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudHN9LElDb21wRWxlbWVudC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX3BhcmVudC5kZXN0cm95LmNhbGwodGhpcy5fcGFyZW50KTt2YXIgdCxlPXRoaXMubGF5ZXJzLmxlbmd0aDtmb3IodD0wO2U+dDt0Kz0xKXRoaXMuZWxlbWVudHNbdF0mJnRoaXMuZWxlbWVudHNbdF0uZGVzdHJveSgpfSxJQ29tcEVsZW1lbnQucHJvdG90eXBlLmNoZWNrTGF5ZXJzPVNWR1JlbmRlcmVyLnByb3RvdHlwZS5jaGVja0xheWVycyxJQ29tcEVsZW1lbnQucHJvdG90eXBlLmJ1aWxkSXRlbT1TVkdSZW5kZXJlci5wcm90b3R5cGUuYnVpbGRJdGVtLElDb21wRWxlbWVudC5wcm90b3R5cGUuYnVpbGRBbGxJdGVtcz1TVkdSZW5kZXJlci5wcm90b3R5cGUuYnVpbGRBbGxJdGVtcyxJQ29tcEVsZW1lbnQucHJvdG90eXBlLmJ1aWxkRWxlbWVudFBhcmVudGluZz1TVkdSZW5kZXJlci5wcm90b3R5cGUuYnVpbGRFbGVtZW50UGFyZW50aW5nLElDb21wRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlSXRlbT1TVkdSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlSXRlbSxJQ29tcEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUltYWdlPVNWR1JlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVJbWFnZSxJQ29tcEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUNvbXA9U1ZHUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUNvbXAsSUNvbXBFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTb2xpZD1TVkdSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlU29saWQsSUNvbXBFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFwZT1TVkdSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlU2hhcGUsSUNvbXBFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVUZXh0PVNWR1JlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVUZXh0LElDb21wRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlQmFzZT1TVkdSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlQmFzZSxJQ29tcEVsZW1lbnQucHJvdG90eXBlLmFwcGVuZEVsZW1lbnRJblBvcz1TVkdSZW5kZXJlci5wcm90b3R5cGUuYXBwZW5kRWxlbWVudEluUG9zLElDb21wRWxlbWVudC5wcm90b3R5cGUuY2hlY2tQZW5kaW5nRWxlbWVudHM9U1ZHUmVuZGVyZXIucHJvdG90eXBlLmNoZWNrUGVuZGluZ0VsZW1lbnRzLElDb21wRWxlbWVudC5wcm90b3R5cGUuYWRkUGVuZGluZ0VsZW1lbnQ9U1ZHUmVuZGVyZXIucHJvdG90eXBlLmFkZFBlbmRpbmdFbGVtZW50LGNyZWF0ZUVsZW1lbnQoU1ZHQmFzZUVsZW1lbnQsSUltYWdlRWxlbWVudCksSUltYWdlRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlRWxlbWVudHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdsb2JhbERhdGEuZ2V0QXNzZXRzUGF0aCh0aGlzLmFzc2V0RGF0YSk7dGhpcy5fcGFyZW50LmNyZWF0ZUVsZW1lbnRzLmNhbGwodGhpcyksdGhpcy5pbm5lckVsZW09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiaW1hZ2VcIiksdGhpcy5pbm5lckVsZW0uc2V0QXR0cmlidXRlKFwid2lkdGhcIix0aGlzLmFzc2V0RGF0YS53K1wicHhcIiksdGhpcy5pbm5lckVsZW0uc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsdGhpcy5hc3NldERhdGEuaCtcInB4XCIpLHRoaXMuaW5uZXJFbGVtLnNldEF0dHJpYnV0ZShcInByZXNlcnZlQXNwZWN0UmF0aW9cIixcInhNaWRZTWlkIHNsaWNlXCIpLHRoaXMuaW5uZXJFbGVtLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLFwiaHJlZlwiLHQpLHRoaXMubWFza2VkRWxlbWVudD10aGlzLmlubmVyRWxlbSx0aGlzLmxheWVyRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmlubmVyRWxlbSksdGhpcy5kYXRhLmxuJiZ0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLHRoaXMuZGF0YS5sbiksdGhpcy5kYXRhLmNsJiZ0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLHRoaXMuZGF0YS5jbCl9LElJbWFnZUVsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BhcmVudC5yZW5kZXJGcmFtZS5jYWxsKHRoaXMsdCk7cmV0dXJuIGU9PT0hMT92b2lkIHRoaXMuaGlkZSgpOih0aGlzLmhpZGRlbiYmdGhpcy5zaG93KCksdm9pZCh0aGlzLmZpcnN0RnJhbWUmJih0aGlzLmZpcnN0RnJhbWU9ITEpKSl9LElJbWFnZUVsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl9wYXJlbnQuZGVzdHJveS5jYWxsKHRoaXMuX3BhcmVudCksdGhpcy5pbm5lckVsZW09bnVsbH0sY3JlYXRlRWxlbWVudChTVkdCYXNlRWxlbWVudCxJU29saWRFbGVtZW50KSxJU29saWRFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50cz1mdW5jdGlvbigpe3RoaXMuX3BhcmVudC5jcmVhdGVFbGVtZW50cy5jYWxsKHRoaXMpO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInJlY3RcIik7dC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLHRoaXMuZGF0YS5zdyksdC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIix0aGlzLmRhdGEuc2gpLHQuc2V0QXR0cmlidXRlKFwiZmlsbFwiLHRoaXMuZGF0YS5zYyksdGhpcy5sYXllckVsZW1lbnQuYXBwZW5kQ2hpbGQodCksdGhpcy5pbm5lckVsZW09dCx0aGlzLmRhdGEubG4mJnRoaXMubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsdGhpcy5kYXRhLmxuKSx0aGlzLmRhdGEuY2wmJnRoaXMubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsdGhpcy5kYXRhLmNsKX0sSVNvbGlkRWxlbWVudC5wcm90b3R5cGUucmVuZGVyRnJhbWU9SUltYWdlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyRnJhbWUsSVNvbGlkRWxlbWVudC5wcm90b3R5cGUuZGVzdHJveT1JSW1hZ2VFbGVtZW50LnByb3RvdHlwZS5kZXN0cm95O3ZhciBhbmltYXRpb25NYW5hZ2VyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtmb3IodmFyIGU9MCxyPXQudGFyZ2V0O0M+ZTspeFtlXS5hbmltYXRpb249PT1yJiYoeC5zcGxpY2UoZSwxKSxlLT0xLEMtPTEsci5pc1BhdXNlZHx8cygpKSxlKz0xfWZ1bmN0aW9uIGUodCxlKXtpZighdClyZXR1cm4gbnVsbDtmb3IodmFyIHI9MDtDPnI7KXtpZih4W3JdLmVsZW09PXQmJm51bGwhPT14W3JdLmVsZW0pcmV0dXJuIHhbcl0uYW5pbWF0aW9uO3IrPTF9dmFyIHM9bmV3IEFuaW1hdGlvbkl0ZW07cmV0dXJuIGkocyx0KSxzLnNldERhdGEodCxlKSxzfWZ1bmN0aW9uIHIoKXtBKz0xLEUoKX1mdW5jdGlvbiBzKCl7QS09MSwwPT09QSYmKGs9ITApfWZ1bmN0aW9uIGkoZSxpKXtlLmFkZEV2ZW50TGlzdGVuZXIoXCJkZXN0cm95XCIsdCksZS5hZGRFdmVudExpc3RlbmVyKFwiX2FjdGl2ZVwiLHIpLGUuYWRkRXZlbnRMaXN0ZW5lcihcIl9pZGxlXCIscykseC5wdXNoKHtlbGVtOmksYW5pbWF0aW9uOmV9KSxDKz0xfWZ1bmN0aW9uIGEodCl7dmFyIGU9bmV3IEFuaW1hdGlvbkl0ZW07cmV0dXJuIGkoZSxudWxsKSxlLnNldFBhcmFtcyh0KSxlfWZ1bmN0aW9uIG4odCxlKXt2YXIgcjtmb3Iocj0wO0M+cjtyKz0xKXhbcl0uYW5pbWF0aW9uLnNldFNwZWVkKHQsZSl9ZnVuY3Rpb24gbyh0LGUpe3ZhciByO2ZvcihyPTA7Qz5yO3IrPTEpeFtyXS5hbmltYXRpb24uc2V0RGlyZWN0aW9uKHQsZSl9ZnVuY3Rpb24gaCh0KXt2YXIgZTtmb3IoZT0wO0M+ZTtlKz0xKXhbZV0uYW5pbWF0aW9uLnBsYXkodCl9ZnVuY3Rpb24gbCh0LGUpe1M9RGF0ZS5ub3coKTt2YXIgcjtmb3Iocj0wO0M+cjtyKz0xKXhbcl0uYW5pbWF0aW9uLm1vdmVGcmFtZSh0LGUpfWZ1bmN0aW9uIHAodCl7dmFyIGUscj10LVM7Zm9yKGU9MDtDPmU7ZSs9MSl4W2VdLmFuaW1hdGlvbi5hZHZhbmNlVGltZShyKTtTPXQsa3x8d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShwKX1mdW5jdGlvbiBtKHQpe1M9dCx3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHApfWZ1bmN0aW9uIGYodCl7dmFyIGU7Zm9yKGU9MDtDPmU7ZSs9MSl4W2VdLmFuaW1hdGlvbi5wYXVzZSh0KX1mdW5jdGlvbiBjKHQsZSxyKXt2YXIgcztmb3Iocz0wO0M+cztzKz0xKXhbc10uYW5pbWF0aW9uLmdvVG9BbmRTdG9wKHQsZSxyKX1mdW5jdGlvbiBkKHQpe3ZhciBlO2ZvcihlPTA7Qz5lO2UrPTEpeFtlXS5hbmltYXRpb24uc3RvcCh0KX1mdW5jdGlvbiB1KHQpe3ZhciBlO2ZvcihlPTA7Qz5lO2UrPTEpeFtlXS5hbmltYXRpb24udG9nZ2xlUGF1c2UodCl9ZnVuY3Rpb24geSh0KXt2YXIgZTtmb3IoZT1DLTE7ZT49MDtlLT0xKXhbZV0uYW5pbWF0aW9uLmRlc3Ryb3kodCl9ZnVuY3Rpb24gZyh0LHIscyl7dmFyIGksYT1bXS5jb25jYXQoW10uc2xpY2UuY2FsbChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibG90dGllXCIpKSxbXS5zbGljZS5jYWxsKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJib2R5bW92aW5cIikpKSxuPWEubGVuZ3RoO2ZvcihpPTA7bj5pO2krPTEpcyYmYVtpXS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJtLXR5cGVcIixzKSxlKGFbaV0sdCk7aWYociYmMD09PW4pe3N8fChzPVwic3ZnXCIpO3ZhciBvPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYm9keVwiKVswXTtvLmlubmVySFRNTD1cIlwiO3ZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aC5zdHlsZS53aWR0aD1cIjEwMCVcIixoLnN0eWxlLmhlaWdodD1cIjEwMCVcIixoLnNldEF0dHJpYnV0ZShcImRhdGEtYm0tdHlwZVwiLHMpLG8uYXBwZW5kQ2hpbGQoaCksZShoLHQpfX1mdW5jdGlvbiB2KCl7dmFyIHQ7Zm9yKHQ9MDtDPnQ7dCs9MSl4W3RdLmFuaW1hdGlvbi5yZXNpemUoKX1mdW5jdGlvbiBiKCl7d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShtKX1mdW5jdGlvbiBFKCl7ayYmKGs9ITEsd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShtKSl9dmFyIFA9e30seD1bXSxTPTAsQz0wLGs9ITAsQT0wO3JldHVybiBzZXRUaW1lb3V0KGIsMCksUC5yZWdpc3RlckFuaW1hdGlvbj1lLFAubG9hZEFuaW1hdGlvbj1hLFAuc2V0U3BlZWQ9bixQLnNldERpcmVjdGlvbj1vLFAucGxheT1oLFAubW92ZUZyYW1lPWwsUC5wYXVzZT1mLFAuc3RvcD1kLFAudG9nZ2xlUGF1c2U9dSxQLnNlYXJjaEFuaW1hdGlvbnM9ZyxQLnJlc2l6ZT12LFAuc3RhcnQ9YixQLmdvVG9BbmRTdG9wPWMsUC5kZXN0cm95PXksUH0oKSxBbmltYXRpb25JdGVtPWZ1bmN0aW9uKCl7dGhpcy5fY2JzPVtdLHRoaXMubmFtZT1cIlwiLHRoaXMucGF0aD1cIlwiLHRoaXMuaXNMb2FkZWQ9ITEsdGhpcy5jdXJyZW50RnJhbWU9MCx0aGlzLmN1cnJlbnRSYXdGcmFtZT0wLHRoaXMudG90YWxGcmFtZXM9MCx0aGlzLmZyYW1lUmF0ZT0wLHRoaXMuZnJhbWVNdWx0PTAsdGhpcy5wbGF5U3BlZWQ9MSx0aGlzLnBsYXlEaXJlY3Rpb249MSx0aGlzLnBlbmRpbmdFbGVtZW50cz0wLHRoaXMucGxheUNvdW50PTAsdGhpcy5wcmVyZW5kZXJGcmFtZXNGbGFnPSEwLHRoaXMuYW5pbWF0aW9uRGF0YT17fSx0aGlzLmxheWVycz1bXSx0aGlzLmFzc2V0cz1bXSx0aGlzLmlzUGF1c2VkPSEwLHRoaXMuYXV0b3BsYXk9ITEsdGhpcy5sb29wPSEwLHRoaXMucmVuZGVyZXI9bnVsbCx0aGlzLmFuaW1hdGlvbklEPXJhbmRvbVN0cmluZygxMCksdGhpcy5zY2FsZU1vZGU9XCJmaXRcIix0aGlzLmFzc2V0c1BhdGg9XCJcIix0aGlzLnRpbWVDb21wbGV0ZWQ9MCx0aGlzLnNlZ21lbnRQb3M9MCx0aGlzLnN1YmZyYW1lRW5hYmxlZD1zdWJmcmFtZUVuYWJsZWQsdGhpcy5zZWdtZW50cz1bXSx0aGlzLnBlbmRpbmdTZWdtZW50PSExLHRoaXMuX2lkbGU9ITAsdGhpcy5wcm9qZWN0SW50ZXJmYWNlPVByb2plY3RJbnRlcmZhY2UoKX07QW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuc2V0UGFyYW1zPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dC5jb250ZXh0JiYodGhpcy5jb250ZXh0PXQuY29udGV4dCksKHQud3JhcHBlcnx8dC5jb250YWluZXIpJiYodGhpcy53cmFwcGVyPXQud3JhcHBlcnx8dC5jb250YWluZXIpO3ZhciByPXQuYW5pbVR5cGU/dC5hbmltVHlwZTp0LnJlbmRlcmVyP3QucmVuZGVyZXI6XCJzdmdcIjtzd2l0Y2gocil7Y2FzZVwiY2FudmFzXCI6dGhpcy5yZW5kZXJlcj1uZXcgQ2FudmFzUmVuZGVyZXIodGhpcyx0LnJlbmRlcmVyU2V0dGluZ3MpO2JyZWFrO2Nhc2VcInN2Z1wiOnRoaXMucmVuZGVyZXI9bmV3IFNWR1JlbmRlcmVyKHRoaXMsdC5yZW5kZXJlclNldHRpbmdzKTticmVhaztjYXNlXCJoeWJyaWRcIjpjYXNlXCJodG1sXCI6ZGVmYXVsdDp0aGlzLnJlbmRlcmVyPW5ldyBIeWJyaWRSZW5kZXJlcih0aGlzLHQucmVuZGVyZXJTZXR0aW5ncyl9aWYodGhpcy5yZW5kZXJlci5zZXRQcm9qZWN0SW50ZXJmYWNlKHRoaXMucHJvamVjdEludGVyZmFjZSksdGhpcy5hbmltVHlwZT1yLFwiXCI9PT10Lmxvb3B8fG51bGw9PT10Lmxvb3B8fCh0aGlzLmxvb3A9dC5sb29wPT09ITE/ITE6dC5sb29wPT09ITA/ITA6cGFyc2VJbnQodC5sb29wKSksdGhpcy5hdXRvcGxheT1cImF1dG9wbGF5XCJpbiB0P3QuYXV0b3BsYXk6ITAsdGhpcy5uYW1lPXQubmFtZT90Lm5hbWU6XCJcIix0aGlzLnByZXJlbmRlckZyYW1lc0ZsYWc9XCJwcmVyZW5kZXJcImluIHQ/dC5wcmVyZW5kZXI6ITAsdGhpcy5hdXRvbG9hZFNlZ21lbnRzPXQuaGFzT3duUHJvcGVydHkoXCJhdXRvbG9hZFNlZ21lbnRzXCIpP3QuYXV0b2xvYWRTZWdtZW50czohMCx0LmFuaW1hdGlvbkRhdGEpZS5jb25maWdBbmltYXRpb24odC5hbmltYXRpb25EYXRhKTtlbHNlIGlmKHQucGF0aCl7XCJqc29uXCIhPXQucGF0aC5zdWJzdHIoLTQpJiYoXCIvXCIhPXQucGF0aC5zdWJzdHIoLTEsMSkmJih0LnBhdGgrPVwiL1wiKSx0LnBhdGgrPVwiZGF0YS5qc29uXCIpO3ZhciBzPW5ldyBYTUxIdHRwUmVxdWVzdDt0aGlzLnBhdGg9LTEhPXQucGF0aC5sYXN0SW5kZXhPZihcIlxcXFxcIik/dC5wYXRoLnN1YnN0cigwLHQucGF0aC5sYXN0SW5kZXhPZihcIlxcXFxcIikrMSk6dC5wYXRoLnN1YnN0cigwLHQucGF0aC5sYXN0SW5kZXhPZihcIi9cIikrMSksdGhpcy5hc3NldHNQYXRoPXQuYXNzZXRzUGF0aCx0aGlzLmZpbGVOYW1lPXQucGF0aC5zdWJzdHIodC5wYXRoLmxhc3RJbmRleE9mKFwiL1wiKSsxKSx0aGlzLmZpbGVOYW1lPXRoaXMuZmlsZU5hbWUuc3Vic3RyKDAsdGhpcy5maWxlTmFtZS5sYXN0SW5kZXhPZihcIi5qc29uXCIpKSxzLm9wZW4oXCJHRVRcIix0LnBhdGgsITApLHMuc2VuZCgpLHMub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09cy5yZWFkeVN0YXRlKWlmKDIwMD09cy5zdGF0dXMpZS5jb25maWdBbmltYXRpb24oSlNPTi5wYXJzZShzLnJlc3BvbnNlVGV4dCkpO2Vsc2UgdHJ5e3ZhciB0PUpTT04ucGFyc2Uocy5yZXNwb25zZVRleHQpO2UuY29uZmlnQW5pbWF0aW9uKHQpfWNhdGNoKHIpe319fX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuc2V0RGF0YT1mdW5jdGlvbih0LGUpe3ZhciByPXt3cmFwcGVyOnQsYW5pbWF0aW9uRGF0YTplP1wib2JqZWN0XCI9PXR5cGVvZiBlP2U6SlNPTi5wYXJzZShlKTpudWxsfSxzPXQuYXR0cmlidXRlcztyLnBhdGg9cy5nZXROYW1lZEl0ZW0oXCJkYXRhLWFuaW1hdGlvbi1wYXRoXCIpP3MuZ2V0TmFtZWRJdGVtKFwiZGF0YS1hbmltYXRpb24tcGF0aFwiKS52YWx1ZTpzLmdldE5hbWVkSXRlbShcImRhdGEtYm0tcGF0aFwiKT9zLmdldE5hbWVkSXRlbShcImRhdGEtYm0tcGF0aFwiKS52YWx1ZTpzLmdldE5hbWVkSXRlbShcImJtLXBhdGhcIik/cy5nZXROYW1lZEl0ZW0oXCJibS1wYXRoXCIpLnZhbHVlOlwiXCIsci5hbmltVHlwZT1zLmdldE5hbWVkSXRlbShcImRhdGEtYW5pbS10eXBlXCIpP3MuZ2V0TmFtZWRJdGVtKFwiZGF0YS1hbmltLXR5cGVcIikudmFsdWU6cy5nZXROYW1lZEl0ZW0oXCJkYXRhLWJtLXR5cGVcIik/cy5nZXROYW1lZEl0ZW0oXCJkYXRhLWJtLXR5cGVcIikudmFsdWU6cy5nZXROYW1lZEl0ZW0oXCJibS10eXBlXCIpP3MuZ2V0TmFtZWRJdGVtKFwiYm0tdHlwZVwiKS52YWx1ZTpzLmdldE5hbWVkSXRlbShcImRhdGEtYm0tcmVuZGVyZXJcIik/cy5nZXROYW1lZEl0ZW0oXCJkYXRhLWJtLXJlbmRlcmVyXCIpLnZhbHVlOnMuZ2V0TmFtZWRJdGVtKFwiYm0tcmVuZGVyZXJcIik/cy5nZXROYW1lZEl0ZW0oXCJibS1yZW5kZXJlclwiKS52YWx1ZTpcImNhbnZhc1wiO3ZhciBpPXMuZ2V0TmFtZWRJdGVtKFwiZGF0YS1hbmltLWxvb3BcIik/cy5nZXROYW1lZEl0ZW0oXCJkYXRhLWFuaW0tbG9vcFwiKS52YWx1ZTpzLmdldE5hbWVkSXRlbShcImRhdGEtYm0tbG9vcFwiKT9zLmdldE5hbWVkSXRlbShcImRhdGEtYm0tbG9vcFwiKS52YWx1ZTpzLmdldE5hbWVkSXRlbShcImJtLWxvb3BcIik/cy5nZXROYW1lZEl0ZW0oXCJibS1sb29wXCIpLnZhbHVlOlwiXCI7XCJcIj09PWl8fChyLmxvb3A9XCJmYWxzZVwiPT09aT8hMTpcInRydWVcIj09PWk/ITA6cGFyc2VJbnQoaSkpO3ZhciBhPXMuZ2V0TmFtZWRJdGVtKFwiZGF0YS1hbmltLWF1dG9wbGF5XCIpP3MuZ2V0TmFtZWRJdGVtKFwiZGF0YS1hbmltLWF1dG9wbGF5XCIpLnZhbHVlOnMuZ2V0TmFtZWRJdGVtKFwiZGF0YS1ibS1hdXRvcGxheVwiKT9zLmdldE5hbWVkSXRlbShcImRhdGEtYm0tYXV0b3BsYXlcIikudmFsdWU6cy5nZXROYW1lZEl0ZW0oXCJibS1hdXRvcGxheVwiKT9zLmdldE5hbWVkSXRlbShcImJtLWF1dG9wbGF5XCIpLnZhbHVlOiEwO3IuYXV0b3BsYXk9XCJmYWxzZVwiIT09YSxyLm5hbWU9cy5nZXROYW1lZEl0ZW0oXCJkYXRhLW5hbWVcIik/cy5nZXROYW1lZEl0ZW0oXCJkYXRhLW5hbWVcIikudmFsdWU6cy5nZXROYW1lZEl0ZW0oXCJkYXRhLWJtLW5hbWVcIik/cy5nZXROYW1lZEl0ZW0oXCJkYXRhLWJtLW5hbWVcIikudmFsdWU6cy5nZXROYW1lZEl0ZW0oXCJibS1uYW1lXCIpP3MuZ2V0TmFtZWRJdGVtKFwiYm0tbmFtZVwiKS52YWx1ZTpcIlwiO3ZhciBuPXMuZ2V0TmFtZWRJdGVtKFwiZGF0YS1hbmltLXByZXJlbmRlclwiKT9zLmdldE5hbWVkSXRlbShcImRhdGEtYW5pbS1wcmVyZW5kZXJcIikudmFsdWU6cy5nZXROYW1lZEl0ZW0oXCJkYXRhLWJtLXByZXJlbmRlclwiKT9zLmdldE5hbWVkSXRlbShcImRhdGEtYm0tcHJlcmVuZGVyXCIpLnZhbHVlOnMuZ2V0TmFtZWRJdGVtKFwiYm0tcHJlcmVuZGVyXCIpP3MuZ2V0TmFtZWRJdGVtKFwiYm0tcHJlcmVuZGVyXCIpLnZhbHVlOlwiXCI7XCJmYWxzZVwiPT09biYmKHIucHJlcmVuZGVyPSExKSx0aGlzLnNldFBhcmFtcyhyKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuaW5jbHVkZUxheWVycz1mdW5jdGlvbih0KXt0Lm9wPnRoaXMuYW5pbWF0aW9uRGF0YS5vcCYmKHRoaXMuYW5pbWF0aW9uRGF0YS5vcD10Lm9wLHRoaXMudG90YWxGcmFtZXM9TWF0aC5mbG9vcih0Lm9wLXRoaXMuYW5pbWF0aW9uRGF0YS5pcCksdGhpcy5hbmltYXRpb25EYXRhLnRmPXRoaXMudG90YWxGcmFtZXMpO3ZhciBlLHIscz10aGlzLmFuaW1hdGlvbkRhdGEubGF5ZXJzLGk9cy5sZW5ndGgsYT10LmxheWVycyxuPWEubGVuZ3RoO2ZvcihyPTA7bj5yO3IrPTEpZm9yKGU9MDtpPmU7KXtpZihzW2VdLmlkPT1hW3JdLmlkKXtzW2VdPWFbcl07YnJlYWt9ZSs9MX1pZigodC5jaGFyc3x8dC5mb250cykmJih0aGlzLnJlbmRlcmVyLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuYWRkQ2hhcnModC5jaGFycyksdGhpcy5yZW5kZXJlci5nbG9iYWxEYXRhLmZvbnRNYW5hZ2VyLmFkZEZvbnRzKHQuZm9udHMsdGhpcy5yZW5kZXJlci5nbG9iYWxEYXRhLmRlZnMpKSx0LmFzc2V0cylmb3IoaT10LmFzc2V0cy5sZW5ndGgsZT0wO2k+ZTtlKz0xKXRoaXMuYW5pbWF0aW9uRGF0YS5hc3NldHMucHVzaCh0LmFzc2V0c1tlXSk7dGhpcy5hbmltYXRpb25EYXRhLl9fY29tcGxldGU9ITEsZGF0YU1hbmFnZXIuY29tcGxldGVEYXRhKHRoaXMuYW5pbWF0aW9uRGF0YSx0aGlzLnJlbmRlcmVyLmdsb2JhbERhdGEuZm9udE1hbmFnZXIpLHRoaXMucmVuZGVyZXIuaW5jbHVkZUxheWVycyh0LmxheWVycyksZXhwcmVzc2lvbnNQbHVnaW4mJmV4cHJlc3Npb25zUGx1Z2luLmluaXRFeHByZXNzaW9ucyh0aGlzKSx0aGlzLnJlbmRlcmVyLnJlbmRlckZyYW1lKG51bGwpLHRoaXMubG9hZE5leHRTZWdtZW50KCl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmxvYWROZXh0U2VnbWVudD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYW5pbWF0aW9uRGF0YS5zZWdtZW50cztpZighdHx8MD09PXQubGVuZ3RofHwhdGhpcy5hdXRvbG9hZFNlZ21lbnRzKXJldHVybiB0aGlzLnRyaWdnZXIoXCJkYXRhX3JlYWR5XCIpLHZvaWQodGhpcy50aW1lQ29tcGxldGVkPXRoaXMuYW5pbWF0aW9uRGF0YS50Zik7dmFyIGU9dC5zaGlmdCgpO3RoaXMudGltZUNvbXBsZXRlZD1lLnRpbWUqdGhpcy5mcmFtZVJhdGU7dmFyIHI9bmV3IFhNTEh0dHBSZXF1ZXN0LHM9dGhpcyxpPXRoaXMucGF0aCt0aGlzLmZpbGVOYW1lK1wiX1wiK3RoaXMuc2VnbWVudFBvcytcIi5qc29uXCI7dGhpcy5zZWdtZW50UG9zKz0xLHIub3BlbihcIkdFVFwiLGksITApLHIuc2VuZCgpLHIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09ci5yZWFkeVN0YXRlKWlmKDIwMD09ci5zdGF0dXMpcy5pbmNsdWRlTGF5ZXJzKEpTT04ucGFyc2Uoci5yZXNwb25zZVRleHQpKTtlbHNlIHRyeXt2YXIgdD1KU09OLnBhcnNlKHIucmVzcG9uc2VUZXh0KTtzLmluY2x1ZGVMYXllcnModCl9Y2F0Y2goZSl7fX19LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmxvYWRTZWdtZW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYW5pbWF0aW9uRGF0YS5zZWdtZW50czt0fHwodGhpcy50aW1lQ29tcGxldGVkPXRoaXMuYW5pbWF0aW9uRGF0YS50ZiksdGhpcy5sb2FkTmV4dFNlZ21lbnQoKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuY29uZmlnQW5pbWF0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5yZW5kZXJlciYmdGhpcy5yZW5kZXJlci5kZXN0cm95ZWR8fCh0aGlzLmFuaW1hdGlvbkRhdGE9dCx0aGlzLnRvdGFsRnJhbWVzPU1hdGguZmxvb3IodGhpcy5hbmltYXRpb25EYXRhLm9wLXRoaXMuYW5pbWF0aW9uRGF0YS5pcCksdGhpcy5hbmltYXRpb25EYXRhLnRmPXRoaXMudG90YWxGcmFtZXMsdGhpcy5yZW5kZXJlci5jb25maWdBbmltYXRpb24odCksdC5hc3NldHN8fCh0LmFzc2V0cz1bXSksdC5jb21wcyYmKHQuYXNzZXRzPXQuYXNzZXRzLmNvbmNhdCh0LmNvbXBzKSx0LmNvbXBzPW51bGwpLHRoaXMucmVuZGVyZXIuc2VhcmNoRXh0cmFDb21wb3NpdGlvbnModC5hc3NldHMpLHRoaXMubGF5ZXJzPXRoaXMuYW5pbWF0aW9uRGF0YS5sYXllcnMsdGhpcy5hc3NldHM9dGhpcy5hbmltYXRpb25EYXRhLmFzc2V0cyx0aGlzLmZyYW1lUmF0ZT10aGlzLmFuaW1hdGlvbkRhdGEuZnIsdGhpcy5maXJzdEZyYW1lPU1hdGgucm91bmQodGhpcy5hbmltYXRpb25EYXRhLmlwKSx0aGlzLmZyYW1lTXVsdD10aGlzLmFuaW1hdGlvbkRhdGEuZnIvMWUzLHRoaXMudHJpZ2dlcihcImNvbmZpZ19yZWFkeVwiKSx0aGlzLmltYWdlUHJlbG9hZGVyPW5ldyBJbWFnZVByZWxvYWRlcix0aGlzLmltYWdlUHJlbG9hZGVyLnNldEFzc2V0c1BhdGgodGhpcy5hc3NldHNQYXRoKSx0aGlzLmltYWdlUHJlbG9hZGVyLnNldFBhdGgodGhpcy5wYXRoKSx0aGlzLmltYWdlUHJlbG9hZGVyLmxvYWRBc3NldHModC5hc3NldHMsZnVuY3Rpb24odCl7dHx8ZS50cmlnZ2VyKFwibG9hZGVkX2ltYWdlc1wiKX0pLHRoaXMubG9hZFNlZ21lbnRzKCksdGhpcy51cGRhRnJhbWVNb2RpZmllcigpLHRoaXMucmVuZGVyZXIuZ2xvYmFsRGF0YS5mb250TWFuYWdlcj90aGlzLndhaXRGb3JGb250c0xvYWRlZCgpOihkYXRhTWFuYWdlci5jb21wbGV0ZURhdGEodGhpcy5hbmltYXRpb25EYXRhLHRoaXMucmVuZGVyZXIuZ2xvYmFsRGF0YS5mb250TWFuYWdlciksdGhpcy5jaGVja0xvYWRlZCgpKSl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLndhaXRGb3JGb250c0xvYWRlZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnJlbmRlcmVyLmdsb2JhbERhdGEuZm9udE1hbmFnZXIubG9hZGVkPyhkYXRhTWFuYWdlci5jb21wbGV0ZURhdGEodGhpcy5hbmltYXRpb25EYXRhLHRoaXMucmVuZGVyZXIuZ2xvYmFsRGF0YS5mb250TWFuYWdlciksdGhpcy5jaGVja0xvYWRlZCgpKTpzZXRUaW1lb3V0KHQuYmluZCh0aGlzKSwyMCl9cmV0dXJuIGZ1bmN0aW9uKCl7dC5iaW5kKHRoaXMpKCl9fSgpLEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmFkZFBlbmRpbmdFbGVtZW50PWZ1bmN0aW9uKCl7dGhpcy5wZW5kaW5nRWxlbWVudHMrPTF9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmVsZW1lbnRMb2FkZWQ9ZnVuY3Rpb24oKXt0aGlzLnBlbmRpbmdFbGVtZW50cy0tLHRoaXMuY2hlY2tMb2FkZWQoKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuY2hlY2tMb2FkZWQ9ZnVuY3Rpb24oKXswPT09dGhpcy5wZW5kaW5nRWxlbWVudHMmJihleHByZXNzaW9uc1BsdWdpbiYmZXhwcmVzc2lvbnNQbHVnaW4uaW5pdEV4cHJlc3Npb25zKHRoaXMpLHRoaXMucmVuZGVyZXIuaW5pdEl0ZW1zKCksc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMudHJpZ2dlcihcIkRPTUxvYWRlZFwiKX0uYmluZCh0aGlzKSwwKSx0aGlzLmlzTG9hZGVkPSEwLHRoaXMuZ290b0ZyYW1lKCksdGhpcy5hdXRvcGxheSYmdGhpcy5wbGF5KCkpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLnVwZGF0ZUNvbnRhaW5lclNpemUoKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuc2V0U3ViZnJhbWU9ZnVuY3Rpb24odCl7dGhpcy5zdWJmcmFtZUVuYWJsZWQ9dD8hMDohMX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuZ290b0ZyYW1lPWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50RnJhbWU9dGhpcy5zdWJmcmFtZUVuYWJsZWQ/dGhpcy5jdXJyZW50UmF3RnJhbWU6TWF0aC5mbG9vcih0aGlzLmN1cnJlbnRSYXdGcmFtZSksdGhpcy50aW1lQ29tcGxldGVkIT09dGhpcy50b3RhbEZyYW1lcyYmdGhpcy5jdXJyZW50RnJhbWU+dGhpcy50aW1lQ29tcGxldGVkJiYodGhpcy5jdXJyZW50RnJhbWU9dGhpcy50aW1lQ29tcGxldGVkKSx0aGlzLnRyaWdnZXIoXCJlbnRlckZyYW1lXCIpLHRoaXMucmVuZGVyRnJhbWUoKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24oKXt0aGlzLmlzTG9hZGVkIT09ITEmJnRoaXMucmVuZGVyZXIucmVuZGVyRnJhbWUodGhpcy5jdXJyZW50RnJhbWUrdGhpcy5maXJzdEZyYW1lKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUucGxheT1mdW5jdGlvbih0KXt0JiZ0aGlzLm5hbWUhPXR8fHRoaXMuaXNQYXVzZWQ9PT0hMCYmKHRoaXMuaXNQYXVzZWQ9ITEsdGhpcy5faWRsZSYmKHRoaXMuX2lkbGU9ITEsdGhpcy50cmlnZ2VyKFwiX2FjdGl2ZVwiKSkpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbih0KXt0JiZ0aGlzLm5hbWUhPXR8fHRoaXMuaXNQYXVzZWQ9PT0hMSYmKHRoaXMuaXNQYXVzZWQ9ITAsdGhpcy5wZW5kaW5nU2VnbWVudHx8KHRoaXMuX2lkbGU9ITAsdGhpcy50cmlnZ2VyKFwiX2lkbGVcIikpKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUudG9nZ2xlUGF1c2U9ZnVuY3Rpb24odCl7dCYmdGhpcy5uYW1lIT10fHwodGhpcy5pc1BhdXNlZD09PSEwP3RoaXMucGxheSgpOnRoaXMucGF1c2UoKSl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24odCl7dCYmdGhpcy5uYW1lIT10fHwodGhpcy5wYXVzZSgpLHRoaXMuY3VycmVudEZyYW1lPXRoaXMuY3VycmVudFJhd0ZyYW1lPTAsdGhpcy5wbGF5Q291bnQ9MCx0aGlzLmdvdG9GcmFtZSgpKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuZ29Ub0FuZFN0b3A9ZnVuY3Rpb24odCxlLHIpe3ImJnRoaXMubmFtZSE9cnx8KHRoaXMuc2V0Q3VycmVudFJhd0ZyYW1lVmFsdWUoZT90OnQqdGhpcy5mcmFtZU1vZGlmaWVyKSx0aGlzLnBhdXNlKCkpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5nb1RvQW5kUGxheT1mdW5jdGlvbih0LGUscil7dGhpcy5nb1RvQW5kU3RvcCh0LGUsciksdGhpcy5wbGF5KCl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmFkdmFuY2VUaW1lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBlbmRpbmdTZWdtZW50Pyh0aGlzLnBlbmRpbmdTZWdtZW50PSExLHRoaXMuYWRqdXN0U2VnbWVudCh0aGlzLnNlZ21lbnRzLnNoaWZ0KCkpLHZvaWQodGhpcy5pc1BhdXNlZCYmdGhpcy5wbGF5KCkpKTp2b2lkKHRoaXMuaXNQYXVzZWQhPT0hMCYmdGhpcy5pc0xvYWRlZCE9PSExJiZ0aGlzLnNldEN1cnJlbnRSYXdGcmFtZVZhbHVlKHRoaXMuY3VycmVudFJhd0ZyYW1lK3QqdGhpcy5mcmFtZU1vZGlmaWVyKSl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLnVwZGF0ZUFuaW1hdGlvbj1mdW5jdGlvbih0KXt0aGlzLnNldEN1cnJlbnRSYXdGcmFtZVZhbHVlKHRoaXMudG90YWxGcmFtZXMqdCl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLm1vdmVGcmFtZT1mdW5jdGlvbih0LGUpe2UmJnRoaXMubmFtZSE9ZXx8dGhpcy5zZXRDdXJyZW50UmF3RnJhbWVWYWx1ZSh0aGlzLmN1cnJlbnRSYXdGcmFtZSt0KX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuYWRqdXN0U2VnbWVudD1mdW5jdGlvbih0KXt0aGlzLnBsYXlDb3VudD0wLHRbMV08dFswXT8odGhpcy5mcmFtZU1vZGlmaWVyPjAmJih0aGlzLnBsYXlTcGVlZDwwP3RoaXMuc2V0U3BlZWQoLXRoaXMucGxheVNwZWVkKTp0aGlzLnNldERpcmVjdGlvbigtMSkpLHRoaXMudG90YWxGcmFtZXM9dFswXS10WzFdLHRoaXMuZmlyc3RGcmFtZT10WzFdLHRoaXMuc2V0Q3VycmVudFJhd0ZyYW1lVmFsdWUodGhpcy50b3RhbEZyYW1lcy0uMDEpKTp0WzFdPnRbMF0mJih0aGlzLmZyYW1lTW9kaWZpZXI8MCYmKHRoaXMucGxheVNwZWVkPDA/dGhpcy5zZXRTcGVlZCgtdGhpcy5wbGF5U3BlZWQpOnRoaXMuc2V0RGlyZWN0aW9uKDEpKSx0aGlzLnRvdGFsRnJhbWVzPXRbMV0tdFswXSx0aGlzLmZpcnN0RnJhbWU9dFswXSx0aGlzLnNldEN1cnJlbnRSYXdGcmFtZVZhbHVlKDApKSx0aGlzLnRyaWdnZXIoXCJzZWdtZW50U3RhcnRcIil9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLnNldFNlZ21lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgcj0tMTt0aGlzLmlzUGF1c2VkJiYodGhpcy5jdXJyZW50UmF3RnJhbWUrdGhpcy5maXJzdEZyYW1lPHQ/cj10OnRoaXMuY3VycmVudFJhd0ZyYW1lK3RoaXMuZmlyc3RGcmFtZT5lJiYocj1lLXQtLjAxKSksdGhpcy5maXJzdEZyYW1lPXQsdGhpcy50b3RhbEZyYW1lcz1lLXQsLTEhPT1yJiZ0aGlzLmdvVG9BbmRTdG9wKHIsITApfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5wbGF5U2VnbWVudHM9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgdFswXSl7dmFyIHIscz10Lmxlbmd0aDtmb3Iocj0wO3M+cjtyKz0xKXRoaXMuc2VnbWVudHMucHVzaCh0W3JdKX1lbHNlIHRoaXMuc2VnbWVudHMucHVzaCh0KTtlJiZ0aGlzLmFkanVzdFNlZ21lbnQodGhpcy5zZWdtZW50cy5zaGlmdCgpKSx0aGlzLmlzUGF1c2VkJiZ0aGlzLnBsYXkoKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUucmVzZXRTZWdtZW50cz1mdW5jdGlvbih0KXt0aGlzLnNlZ21lbnRzLmxlbmd0aD0wLHRoaXMuc2VnbWVudHMucHVzaChbdGhpcy5hbmltYXRpb25EYXRhLmlwKnRoaXMuZnJhbWVSYXRlLE1hdGguZmxvb3IodGhpcy5hbmltYXRpb25EYXRhLm9wLXRoaXMuYW5pbWF0aW9uRGF0YS5pcCt0aGlzLmFuaW1hdGlvbkRhdGEuaXAqdGhpcy5mcmFtZVJhdGUpXSksdCYmdGhpcy5hZGp1c3RTZWdtZW50KHRoaXMuc2VnbWVudHMuc2hpZnQoKSl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmNoZWNrU2VnbWVudHM9ZnVuY3Rpb24oKXt0aGlzLnNlZ21lbnRzLmxlbmd0aCYmKHRoaXMucGVuZGluZ1NlZ21lbnQ9ITApfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dCYmdGhpcy5uYW1lIT10fHx0aGlzLnJlbmRlcmVyLmRlc3Ryb3koKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbih0KXt0JiZ0aGlzLm5hbWUhPXR8fHRoaXMucmVuZGVyZXImJnRoaXMucmVuZGVyZXIuZGVzdHJveWVkfHwodGhpcy5yZW5kZXJlci5kZXN0cm95KCksdGhpcy50cmlnZ2VyKFwiZGVzdHJveVwiKSx0aGlzLl9jYnM9bnVsbCx0aGlzLm9uRW50ZXJGcmFtZT10aGlzLm9uTG9vcENvbXBsZXRlPXRoaXMub25Db21wbGV0ZT10aGlzLm9uU2VnbWVudFN0YXJ0PXRoaXMub25EZXN0cm95PW51bGwpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5zZXRDdXJyZW50UmF3RnJhbWVWYWx1ZT1mdW5jdGlvbih0KXtpZih0aGlzLmN1cnJlbnRSYXdGcmFtZT10LHRoaXMuY3VycmVudFJhd0ZyYW1lPj10aGlzLnRvdGFsRnJhbWVzKXtpZih0aGlzLmNoZWNrU2VnbWVudHMoKSx0aGlzLmxvb3A9PT0hMSlyZXR1cm4gdGhpcy5jdXJyZW50UmF3RnJhbWU9dGhpcy50b3RhbEZyYW1lcy0uMDEsdGhpcy5nb3RvRnJhbWUoKSx0aGlzLnBhdXNlKCksdm9pZCB0aGlzLnRyaWdnZXIoXCJjb21wbGV0ZVwiKTtpZih0aGlzLnRyaWdnZXIoXCJsb29wQ29tcGxldGVcIiksdGhpcy5wbGF5Q291bnQrPTEsdGhpcy5sb29wIT09ITAmJnRoaXMucGxheUNvdW50PT10aGlzLmxvb3B8fHRoaXMucGVuZGluZ1NlZ21lbnQpcmV0dXJuIHRoaXMuY3VycmVudFJhd0ZyYW1lPXRoaXMudG90YWxGcmFtZXMtLjAxLHRoaXMuZ290b0ZyYW1lKCksdGhpcy5wYXVzZSgpLHZvaWQgdGhpcy50cmlnZ2VyKFwiY29tcGxldGVcIik7dGhpcy5jdXJyZW50UmF3RnJhbWU9dGhpcy5jdXJyZW50UmF3RnJhbWUldGhpcy50b3RhbEZyYW1lc31lbHNlIGlmKHRoaXMuY3VycmVudFJhd0ZyYW1lPDApcmV0dXJuIHRoaXMuY2hlY2tTZWdtZW50cygpLHRoaXMucGxheUNvdW50LT0xLHRoaXMucGxheUNvdW50PDAmJih0aGlzLnBsYXlDb3VudD0wKSx0aGlzLmxvb3A9PT0hMXx8dGhpcy5wZW5kaW5nU2VnbWVudD8odGhpcy5jdXJyZW50UmF3RnJhbWU9MCx0aGlzLmdvdG9GcmFtZSgpLHRoaXMucGF1c2UoKSx2b2lkIHRoaXMudHJpZ2dlcihcImNvbXBsZXRlXCIpKToodGhpcy50cmlnZ2VyKFwibG9vcENvbXBsZXRlXCIpLHRoaXMuY3VycmVudFJhd0ZyYW1lPSh0aGlzLnRvdGFsRnJhbWVzK3RoaXMuY3VycmVudFJhd0ZyYW1lKSV0aGlzLnRvdGFsRnJhbWVzLHZvaWQgdGhpcy5nb3RvRnJhbWUoKSk7dGhpcy5nb3RvRnJhbWUoKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuc2V0U3BlZWQ9ZnVuY3Rpb24odCl7dGhpcy5wbGF5U3BlZWQ9dCx0aGlzLnVwZGFGcmFtZU1vZGlmaWVyKCl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLnNldERpcmVjdGlvbj1mdW5jdGlvbih0KXt0aGlzLnBsYXlEaXJlY3Rpb249MD50Py0xOjEsdGhpcy51cGRhRnJhbWVNb2RpZmllcigpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS51cGRhRnJhbWVNb2RpZmllcj1mdW5jdGlvbigpe3RoaXMuZnJhbWVNb2RpZmllcj10aGlzLmZyYW1lTXVsdCp0aGlzLnBsYXlTcGVlZCp0aGlzLnBsYXlEaXJlY3Rpb259LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmdldFBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRofSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5nZXRBc3NldHNQYXRoPWZ1bmN0aW9uKHQpe3ZhciBlPVwiXCI7aWYodGhpcy5hc3NldHNQYXRoKXt2YXIgcj10LnA7LTEhPT1yLmluZGV4T2YoXCJpbWFnZXMvXCIpJiYocj1yLnNwbGl0KFwiL1wiKVsxXSksZT10aGlzLmFzc2V0c1BhdGgrcn1lbHNlIGU9dGhpcy5wYXRoLGUrPXQudT90LnU6XCJcIixlKz10LnA7cmV0dXJuIGV9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmdldEFzc2V0RGF0YT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPXRoaXMuYXNzZXRzLmxlbmd0aDtyPmU7KXtpZih0PT10aGlzLmFzc2V0c1tlXS5pZClyZXR1cm4gdGhpcy5hc3NldHNbZV07ZSs9MX19LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLmhpZGUoKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3RoaXMucmVuZGVyZXIuc2hvdygpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5nZXRBc3NldHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hc3NldHN9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLnRyaWdnZXI9ZnVuY3Rpb24odCl7aWYodGhpcy5fY2JzJiZ0aGlzLl9jYnNbdF0pc3dpdGNoKHQpe2Nhc2VcImVudGVyRnJhbWVcIjp0aGlzLnRyaWdnZXJFdmVudCh0LG5ldyBCTUVudGVyRnJhbWVFdmVudCh0LHRoaXMuY3VycmVudEZyYW1lLHRoaXMudG90YWxGcmFtZXMsdGhpcy5mcmFtZU11bHQpKTticmVhaztjYXNlXCJsb29wQ29tcGxldGVcIjp0aGlzLnRyaWdnZXJFdmVudCh0LG5ldyBCTUNvbXBsZXRlTG9vcEV2ZW50KHQsdGhpcy5sb29wLHRoaXMucGxheUNvdW50LHRoaXMuZnJhbWVNdWx0KSk7YnJlYWs7Y2FzZVwiY29tcGxldGVcIjp0aGlzLnRyaWdnZXJFdmVudCh0LG5ldyBCTUNvbXBsZXRlRXZlbnQodCx0aGlzLmZyYW1lTXVsdCkpO2JyZWFrO2Nhc2VcInNlZ21lbnRTdGFydFwiOnRoaXMudHJpZ2dlckV2ZW50KHQsbmV3IEJNU2VnbWVudFN0YXJ0RXZlbnQodCx0aGlzLmZpcnN0RnJhbWUsdGhpcy50b3RhbEZyYW1lcykpO2JyZWFrO2Nhc2VcImRlc3Ryb3lcIjp0aGlzLnRyaWdnZXJFdmVudCh0LG5ldyBCTURlc3Ryb3lFdmVudCh0LHRoaXMpKTticmVhaztkZWZhdWx0OnRoaXMudHJpZ2dlckV2ZW50KHQpfVwiZW50ZXJGcmFtZVwiPT09dCYmdGhpcy5vbkVudGVyRnJhbWUmJnRoaXMub25FbnRlckZyYW1lLmNhbGwodGhpcyxuZXcgQk1FbnRlckZyYW1lRXZlbnQodCx0aGlzLmN1cnJlbnRGcmFtZSx0aGlzLnRvdGFsRnJhbWVzLHRoaXMuZnJhbWVNdWx0KSksXG5cImxvb3BDb21wbGV0ZVwiPT09dCYmdGhpcy5vbkxvb3BDb21wbGV0ZSYmdGhpcy5vbkxvb3BDb21wbGV0ZS5jYWxsKHRoaXMsbmV3IEJNQ29tcGxldGVMb29wRXZlbnQodCx0aGlzLmxvb3AsdGhpcy5wbGF5Q291bnQsdGhpcy5mcmFtZU11bHQpKSxcImNvbXBsZXRlXCI9PT10JiZ0aGlzLm9uQ29tcGxldGUmJnRoaXMub25Db21wbGV0ZS5jYWxsKHRoaXMsbmV3IEJNQ29tcGxldGVFdmVudCh0LHRoaXMuZnJhbWVNdWx0KSksXCJzZWdtZW50U3RhcnRcIj09PXQmJnRoaXMub25TZWdtZW50U3RhcnQmJnRoaXMub25TZWdtZW50U3RhcnQuY2FsbCh0aGlzLG5ldyBCTVNlZ21lbnRTdGFydEV2ZW50KHQsdGhpcy5maXJzdEZyYW1lLHRoaXMudG90YWxGcmFtZXMpKSxcImRlc3Ryb3lcIj09PXQmJnRoaXMub25EZXN0cm95JiZ0aGlzLm9uRGVzdHJveS5jYWxsKHRoaXMsbmV3IEJNRGVzdHJveUV2ZW50KHQsdGhpcykpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPV9hZGRFdmVudExpc3RlbmVyLEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXI9X3JlbW92ZUV2ZW50TGlzdGVuZXIsQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUudHJpZ2dlckV2ZW50PV90cmlnZ2VyRXZlbnQsZXh0ZW5kUHJvdG90eXBlKEJhc2VSZW5kZXJlcixDYW52YXNSZW5kZXJlciksQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUJhc2U9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBDVkJhc2VFbGVtZW50KHQsdGhpcyx0aGlzLmdsb2JhbERhdGEpfSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlU2hhcGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBDVlNoYXBlRWxlbWVudCh0LHRoaXMsdGhpcy5nbG9iYWxEYXRhKX0sQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVRleHQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBDVlRleHRFbGVtZW50KHQsdGhpcyx0aGlzLmdsb2JhbERhdGEpfSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlSW1hZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBDVkltYWdlRWxlbWVudCh0LHRoaXMsdGhpcy5nbG9iYWxEYXRhKX0sQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUNvbXA9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBDVkNvbXBFbGVtZW50KHQsdGhpcyx0aGlzLmdsb2JhbERhdGEpfSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlU29saWQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBDVlNvbGlkRWxlbWVudCh0LHRoaXMsdGhpcy5nbG9iYWxEYXRhKX0sQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmN0eFRyYW5zZm9ybT1mdW5jdGlvbih0KXtpZigxIT09dFswXXx8MCE9PXRbMV18fDAhPT10WzRdfHwxIT09dFs1XXx8MCE9PXRbMTJdfHwwIT09dFsxM10pe2lmKCF0aGlzLnJlbmRlckNvbmZpZy5jbGVhckNhbnZhcylyZXR1cm4gdm9pZCB0aGlzLmNhbnZhc0NvbnRleHQudHJhbnNmb3JtKHRbMF0sdFsxXSx0WzRdLHRbNV0sdFsxMl0sdFsxM10pO3RoaXMudHJhbnNmb3JtTWF0LmNsb25lRnJvbVByb3BzKHQpLHRoaXMudHJhbnNmb3JtTWF0LnRyYW5zZm9ybSh0aGlzLmNvbnRleHREYXRhLmNUci5wcm9wc1swXSx0aGlzLmNvbnRleHREYXRhLmNUci5wcm9wc1sxXSx0aGlzLmNvbnRleHREYXRhLmNUci5wcm9wc1syXSx0aGlzLmNvbnRleHREYXRhLmNUci5wcm9wc1szXSx0aGlzLmNvbnRleHREYXRhLmNUci5wcm9wc1s0XSx0aGlzLmNvbnRleHREYXRhLmNUci5wcm9wc1s1XSx0aGlzLmNvbnRleHREYXRhLmNUci5wcm9wc1s2XSx0aGlzLmNvbnRleHREYXRhLmNUci5wcm9wc1s3XSx0aGlzLmNvbnRleHREYXRhLmNUci5wcm9wc1s4XSx0aGlzLmNvbnRleHREYXRhLmNUci5wcm9wc1s5XSx0aGlzLmNvbnRleHREYXRhLmNUci5wcm9wc1sxMF0sdGhpcy5jb250ZXh0RGF0YS5jVHIucHJvcHNbMTFdLHRoaXMuY29udGV4dERhdGEuY1RyLnByb3BzWzEyXSx0aGlzLmNvbnRleHREYXRhLmNUci5wcm9wc1sxM10sdGhpcy5jb250ZXh0RGF0YS5jVHIucHJvcHNbMTRdLHRoaXMuY29udGV4dERhdGEuY1RyLnByb3BzWzE1XSksdGhpcy5jb250ZXh0RGF0YS5jVHIuY2xvbmVGcm9tUHJvcHModGhpcy50cmFuc2Zvcm1NYXQucHJvcHMpO3ZhciBlPXRoaXMuY29udGV4dERhdGEuY1RyLnByb3BzO3RoaXMuY2FudmFzQ29udGV4dC5zZXRUcmFuc2Zvcm0oZVswXSxlWzFdLGVbNF0sZVs1XSxlWzEyXSxlWzEzXSl9fSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY3R4T3BhY2l0eT1mdW5jdGlvbih0KXtpZigxIT09dCl7aWYoIXRoaXMucmVuZGVyQ29uZmlnLmNsZWFyQ2FudmFzKXJldHVybiB2b2lkKHRoaXMuY2FudmFzQ29udGV4dC5nbG9iYWxBbHBoYSo9MD50PzA6dCk7dGhpcy5jb250ZXh0RGF0YS5jTyo9MD50PzA6dCx0aGlzLmNhbnZhc0NvbnRleHQuZ2xvYmFsQWxwaGE9dGhpcy5jb250ZXh0RGF0YS5jT319LENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbmRlckNvbmZpZy5jbGVhckNhbnZhcz8odGhpcy5jb250ZXh0RGF0YS5jQXJyUG9zPTAsdGhpcy5jb250ZXh0RGF0YS5jVHIucmVzZXQoKSx2b2lkKHRoaXMuY29udGV4dERhdGEuY089MSkpOnZvaWQgdGhpcy5jYW52YXNDb250ZXh0LnJlc3RvcmUoKX0sQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24odCl7aWYoIXRoaXMucmVuZGVyQ29uZmlnLmNsZWFyQ2FudmFzKXJldHVybiB2b2lkIHRoaXMuY2FudmFzQ29udGV4dC5zYXZlKCk7dCYmdGhpcy5jYW52YXNDb250ZXh0LnNhdmUoKTt2YXIgZT10aGlzLmNvbnRleHREYXRhLmNUci5wcm9wczsobnVsbD09PXRoaXMuY29udGV4dERhdGEuc2F2ZWRbdGhpcy5jb250ZXh0RGF0YS5jQXJyUG9zXXx8dm9pZCAwPT09dGhpcy5jb250ZXh0RGF0YS5zYXZlZFt0aGlzLmNvbnRleHREYXRhLmNBcnJQb3NdKSYmKHRoaXMuY29udGV4dERhdGEuc2F2ZWRbdGhpcy5jb250ZXh0RGF0YS5jQXJyUG9zXT1uZXcgQXJyYXkoMTYpKTt2YXIgcixzPXRoaXMuY29udGV4dERhdGEuc2F2ZWRbdGhpcy5jb250ZXh0RGF0YS5jQXJyUG9zXTtmb3Iocj0wOzE2PnI7cis9MSlzW3JdPWVbcl07dGhpcy5jb250ZXh0RGF0YS5zYXZlZE9wW3RoaXMuY29udGV4dERhdGEuY0FyclBvc109dGhpcy5jb250ZXh0RGF0YS5jTyx0aGlzLmNvbnRleHREYXRhLmNBcnJQb3MrPTF9LENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZXN0b3JlPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLnJlbmRlckNvbmZpZy5jbGVhckNhbnZhcylyZXR1cm4gdm9pZCB0aGlzLmNhbnZhc0NvbnRleHQucmVzdG9yZSgpO3QmJnRoaXMuY2FudmFzQ29udGV4dC5yZXN0b3JlKCksdGhpcy5jb250ZXh0RGF0YS5jQXJyUG9zLT0xO3ZhciBlLHI9dGhpcy5jb250ZXh0RGF0YS5zYXZlZFt0aGlzLmNvbnRleHREYXRhLmNBcnJQb3NdLHM9dGhpcy5jb250ZXh0RGF0YS5jVHIucHJvcHM7Zm9yKGU9MDsxNj5lO2UrPTEpc1tlXT1yW2VdO3RoaXMuY2FudmFzQ29udGV4dC5zZXRUcmFuc2Zvcm0oclswXSxyWzFdLHJbNF0scls1XSxyWzEyXSxyWzEzXSkscj10aGlzLmNvbnRleHREYXRhLnNhdmVkT3BbdGhpcy5jb250ZXh0RGF0YS5jQXJyUG9zXSx0aGlzLmNvbnRleHREYXRhLmNPPXIsdGhpcy5jYW52YXNDb250ZXh0Lmdsb2JhbEFscGhhPXJ9LENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5jb25maWdBbmltYXRpb249ZnVuY3Rpb24odCl7dGhpcy5hbmltYXRpb25JdGVtLndyYXBwZXI/KHRoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx0aGlzLmFuaW1hdGlvbkl0ZW0uY29udGFpbmVyLnN0eWxlLndpZHRoPVwiMTAwJVwiLHRoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXIuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiLHRoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXIuc3R5bGUudHJhbnNmb3JtT3JpZ2luPXRoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXIuc3R5bGUubW96VHJhbnNmb3JtT3JpZ2luPXRoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXIuc3R5bGUud2Via2l0VHJhbnNmb3JtT3JpZ2luPXRoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXIuc3R5bGVbXCItd2Via2l0LXRyYW5zZm9ybVwiXT1cIjBweCAwcHggMHB4XCIsdGhpcy5hbmltYXRpb25JdGVtLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5hbmltYXRpb25JdGVtLmNvbnRhaW5lciksdGhpcy5jYW52YXNDb250ZXh0PXRoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXIuZ2V0Q29udGV4dChcIjJkXCIpLHRoaXMucmVuZGVyQ29uZmlnLmNsYXNzTmFtZSYmdGhpcy5hbmltYXRpb25JdGVtLmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLHRoaXMucmVuZGVyQ29uZmlnLmNsYXNzTmFtZSkpOnRoaXMuY2FudmFzQ29udGV4dD10aGlzLnJlbmRlckNvbmZpZy5jb250ZXh0LHRoaXMuZGF0YT10LHRoaXMuZ2xvYmFsRGF0YS5jYW52YXNDb250ZXh0PXRoaXMuY2FudmFzQ29udGV4dCx0aGlzLmdsb2JhbERhdGEucmVuZGVyZXI9dGhpcyx0aGlzLmdsb2JhbERhdGEuaXNEYXNoZWQ9ITEsdGhpcy5nbG9iYWxEYXRhLnRvdGFsRnJhbWVzPU1hdGguZmxvb3IodC50ZiksdGhpcy5nbG9iYWxEYXRhLmNvbXBXaWR0aD10LncsdGhpcy5nbG9iYWxEYXRhLmNvbXBIZWlnaHQ9dC5oLHRoaXMuZ2xvYmFsRGF0YS5mcmFtZVJhdGU9dC5mcix0aGlzLmdsb2JhbERhdGEuZnJhbWVJZD0wLHRoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZT17dzp0LncsaDp0Lmh9LHRoaXMuZ2xvYmFsRGF0YS5wcm9ncmVzc2l2ZUxvYWQ9dGhpcy5yZW5kZXJDb25maWcucHJvZ3Jlc3NpdmVMb2FkLHRoaXMubGF5ZXJzPXQubGF5ZXJzLHRoaXMudHJhbnNmb3JtQ2FudmFzPXt9LHRoaXMudHJhbnNmb3JtQ2FudmFzLnc9dC53LHRoaXMudHJhbnNmb3JtQ2FudmFzLmg9dC5oLHRoaXMuZ2xvYmFsRGF0YS5mb250TWFuYWdlcj1uZXcgRm9udE1hbmFnZXIsdGhpcy5nbG9iYWxEYXRhLmZvbnRNYW5hZ2VyLmFkZENoYXJzKHQuY2hhcnMpLHRoaXMuZ2xvYmFsRGF0YS5mb250TWFuYWdlci5hZGRGb250cyh0LmZvbnRzLGRvY3VtZW50LmJvZHkpLHRoaXMuZ2xvYmFsRGF0YS5nZXRBc3NldERhdGE9dGhpcy5hbmltYXRpb25JdGVtLmdldEFzc2V0RGF0YS5iaW5kKHRoaXMuYW5pbWF0aW9uSXRlbSksdGhpcy5nbG9iYWxEYXRhLmdldEFzc2V0c1BhdGg9dGhpcy5hbmltYXRpb25JdGVtLmdldEFzc2V0c1BhdGguYmluZCh0aGlzLmFuaW1hdGlvbkl0ZW0pLHRoaXMuZ2xvYmFsRGF0YS5lbGVtZW50TG9hZGVkPXRoaXMuYW5pbWF0aW9uSXRlbS5lbGVtZW50TG9hZGVkLmJpbmQodGhpcy5hbmltYXRpb25JdGVtKSx0aGlzLmdsb2JhbERhdGEuYWRkUGVuZGluZ0VsZW1lbnQ9dGhpcy5hbmltYXRpb25JdGVtLmFkZFBlbmRpbmdFbGVtZW50LmJpbmQodGhpcy5hbmltYXRpb25JdGVtKSx0aGlzLmdsb2JhbERhdGEudHJhbnNmb3JtQ2FudmFzPXRoaXMudHJhbnNmb3JtQ2FudmFzLHRoaXMuZWxlbWVudHM9QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOnQubGF5ZXJzLmxlbmd0aH0pLHRoaXMudXBkYXRlQ29udGFpbmVyU2l6ZSgpfSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUudXBkYXRlQ29udGFpbmVyU2l6ZT1mdW5jdGlvbigpe3ZhciB0LGU7dGhpcy5hbmltYXRpb25JdGVtLndyYXBwZXImJnRoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXI/KHQ9dGhpcy5hbmltYXRpb25JdGVtLndyYXBwZXIub2Zmc2V0V2lkdGgsZT10aGlzLmFuaW1hdGlvbkl0ZW0ud3JhcHBlci5vZmZzZXRIZWlnaHQsdGhpcy5hbmltYXRpb25JdGVtLmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLHQqdGhpcy5yZW5kZXJDb25maWcuZHByKSx0aGlzLmFuaW1hdGlvbkl0ZW0uY29udGFpbmVyLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLGUqdGhpcy5yZW5kZXJDb25maWcuZHByKSk6KHQ9dGhpcy5jYW52YXNDb250ZXh0LmNhbnZhcy53aWR0aCp0aGlzLnJlbmRlckNvbmZpZy5kcHIsZT10aGlzLmNhbnZhc0NvbnRleHQuY2FudmFzLmhlaWdodCp0aGlzLnJlbmRlckNvbmZpZy5kcHIpO3ZhciByLHM7aWYoLTEhPT10aGlzLnJlbmRlckNvbmZpZy5wcmVzZXJ2ZUFzcGVjdFJhdGlvLmluZGV4T2YoXCJtZWV0XCIpfHwtMSE9PXRoaXMucmVuZGVyQ29uZmlnLnByZXNlcnZlQXNwZWN0UmF0aW8uaW5kZXhPZihcInNsaWNlXCIpKXt2YXIgaT10aGlzLnJlbmRlckNvbmZpZy5wcmVzZXJ2ZUFzcGVjdFJhdGlvLnNwbGl0KFwiIFwiKSxhPWlbMV18fFwibWVldFwiLG49aVswXXx8XCJ4TWlkWU1pZFwiLG89bi5zdWJzdHIoMCw0KSxoPW4uc3Vic3RyKDQpO3I9dC9lLHM9dGhpcy50cmFuc2Zvcm1DYW52YXMudy90aGlzLnRyYW5zZm9ybUNhbnZhcy5oLHM+ciYmXCJtZWV0XCI9PT1hfHxyPnMmJlwic2xpY2VcIj09PWE/KHRoaXMudHJhbnNmb3JtQ2FudmFzLnN4PXQvKHRoaXMudHJhbnNmb3JtQ2FudmFzLncvdGhpcy5yZW5kZXJDb25maWcuZHByKSx0aGlzLnRyYW5zZm9ybUNhbnZhcy5zeT10Lyh0aGlzLnRyYW5zZm9ybUNhbnZhcy53L3RoaXMucmVuZGVyQ29uZmlnLmRwcikpOih0aGlzLnRyYW5zZm9ybUNhbnZhcy5zeD1lLyh0aGlzLnRyYW5zZm9ybUNhbnZhcy5oL3RoaXMucmVuZGVyQ29uZmlnLmRwciksdGhpcy50cmFuc2Zvcm1DYW52YXMuc3k9ZS8odGhpcy50cmFuc2Zvcm1DYW52YXMuaC90aGlzLnJlbmRlckNvbmZpZy5kcHIpKSx0aGlzLnRyYW5zZm9ybUNhbnZhcy50eD1cInhNaWRcIj09PW8mJihyPnMmJlwibWVldFwiPT09YXx8cz5yJiZcInNsaWNlXCI9PT1hKT8odC10aGlzLnRyYW5zZm9ybUNhbnZhcy53KihlL3RoaXMudHJhbnNmb3JtQ2FudmFzLmgpKS8yKnRoaXMucmVuZGVyQ29uZmlnLmRwcjpcInhNYXhcIj09PW8mJihyPnMmJlwibWVldFwiPT09YXx8cz5yJiZcInNsaWNlXCI9PT1hKT8odC10aGlzLnRyYW5zZm9ybUNhbnZhcy53KihlL3RoaXMudHJhbnNmb3JtQ2FudmFzLmgpKSp0aGlzLnJlbmRlckNvbmZpZy5kcHI6MCx0aGlzLnRyYW5zZm9ybUNhbnZhcy50eT1cIllNaWRcIj09PWgmJihzPnImJlwibWVldFwiPT09YXx8cj5zJiZcInNsaWNlXCI9PT1hKT8oZS10aGlzLnRyYW5zZm9ybUNhbnZhcy5oKih0L3RoaXMudHJhbnNmb3JtQ2FudmFzLncpKS8yKnRoaXMucmVuZGVyQ29uZmlnLmRwcjpcIllNYXhcIj09PWgmJihzPnImJlwibWVldFwiPT09YXx8cj5zJiZcInNsaWNlXCI9PT1hKT8oZS10aGlzLnRyYW5zZm9ybUNhbnZhcy5oKih0L3RoaXMudHJhbnNmb3JtQ2FudmFzLncpKSp0aGlzLnJlbmRlckNvbmZpZy5kcHI6MH1lbHNlXCJub25lXCI9PXRoaXMucmVuZGVyQ29uZmlnLnByZXNlcnZlQXNwZWN0UmF0aW8/KHRoaXMudHJhbnNmb3JtQ2FudmFzLnN4PXQvKHRoaXMudHJhbnNmb3JtQ2FudmFzLncvdGhpcy5yZW5kZXJDb25maWcuZHByKSx0aGlzLnRyYW5zZm9ybUNhbnZhcy5zeT1lLyh0aGlzLnRyYW5zZm9ybUNhbnZhcy5oL3RoaXMucmVuZGVyQ29uZmlnLmRwciksdGhpcy50cmFuc2Zvcm1DYW52YXMudHg9MCx0aGlzLnRyYW5zZm9ybUNhbnZhcy50eT0wKToodGhpcy50cmFuc2Zvcm1DYW52YXMuc3g9dGhpcy5yZW5kZXJDb25maWcuZHByLHRoaXMudHJhbnNmb3JtQ2FudmFzLnN5PXRoaXMucmVuZGVyQ29uZmlnLmRwcix0aGlzLnRyYW5zZm9ybUNhbnZhcy50eD0wLHRoaXMudHJhbnNmb3JtQ2FudmFzLnR5PTApO3RoaXMudHJhbnNmb3JtQ2FudmFzLnByb3BzPVt0aGlzLnRyYW5zZm9ybUNhbnZhcy5zeCwwLDAsMCwwLHRoaXMudHJhbnNmb3JtQ2FudmFzLnN5LDAsMCwwLDAsMSwwLHRoaXMudHJhbnNmb3JtQ2FudmFzLnR4LHRoaXMudHJhbnNmb3JtQ2FudmFzLnR5LDAsMV07dmFyIGwscD10aGlzLmVsZW1lbnRzLmxlbmd0aDtmb3IobD0wO3A+bDtsKz0xKXRoaXMuZWxlbWVudHNbbF0mJjA9PT10aGlzLmVsZW1lbnRzW2xdLmRhdGEudHkmJnRoaXMuZWxlbWVudHNbbF0ucmVzaXplKHRoaXMuZ2xvYmFsRGF0YS50cmFuc2Zvcm1DYW52YXMpfSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMucmVuZGVyQ29uZmlnLmNsZWFyQ2FudmFzJiYodGhpcy5hbmltYXRpb25JdGVtLndyYXBwZXIuaW5uZXJIVE1MPVwiXCIpO3ZhciB0LGU9dGhpcy5sYXllcnM/dGhpcy5sYXllcnMubGVuZ3RoOjA7Zm9yKHQ9ZS0xO3Q+PTA7dC09MSl0aGlzLmVsZW1lbnRzW3RdJiZ0aGlzLmVsZW1lbnRzW3RdLmRlc3Ryb3koKTt0aGlzLmVsZW1lbnRzLmxlbmd0aD0wLHRoaXMuZ2xvYmFsRGF0YS5jYW52YXNDb250ZXh0PW51bGwsdGhpcy5hbmltYXRpb25JdGVtLmNvbnRhaW5lcj1udWxsLHRoaXMuZGVzdHJveWVkPSEwfSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7aWYoISh0aGlzLnJlbmRlcmVkRnJhbWU9PXQmJnRoaXMucmVuZGVyQ29uZmlnLmNsZWFyQ2FudmFzPT09ITB8fHRoaXMuZGVzdHJveWVkfHxudWxsPT09dCkpe3RoaXMucmVuZGVyZWRGcmFtZT10LHRoaXMuZ2xvYmFsRGF0YS5mcmFtZU51bT10LXRoaXMuYW5pbWF0aW9uSXRlbS5maXJzdEZyYW1lLHRoaXMuZ2xvYmFsRGF0YS5mcmFtZUlkKz0xLHRoaXMuZ2xvYmFsRGF0YS5wcm9qZWN0SW50ZXJmYWNlLmN1cnJlbnRGcmFtZT10LHRoaXMucmVuZGVyQ29uZmlnLmNsZWFyQ2FudmFzPT09ITA/KHRoaXMucmVzZXQoKSx0aGlzLmNhbnZhc0NvbnRleHQuc2F2ZSgpLHRoaXMuY2FudmFzQ29udGV4dC5jbGVhclJlY3QodGhpcy50cmFuc2Zvcm1DYW52YXMudHgsdGhpcy50cmFuc2Zvcm1DYW52YXMudHksdGhpcy50cmFuc2Zvcm1DYW52YXMudyp0aGlzLnRyYW5zZm9ybUNhbnZhcy5zeCx0aGlzLnRyYW5zZm9ybUNhbnZhcy5oKnRoaXMudHJhbnNmb3JtQ2FudmFzLnN5KSk6dGhpcy5zYXZlKCksdGhpcy5jdHhUcmFuc2Zvcm0odGhpcy50cmFuc2Zvcm1DYW52YXMucHJvcHMpLHRoaXMuY2FudmFzQ29udGV4dC5iZWdpblBhdGgoKSx0aGlzLmNhbnZhc0NvbnRleHQucmVjdCgwLDAsdGhpcy50cmFuc2Zvcm1DYW52YXMudyx0aGlzLnRyYW5zZm9ybUNhbnZhcy5oKSx0aGlzLmNhbnZhc0NvbnRleHQuY2xvc2VQYXRoKCksdGhpcy5jYW52YXNDb250ZXh0LmNsaXAoKTt2YXIgZSxyPXRoaXMubGF5ZXJzLmxlbmd0aDtmb3IodGhpcy5jb21wbGV0ZUxheWVyc3x8dGhpcy5jaGVja0xheWVycyh0KSxlPTA7cj5lO2UrKykodGhpcy5jb21wbGV0ZUxheWVyc3x8dGhpcy5lbGVtZW50c1tlXSkmJnRoaXMuZWxlbWVudHNbZV0ucHJlcGFyZUZyYW1lKHQtdGhpcy5sYXllcnNbZV0uc3QpO2ZvcihlPXItMTtlPj0wO2UtPTEpKHRoaXMuY29tcGxldGVMYXllcnN8fHRoaXMuZWxlbWVudHNbZV0pJiZ0aGlzLmVsZW1lbnRzW2VdLnJlbmRlckZyYW1lKCk7dGhpcy5yZW5kZXJDb25maWcuY2xlYXJDYW52YXMhPT0hMD90aGlzLnJlc3RvcmUoKTp0aGlzLmNhbnZhc0NvbnRleHQucmVzdG9yZSgpfX0sQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkSXRlbT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmVsZW1lbnRzO2lmKCFlW3RdJiY5OSE9dGhpcy5sYXllcnNbdF0udHkpe3ZhciByPXRoaXMuY3JlYXRlSXRlbSh0aGlzLmxheWVyc1t0XSx0aGlzLHRoaXMuZ2xvYmFsRGF0YSk7ZVt0XT1yLHIuaW5pdEV4cHJlc3Npb25zKCksMD09PXRoaXMubGF5ZXJzW3RdLnR5JiZyLnJlc2l6ZSh0aGlzLmdsb2JhbERhdGEudHJhbnNmb3JtQ2FudmFzKX19LENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5jaGVja1BlbmRpbmdFbGVtZW50cz1mdW5jdGlvbigpe2Zvcig7dGhpcy5wZW5kaW5nRWxlbWVudHMubGVuZ3RoOyl7dmFyIHQ9dGhpcy5wZW5kaW5nRWxlbWVudHMucG9wKCk7dC5jaGVja1BhcmVudGluZygpfX0sQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLmFuaW1hdGlvbkl0ZW0uY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9LENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dGhpcy5hbmltYXRpb25JdGVtLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIn0sQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnNlYXJjaEV4dHJhQ29tcG9zaXRpb25zPWZ1bmN0aW9uKHQpe3t2YXIgZSxyPXQubGVuZ3RoO2RvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImdcIil9Zm9yKGU9MDtyPmU7ZSs9MSlpZih0W2VdLnh0KXt2YXIgcz10aGlzLmNyZWF0ZUNvbXAodFtlXSx0aGlzLmdsb2JhbERhdGEuY29tcCx0aGlzLmdsb2JhbERhdGEpO3MuaW5pdEV4cHJlc3Npb25zKCksdGhpcy5nbG9iYWxEYXRhLnByb2plY3RJbnRlcmZhY2UucmVnaXN0ZXJDb21wb3NpdGlvbihzKX19LGV4dGVuZFByb3RvdHlwZShCYXNlUmVuZGVyZXIsSHlicmlkUmVuZGVyZXIpLEh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5idWlsZEl0ZW09U1ZHUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkSXRlbSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuY2hlY2tQZW5kaW5nRWxlbWVudHM9ZnVuY3Rpb24oKXtmb3IoO3RoaXMucGVuZGluZ0VsZW1lbnRzLmxlbmd0aDspe3ZhciB0PXRoaXMucGVuZGluZ0VsZW1lbnRzLnBvcCgpO3QuY2hlY2tQYXJlbnRpbmcoKX19LEh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5hcHBlbmRFbGVtZW50SW5Qb3M9ZnVuY3Rpb24odCxlKXt2YXIgcj10LmdldEJhc2VFbGVtZW50KCk7aWYocil7dmFyIHM9dGhpcy5sYXllcnNbZV07aWYocy5kZGQmJnRoaXMuc3VwcG9ydHMzZCl0aGlzLmFkZFRvM2RDb250YWluZXIocixlKTtlbHNle2Zvcih2YXIgaSxhLG49MDtlPm47KXRoaXMuZWxlbWVudHNbbl0mJnRoaXMuZWxlbWVudHNbbl0hPT0hMCYmdGhpcy5lbGVtZW50c1tuXS5nZXRCYXNlRWxlbWVudCYmKGE9dGhpcy5lbGVtZW50c1tuXSxpPXRoaXMubGF5ZXJzW25dLmRkZD90aGlzLmdldFRocmVlRENvbnRhaW5lckJ5UG9zKG4pOmEuZ2V0QmFzZUVsZW1lbnQoKSksbis9MTtpP3MuZGRkJiZ0aGlzLnN1cHBvcnRzM2R8fHRoaXMubGF5ZXJFbGVtZW50Lmluc2VydEJlZm9yZShyLGkpOnMuZGRkJiZ0aGlzLnN1cHBvcnRzM2R8fHRoaXMubGF5ZXJFbGVtZW50LmFwcGVuZENoaWxkKHIpfX19LEh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVCYXNlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgU1ZHQmFzZUVsZW1lbnQodCx0aGlzLmxheWVyRWxlbWVudCx0aGlzLmdsb2JhbERhdGEsdGhpcyl9LEh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVTaGFwZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdXBwb3J0czNkP25ldyBIU2hhcGVFbGVtZW50KHQsdGhpcy5sYXllckVsZW1lbnQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpOm5ldyBJU2hhcGVFbGVtZW50KHQsdGhpcy5sYXllckVsZW1lbnQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpfSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlVGV4dD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdXBwb3J0czNkP25ldyBIVGV4dEVsZW1lbnQodCx0aGlzLmxheWVyRWxlbWVudCx0aGlzLmdsb2JhbERhdGEsdGhpcyk6bmV3IFNWR1RleHRFbGVtZW50KHQsdGhpcy5sYXllckVsZW1lbnQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpfSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlQ2FtZXJhPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNhbWVyYT1uZXcgSENhbWVyYUVsZW1lbnQodCx0aGlzLmxheWVyRWxlbWVudCx0aGlzLmdsb2JhbERhdGEsdGhpcyksdGhpcy5jYW1lcmF9LEh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVJbWFnZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdXBwb3J0czNkP25ldyBISW1hZ2VFbGVtZW50KHQsdGhpcy5sYXllckVsZW1lbnQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpOm5ldyBJSW1hZ2VFbGVtZW50KHQsdGhpcy5sYXllckVsZW1lbnQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpfSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlQ29tcD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdXBwb3J0czNkP25ldyBIQ29tcEVsZW1lbnQodCx0aGlzLmxheWVyRWxlbWVudCx0aGlzLmdsb2JhbERhdGEsdGhpcyk6bmV3IElDb21wRWxlbWVudCh0LHRoaXMubGF5ZXJFbGVtZW50LHRoaXMuZ2xvYmFsRGF0YSx0aGlzKX0sSHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVNvbGlkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN1cHBvcnRzM2Q/bmV3IEhTb2xpZEVsZW1lbnQodCx0aGlzLmxheWVyRWxlbWVudCx0aGlzLmdsb2JhbERhdGEsdGhpcyk6bmV3IElTb2xpZEVsZW1lbnQodCx0aGlzLmxheWVyRWxlbWVudCx0aGlzLmdsb2JhbERhdGEsdGhpcyl9LEh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5nZXRUaHJlZURDb250YWluZXJCeVBvcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPXRoaXMudGhyZWVERWxlbWVudHMubGVuZ3RoO3I+ZTspe2lmKHRoaXMudGhyZWVERWxlbWVudHNbZV0uc3RhcnRQb3M8PXQmJnRoaXMudGhyZWVERWxlbWVudHNbZV0uZW5kUG9zPj10KXJldHVybiB0aGlzLnRocmVlREVsZW1lbnRzW2VdLnBlcnNwZWN0aXZlRWxlbTtlKz0xfX0sSHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVRocmVlRENvbnRhaW5lcj1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3N0eWxlRGl2KGUpLGUuc3R5bGUud2lkdGg9dGhpcy5nbG9iYWxEYXRhLmNvbXBTaXplLncrXCJweFwiLGUuc3R5bGUuaGVpZ2h0PXRoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZS5oK1wicHhcIixlLnN0eWxlLnRyYW5zZm9ybU9yaWdpbj1lLnN0eWxlLm1velRyYW5zZm9ybU9yaWdpbj1lLnN0eWxlLndlYmtpdFRyYW5zZm9ybU9yaWdpbj1cIjUwJSA1MCVcIjt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3N0eWxlRGl2KHIpLHIuc3R5bGUudHJhbnNmb3JtPXIuc3R5bGUud2Via2l0VHJhbnNmb3JtPVwibWF0cml4M2QoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMSlcIixlLmFwcGVuZENoaWxkKHIpLHRoaXMucmVzaXplckVsZW0uYXBwZW5kQ2hpbGQoZSk7dmFyIHM9e2NvbnRhaW5lcjpyLHBlcnNwZWN0aXZlRWxlbTplLHN0YXJ0UG9zOnQsZW5kUG9zOnR9O3JldHVybiB0aGlzLnRocmVlREVsZW1lbnRzLnB1c2gocyksc30sSHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkM2RDb250YWluZXJzPWZ1bmN0aW9uKCl7dmFyIHQsZSxyPXRoaXMubGF5ZXJzLmxlbmd0aDtmb3IodD0wO3I+dDt0Kz0xKXRoaXMubGF5ZXJzW3RdLmRkZD8oZXx8KGU9dGhpcy5jcmVhdGVUaHJlZURDb250YWluZXIodCkpLGUuZW5kUG9zPU1hdGgubWF4KGUuZW5kUG9zLHQpKTplPW51bGx9LEh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5hZGRUbzNkQ29udGFpbmVyPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPTAscz10aGlzLnRocmVlREVsZW1lbnRzLmxlbmd0aDtzPnI7KXtpZihlPD10aGlzLnRocmVlREVsZW1lbnRzW3JdLmVuZFBvcyl7Zm9yKHZhciBpLGE9dGhpcy50aHJlZURFbGVtZW50c1tyXS5zdGFydFBvcztlPmE7KXRoaXMuZWxlbWVudHNbYV0mJnRoaXMuZWxlbWVudHNbYV0uZ2V0QmFzZUVsZW1lbnQmJihpPXRoaXMuZWxlbWVudHNbYV0uZ2V0QmFzZUVsZW1lbnQoKSksYSs9MTtpP3RoaXMudGhyZWVERWxlbWVudHNbcl0uY29udGFpbmVyLmluc2VydEJlZm9yZSh0LGkpOnRoaXMudGhyZWVERWxlbWVudHNbcl0uY29udGFpbmVyLmFwcGVuZENoaWxkKHQpO2JyZWFrfXIrPTF9fSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuY29uZmlnQW5pbWF0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikscj10aGlzLmFuaW1hdGlvbkl0ZW0ud3JhcHBlcjtlLnN0eWxlLndpZHRoPXQudytcInB4XCIsZS5zdHlsZS5oZWlnaHQ9dC5oK1wicHhcIix0aGlzLnJlc2l6ZXJFbGVtPWUsc3R5bGVEaXYoZSksZS5zdHlsZS50cmFuc2Zvcm1TdHlsZT1lLnN0eWxlLndlYmtpdFRyYW5zZm9ybVN0eWxlPWUuc3R5bGUubW96VHJhbnNmb3JtU3R5bGU9XCJmbGF0XCIsdGhpcy5yZW5kZXJDb25maWcuY2xhc3NOYW1lJiZyLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsdGhpcy5yZW5kZXJDb25maWcuY2xhc3NOYW1lKSxyLmFwcGVuZENoaWxkKGUpLGUuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIjt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJzdmdcIik7cy5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLFwiMVwiKSxzLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLFwiMVwiKSxzdHlsZURpdihzKSx0aGlzLnJlc2l6ZXJFbGVtLmFwcGVuZENoaWxkKHMpO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImRlZnNcIik7cy5hcHBlbmRDaGlsZChpKSx0aGlzLmdsb2JhbERhdGEuZGVmcz1pLHRoaXMuZGF0YT10LHRoaXMuZ2xvYmFsRGF0YS5nZXRBc3NldERhdGE9dGhpcy5hbmltYXRpb25JdGVtLmdldEFzc2V0RGF0YS5iaW5kKHRoaXMuYW5pbWF0aW9uSXRlbSksdGhpcy5nbG9iYWxEYXRhLmdldEFzc2V0c1BhdGg9dGhpcy5hbmltYXRpb25JdGVtLmdldEFzc2V0c1BhdGguYmluZCh0aGlzLmFuaW1hdGlvbkl0ZW0pLHRoaXMuZ2xvYmFsRGF0YS5lbGVtZW50TG9hZGVkPXRoaXMuYW5pbWF0aW9uSXRlbS5lbGVtZW50TG9hZGVkLmJpbmQodGhpcy5hbmltYXRpb25JdGVtKSx0aGlzLmdsb2JhbERhdGEuZnJhbWVJZD0wLHRoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZT17dzp0LncsaDp0Lmh9LHRoaXMuZ2xvYmFsRGF0YS5mcmFtZVJhdGU9dC5mcix0aGlzLmxheWVycz10LmxheWVycyx0aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXI9bmV3IEZvbnRNYW5hZ2VyLHRoaXMuZ2xvYmFsRGF0YS5mb250TWFuYWdlci5hZGRDaGFycyh0LmNoYXJzKSx0aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuYWRkRm9udHModC5mb250cyxzKSx0aGlzLmxheWVyRWxlbWVudD10aGlzLnJlc2l6ZXJFbGVtLHRoaXMuYnVpbGQzZENvbnRhaW5lcnMoKSx0aGlzLnVwZGF0ZUNvbnRhaW5lclNpemUoKX0sSHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmFuaW1hdGlvbkl0ZW0ud3JhcHBlci5pbm5lckhUTUw9XCJcIix0aGlzLmFuaW1hdGlvbkl0ZW0uY29udGFpbmVyPW51bGwsdGhpcy5nbG9iYWxEYXRhLmRlZnM9bnVsbDt2YXIgdCxlPXRoaXMubGF5ZXJzP3RoaXMubGF5ZXJzLmxlbmd0aDowO2Zvcih0PTA7ZT50O3QrKyl0aGlzLmVsZW1lbnRzW3RdLmRlc3Ryb3koKTt0aGlzLmVsZW1lbnRzLmxlbmd0aD0wLHRoaXMuZGVzdHJveWVkPSEwLHRoaXMuYW5pbWF0aW9uSXRlbT1udWxsfSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUudXBkYXRlQ29udGFpbmVyU2l6ZT1mdW5jdGlvbigpe3ZhciB0LGUscixzLGk9dGhpcy5hbmltYXRpb25JdGVtLndyYXBwZXIub2Zmc2V0V2lkdGgsYT10aGlzLmFuaW1hdGlvbkl0ZW0ud3JhcHBlci5vZmZzZXRIZWlnaHQsbj1pL2Esbz10aGlzLmdsb2JhbERhdGEuY29tcFNpemUudy90aGlzLmdsb2JhbERhdGEuY29tcFNpemUuaDtvPm4/KHQ9aS90aGlzLmdsb2JhbERhdGEuY29tcFNpemUudyxlPWkvdGhpcy5nbG9iYWxEYXRhLmNvbXBTaXplLncscj0wLHM9KGEtdGhpcy5nbG9iYWxEYXRhLmNvbXBTaXplLmgqKGkvdGhpcy5nbG9iYWxEYXRhLmNvbXBTaXplLncpKS8yKToodD1hL3RoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZS5oLGU9YS90aGlzLmdsb2JhbERhdGEuY29tcFNpemUuaCxyPShpLXRoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZS53KihhL3RoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZS5oKSkvMixzPTApLHRoaXMucmVzaXplckVsZW0uc3R5bGUudHJhbnNmb3JtPXRoaXMucmVzaXplckVsZW0uc3R5bGUud2Via2l0VHJhbnNmb3JtPVwibWF0cml4M2QoXCIrdCtcIiwwLDAsMCwwLFwiK2UrXCIsMCwwLDAsMCwxLDAsXCIrcitcIixcIitzK1wiLDAsMSlcIn0sSHlicmlkUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckZyYW1lPVNWR1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJGcmFtZSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMucmVzaXplckVsZW0uc3R5bGUuZGlzcGxheT1cIm5vbmVcIn0sSHlicmlkUmVuZGVyZXIucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt0aGlzLnJlc2l6ZXJFbGVtLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wifSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuaW5pdEl0ZW1zPWZ1bmN0aW9uKCl7aWYodGhpcy5idWlsZEFsbEl0ZW1zKCksdGhpcy5jYW1lcmEpdGhpcy5jYW1lcmEuc2V0dXAoKTtlbHNle3ZhciB0LGU9dGhpcy5nbG9iYWxEYXRhLmNvbXBTaXplLncscj10aGlzLmdsb2JhbERhdGEuY29tcFNpemUuaCxzPXRoaXMudGhyZWVERWxlbWVudHMubGVuZ3RoO2Zvcih0PTA7cz50O3QrPTEpdGhpcy50aHJlZURFbGVtZW50c1t0XS5wZXJzcGVjdGl2ZUVsZW0uc3R5bGUucGVyc3BlY3RpdmU9dGhpcy50aHJlZURFbGVtZW50c1t0XS5wZXJzcGVjdGl2ZUVsZW0uc3R5bGUud2Via2l0UGVyc3BlY3RpdmU9TWF0aC5zcXJ0KE1hdGgucG93KGUsMikrTWF0aC5wb3cociwyKSkrXCJweFwifX0sSHlicmlkUmVuZGVyZXIucHJvdG90eXBlLnNlYXJjaEV4dHJhQ29tcG9zaXRpb25zPWZ1bmN0aW9uKHQpe3ZhciBlLHI9dC5sZW5ndGgscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2ZvcihlPTA7cj5lO2UrPTEpaWYodFtlXS54dCl7dmFyIGk9dGhpcy5jcmVhdGVDb21wKHRbZV0scyx0aGlzLmdsb2JhbERhdGEuY29tcCxudWxsKTtpLmluaXRFeHByZXNzaW9ucygpLHRoaXMuZ2xvYmFsRGF0YS5wcm9qZWN0SW50ZXJmYWNlLnJlZ2lzdGVyQ29tcG9zaXRpb24oaSl9fSxjcmVhdGVFbGVtZW50KEJhc2VFbGVtZW50LENWQmFzZUVsZW1lbnQpLENWQmFzZUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRzPWZ1bmN0aW9uKCl7dGhpcy5jaGVja1BhcmVudGluZygpfSxDVkJhc2VFbGVtZW50LnByb3RvdHlwZS5jaGVja0JsZW5kTW9kZT1mdW5jdGlvbih0KXtpZih0LmJsZW5kTW9kZSE9PXRoaXMuZGF0YS5ibSl7dC5ibGVuZE1vZGU9dGhpcy5kYXRhLmJtO3ZhciBlPVwiXCI7c3dpdGNoKHRoaXMuZGF0YS5ibSl7Y2FzZSAwOmU9XCJub3JtYWxcIjticmVhaztjYXNlIDE6ZT1cIm11bHRpcGx5XCI7YnJlYWs7Y2FzZSAyOmU9XCJzY3JlZW5cIjticmVhaztjYXNlIDM6ZT1cIm92ZXJsYXlcIjticmVhaztjYXNlIDQ6ZT1cImRhcmtlblwiO2JyZWFrO2Nhc2UgNTplPVwibGlnaHRlblwiO2JyZWFrO2Nhc2UgNjplPVwiY29sb3ItZG9kZ2VcIjticmVhaztjYXNlIDc6ZT1cImNvbG9yLWJ1cm5cIjticmVhaztjYXNlIDg6ZT1cImhhcmQtbGlnaHRcIjticmVhaztjYXNlIDk6ZT1cInNvZnQtbGlnaHRcIjticmVhaztjYXNlIDEwOmU9XCJkaWZmZXJlbmNlXCI7YnJlYWs7Y2FzZSAxMTplPVwiZXhjbHVzaW9uXCI7YnJlYWs7Y2FzZSAxMjplPVwiaHVlXCI7YnJlYWs7Y2FzZSAxMzplPVwic2F0dXJhdGlvblwiO2JyZWFrO2Nhc2UgMTQ6ZT1cImNvbG9yXCI7YnJlYWs7Y2FzZSAxNTplPVwibHVtaW5vc2l0eVwifXQuY2FudmFzQ29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249ZX19LENWQmFzZUVsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe2lmKDM9PT10aGlzLmRhdGEudHkpcmV0dXJuITE7aWYodGhpcy5jaGVja0JsZW5kTW9kZSgwPT09dGhpcy5kYXRhLnR5P3RoaXMucGFyZW50R2xvYmFsRGF0YTp0aGlzLmdsb2JhbERhdGEpLCF0aGlzLmlzVmlzaWJsZSlyZXR1cm4gdGhpcy5pc1Zpc2libGU7dGhpcy5maW5hbFRyYW5zZm9ybS5vcE1kZj10aGlzLmZpbmFsVHJhbnNmb3JtLm9wLm1kZix0aGlzLmZpbmFsVHJhbnNmb3JtLm1hdE1kZj10aGlzLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLm1kZix0aGlzLmZpbmFsVHJhbnNmb3JtLm9wYWNpdHk9dGhpcy5maW5hbFRyYW5zZm9ybS5vcC52O3ZhciBlLHI9dGhpcy5maW5hbFRyYW5zZm9ybS5tYXQ7aWYodGhpcy5oaWVyYXJjaHkpe3ZhciBzLGk9dGhpcy5oaWVyYXJjaHkubGVuZ3RoO2ZvcihlPXRoaXMuZmluYWxUcmFuc2Zvcm0ubVByb3Audi5wcm9wcyxyLmNsb25lRnJvbVByb3BzKGUpLHM9MDtpPnM7cys9MSl0aGlzLmZpbmFsVHJhbnNmb3JtLm1hdE1kZj10aGlzLmhpZXJhcmNoeVtzXS5maW5hbFRyYW5zZm9ybS5tUHJvcC5tZGY/ITA6dGhpcy5maW5hbFRyYW5zZm9ybS5tYXRNZGYsZT10aGlzLmhpZXJhcmNoeVtzXS5maW5hbFRyYW5zZm9ybS5tUHJvcC52LnByb3BzLHIudHJhbnNmb3JtKGVbMF0sZVsxXSxlWzJdLGVbM10sZVs0XSxlWzVdLGVbNl0sZVs3XSxlWzhdLGVbOV0sZVsxMF0sZVsxMV0sZVsxMl0sZVsxM10sZVsxNF0sZVsxNV0pfWVsc2UgdD8oZT10aGlzLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLnYucHJvcHMsci5jbG9uZUZyb21Qcm9wcyhlKSk6ci5jbG9uZUZyb21Qcm9wcyh0aGlzLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLnYucHJvcHMpO3JldHVybiB0JiYoZT10Lm1hdC5wcm9wcyxyLnRyYW5zZm9ybShlWzBdLGVbMV0sZVsyXSxlWzNdLGVbNF0sZVs1XSxlWzZdLGVbN10sZVs4XSxlWzldLGVbMTBdLGVbMTFdLGVbMTJdLGVbMTNdLGVbMTRdLGVbMTVdKSx0aGlzLmZpbmFsVHJhbnNmb3JtLm9wYWNpdHkqPXQub3BhY2l0eSx0aGlzLmZpbmFsVHJhbnNmb3JtLm9wTWRmPXQub3BNZGY/ITA6dGhpcy5maW5hbFRyYW5zZm9ybS5vcE1kZix0aGlzLmZpbmFsVHJhbnNmb3JtLm1hdE1kZj10Lm1hdE1kZj8hMDp0aGlzLmZpbmFsVHJhbnNmb3JtLm1hdE1kZiksdGhpcy5kYXRhLmhhc01hc2smJih0aGlzLmdsb2JhbERhdGEucmVuZGVyZXIuc2F2ZSghMCksdGhpcy5tYXNrTWFuYWdlci5yZW5kZXJGcmFtZSgwPT09dGhpcy5kYXRhLnR5P251bGw6cikpLHRoaXMuZGF0YS5oZCYmKHRoaXMuaXNWaXNpYmxlPSExKSx0aGlzLmlzVmlzaWJsZX0sQ1ZCYXNlRWxlbWVudC5wcm90b3R5cGUuYWRkTWFza3M9ZnVuY3Rpb24odCl7dGhpcy5tYXNrTWFuYWdlcj1uZXcgQ1ZNYXNrRWxlbWVudCh0LHRoaXMsdGhpcy5nbG9iYWxEYXRhKX0sQ1ZCYXNlRWxlbWVudC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuY2FudmFzQ29udGV4dD1udWxsLHRoaXMuZGF0YT1udWxsLHRoaXMuZ2xvYmFsRGF0YT1udWxsLHRoaXMubWFza01hbmFnZXImJnRoaXMubWFza01hbmFnZXIuZGVzdHJveSgpfSxDVkJhc2VFbGVtZW50LnByb3RvdHlwZS5tSGVscGVyPW5ldyBNYXRyaXgsY3JlYXRlRWxlbWVudChDVkJhc2VFbGVtZW50LENWQ29tcEVsZW1lbnQpLENWQ29tcEVsZW1lbnQucHJvdG90eXBlLmN0eFRyYW5zZm9ybT1DYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY3R4VHJhbnNmb3JtLENWQ29tcEVsZW1lbnQucHJvdG90eXBlLmN0eE9wYWNpdHk9Q2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmN0eE9wYWNpdHksQ1ZDb21wRWxlbWVudC5wcm90b3R5cGUuc2F2ZT1DYW52YXNSZW5kZXJlci5wcm90b3R5cGUuc2F2ZSxDVkNvbXBFbGVtZW50LnByb3RvdHlwZS5yZXN0b3JlPUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZXN0b3JlLENWQ29tcEVsZW1lbnQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5jb250ZXh0RGF0YS5jQXJyUG9zPTAsdGhpcy5jb250ZXh0RGF0YS5jVHIucmVzZXQoKSx0aGlzLmNvbnRleHREYXRhLmNPPTF9LENWQ29tcEVsZW1lbnQucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLm1heCh0LnN4LHQuc3kpO3RoaXMuY2FudmFzLndpZHRoPXRoaXMuZGF0YS53KmUsdGhpcy5jYW52YXMuaGVpZ2h0PXRoaXMuZGF0YS5oKmUsdGhpcy50cmFuc2Zvcm1DYW52YXM9e3NjOmUsdzp0aGlzLmRhdGEudyplLGg6dGhpcy5kYXRhLmgqZSxwcm9wczpbZSwwLDAsMCwwLGUsMCwwLDAsMCwxLDAsMCwwLDAsMV19O3ZhciByLHM9dGhpcy5lbGVtZW50cy5sZW5ndGg7Zm9yKHI9MDtzPnI7cis9MSl0aGlzLmVsZW1lbnRzW3JdJiYwPT09dGhpcy5lbGVtZW50c1tyXS5kYXRhLnR5JiZ0aGlzLmVsZW1lbnRzW3JdLnJlc2l6ZSh0KX0sQ1ZDb21wRWxlbWVudC5wcm90b3R5cGUucHJlcGFyZUZyYW1lPWZ1bmN0aW9uKHQpe2lmKHRoaXMuZ2xvYmFsRGF0YS5mcmFtZUlkPXRoaXMucGFyZW50R2xvYmFsRGF0YS5mcmFtZUlkLHRoaXMuZ2xvYmFsRGF0YS5tZGY9ITEsdGhpcy5fcGFyZW50LnByZXBhcmVGcmFtZS5jYWxsKHRoaXMsdCksdGhpcy5pc1Zpc2libGUhPT0hMXx8dGhpcy5kYXRhLnh0KXt2YXIgZT10O3RoaXMudG0mJihlPXRoaXMudG0udixlPT09dGhpcy5kYXRhLm9wJiYoZT10aGlzLmRhdGEub3AtMSkpLHRoaXMucmVuZGVyZWRGcmFtZT1lL3RoaXMuZGF0YS5zcjt2YXIgcixzPXRoaXMuZWxlbWVudHMubGVuZ3RoO2Zvcih0aGlzLmNvbXBsZXRlTGF5ZXJzfHx0aGlzLmNoZWNrTGF5ZXJzKHQpLHI9MDtzPnI7cis9MSkodGhpcy5jb21wbGV0ZUxheWVyc3x8dGhpcy5lbGVtZW50c1tyXSkmJih0aGlzLmVsZW1lbnRzW3JdLnByZXBhcmVGcmFtZShlL3RoaXMuZGF0YS5zci10aGlzLmxheWVyc1tyXS5zdCksMD09PXRoaXMuZWxlbWVudHNbcl0uZGF0YS50eSYmdGhpcy5lbGVtZW50c1tyXS5nbG9iYWxEYXRhLm1kZiYmKHRoaXMuZ2xvYmFsRGF0YS5tZGY9ITApKTt0aGlzLmdsb2JhbERhdGEubWRmJiYhdGhpcy5kYXRhLnh0JiYodGhpcy5jYW52YXNDb250ZXh0LmNsZWFyUmVjdCgwLDAsdGhpcy5kYXRhLncsdGhpcy5kYXRhLmgpLHRoaXMuY3R4VHJhbnNmb3JtKHRoaXMudHJhbnNmb3JtQ2FudmFzLnByb3BzKSl9fSxDVkNvbXBFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbih0KXtpZih0aGlzLl9wYXJlbnQucmVuZGVyRnJhbWUuY2FsbCh0aGlzLHQpIT09ITEpe2lmKHRoaXMuZ2xvYmFsRGF0YS5tZGYpe3ZhciBlLHI9dGhpcy5sYXllcnMubGVuZ3RoO2ZvcihlPXItMTtlPj0wO2UtPTEpKHRoaXMuY29tcGxldGVMYXllcnN8fHRoaXMuZWxlbWVudHNbZV0pJiZ0aGlzLmVsZW1lbnRzW2VdLnJlbmRlckZyYW1lKCl9dGhpcy5kYXRhLmhhc01hc2smJnRoaXMuZ2xvYmFsRGF0YS5yZW5kZXJlci5yZXN0b3JlKCEwKSx0aGlzLmZpcnN0RnJhbWUmJih0aGlzLmZpcnN0RnJhbWU9ITEpLHRoaXMucGFyZW50R2xvYmFsRGF0YS5yZW5kZXJlci5zYXZlKCksdGhpcy5wYXJlbnRHbG9iYWxEYXRhLnJlbmRlcmVyLmN0eFRyYW5zZm9ybSh0aGlzLmZpbmFsVHJhbnNmb3JtLm1hdC5wcm9wcyksdGhpcy5wYXJlbnRHbG9iYWxEYXRhLnJlbmRlcmVyLmN0eE9wYWNpdHkodGhpcy5maW5hbFRyYW5zZm9ybS5vcGFjaXR5KSx0aGlzLnBhcmVudEdsb2JhbERhdGEucmVuZGVyZXIuY2FudmFzQ29udGV4dC5kcmF3SW1hZ2UodGhpcy5jYW52YXMsMCwwLHRoaXMuZGF0YS53LHRoaXMuZGF0YS5oKSx0aGlzLnBhcmVudEdsb2JhbERhdGEucmVuZGVyZXIucmVzdG9yZSgpLHRoaXMuZ2xvYmFsRGF0YS5tZGYmJnRoaXMucmVzZXQoKX19LENWQ29tcEVsZW1lbnQucHJvdG90eXBlLnNldEVsZW1lbnRzPWZ1bmN0aW9uKHQpe3RoaXMuZWxlbWVudHM9dH0sQ1ZDb21wRWxlbWVudC5wcm90b3R5cGUuZ2V0RWxlbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50c30sQ1ZDb21wRWxlbWVudC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5sYXllcnMubGVuZ3RoO2Zvcih0PWUtMTt0Pj0wO3QtPTEpdGhpcy5lbGVtZW50c1t0XS5kZXN0cm95KCk7dGhpcy5sYXllcnM9bnVsbCx0aGlzLmVsZW1lbnRzPW51bGwsdGhpcy5fcGFyZW50LmRlc3Ryb3kuY2FsbCh0aGlzLl9wYXJlbnQpfSxDVkNvbXBFbGVtZW50LnByb3RvdHlwZS5jaGVja0xheWVycz1DYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY2hlY2tMYXllcnMsQ1ZDb21wRWxlbWVudC5wcm90b3R5cGUuYnVpbGRJdGVtPUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5idWlsZEl0ZW0sQ1ZDb21wRWxlbWVudC5wcm90b3R5cGUuY2hlY2tQZW5kaW5nRWxlbWVudHM9Q2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNoZWNrUGVuZGluZ0VsZW1lbnRzLENWQ29tcEVsZW1lbnQucHJvdG90eXBlLmFkZFBlbmRpbmdFbGVtZW50PUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5hZGRQZW5kaW5nRWxlbWVudCxDVkNvbXBFbGVtZW50LnByb3RvdHlwZS5idWlsZEFsbEl0ZW1zPUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5idWlsZEFsbEl0ZW1zLENWQ29tcEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUl0ZW09Q2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUl0ZW0sQ1ZDb21wRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlSW1hZ2U9Q2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUltYWdlLENWQ29tcEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUNvbXA9Q2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUNvbXAsQ1ZDb21wRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU29saWQ9Q2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVNvbGlkLENWQ29tcEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYXBlPUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVTaGFwZSxDVkNvbXBFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVUZXh0PUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVUZXh0LENWQ29tcEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUJhc2U9Q2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUJhc2UsQ1ZDb21wRWxlbWVudC5wcm90b3R5cGUuYnVpbGRFbGVtZW50UGFyZW50aW5nPUNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5idWlsZEVsZW1lbnRQYXJlbnRpbmcsY3JlYXRlRWxlbWVudChDVkJhc2VFbGVtZW50LENWSW1hZ2VFbGVtZW50KSxDVkltYWdlRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlRWxlbWVudHM9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbigpe2lmKHRoaXMuZ2xvYmFsRGF0YS5lbGVtZW50TG9hZGVkKCksdGhpcy5hc3NldERhdGEudyE9PXRoaXMuaW1nLndpZHRofHx0aGlzLmFzc2V0RGF0YS5oIT09dGhpcy5pbWcuaGVpZ2h0KXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3Qud2lkdGg9dGhpcy5hc3NldERhdGEudyx0LmhlaWdodD10aGlzLmFzc2V0RGF0YS5oO3ZhciBlLHIscz10LmdldENvbnRleHQoXCIyZFwiKSxpPXRoaXMuaW1nLndpZHRoLGE9dGhpcy5pbWcuaGVpZ2h0LG49aS9hLG89dGhpcy5hc3NldERhdGEudy90aGlzLmFzc2V0RGF0YS5oO24+bz8ocj1hLGU9cipvKTooZT1pLHI9ZS9vKSxzLmRyYXdJbWFnZSh0aGlzLmltZywoaS1lKS8yLChhLXIpLzIsZSxyLDAsMCx0aGlzLmFzc2V0RGF0YS53LHRoaXMuYXNzZXREYXRhLmgpLHRoaXMuaW1nPXR9fS5iaW5kKHRoaXMpLGU9ZnVuY3Rpb24oKXt0aGlzLmZhaWxlZD0hMCx0aGlzLmdsb2JhbERhdGEuZWxlbWVudExvYWRlZCgpfS5iaW5kKHRoaXMpO3RoaXMuaW1nPW5ldyBJbWFnZSx0aGlzLmltZy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLHQsITEpLHRoaXMuaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLGUsITEpO3ZhciByPXRoaXMuZ2xvYmFsRGF0YS5nZXRBc3NldHNQYXRoKHRoaXMuYXNzZXREYXRhKTt0aGlzLmltZy5zcmM9cix0aGlzLl9wYXJlbnQuY3JlYXRlRWxlbWVudHMuY2FsbCh0aGlzKX0sQ1ZJbWFnZUVsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmZhaWxlZCYmdGhpcy5fcGFyZW50LnJlbmRlckZyYW1lLmNhbGwodGhpcyx0KSE9PSExKXt2YXIgZT10aGlzLmNhbnZhc0NvbnRleHQ7dGhpcy5nbG9iYWxEYXRhLnJlbmRlcmVyLnNhdmUoKTt2YXIgcj10aGlzLmZpbmFsVHJhbnNmb3JtLm1hdC5wcm9wczt0aGlzLmdsb2JhbERhdGEucmVuZGVyZXIuY3R4VHJhbnNmb3JtKHIpLHRoaXMuZ2xvYmFsRGF0YS5yZW5kZXJlci5jdHhPcGFjaXR5KHRoaXMuZmluYWxUcmFuc2Zvcm0ub3BhY2l0eSksZS5kcmF3SW1hZ2UodGhpcy5pbWcsMCwwKSx0aGlzLmdsb2JhbERhdGEucmVuZGVyZXIucmVzdG9yZSh0aGlzLmRhdGEuaGFzTWFzayksdGhpcy5maXJzdEZyYW1lJiYodGhpcy5maXJzdEZyYW1lPSExKX19LENWSW1hZ2VFbGVtZW50LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5pbWc9bnVsbCx0aGlzLl9wYXJlbnQuZGVzdHJveS5jYWxsKHRoaXMuX3BhcmVudCl9LENWTWFza0VsZW1lbnQucHJvdG90eXBlLnByZXBhcmVGcmFtZT1mdW5jdGlvbih0KXt2YXIgZSxyPXRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoO2ZvcihlPTA7cj5lO2UrPTEpdGhpcy5keW5hbWljUHJvcGVydGllc1tlXS5nZXRWYWx1ZSh0KSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2VdLm1kZiYmKHRoaXMuZWxlbWVudC5nbG9iYWxEYXRhLm1kZj0hMCl9LENWTWFza0VsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe3ZhciBlLHIscyxpLGEsbj10aGlzLmVsZW1lbnQuY2FudmFzQ29udGV4dCxvPXRoaXMuZGF0YS5tYXNrc1Byb3BlcnRpZXMubGVuZ3RoLGg9ITE7Zm9yKGU9MDtvPmU7ZSsrKWlmKFwiblwiIT09dGhpcy5tYXNrc1Byb3BlcnRpZXNbZV0ubW9kZSl7aD09PSExJiYobi5iZWdpblBhdGgoKSxoPSEwKSx0aGlzLm1hc2tzUHJvcGVydGllc1tlXS5pbnYmJihuLm1vdmVUbygwLDApLG4ubGluZVRvKHRoaXMuZWxlbWVudC5nbG9iYWxEYXRhLmNvbXBXaWR0aCwwKSxuLmxpbmVUbyh0aGlzLmVsZW1lbnQuZ2xvYmFsRGF0YS5jb21wV2lkdGgsdGhpcy5lbGVtZW50Lmdsb2JhbERhdGEuY29tcEhlaWdodCksbi5saW5lVG8oMCx0aGlzLmVsZW1lbnQuZ2xvYmFsRGF0YS5jb21wSGVpZ2h0KSxuLmxpbmVUbygwLDApKSxhPXRoaXMudmlld0RhdGFbZV0udixyPXQ/dC5hcHBseVRvUG9pbnRBcnJheShhLnZbMF1bMF0sYS52WzBdWzFdLDApOmEudlswXSxuLm1vdmVUbyhyWzBdLHJbMV0pO3ZhciBsLHA9YS5fbGVuZ3RoO2ZvcihsPTE7cD5sO2wrKylyPXQ/dC5hcHBseVRvUG9pbnRBcnJheShhLm9bbC0xXVswXSxhLm9bbC0xXVsxXSwwKTphLm9bbC0xXSxzPXQ/dC5hcHBseVRvUG9pbnRBcnJheShhLmlbbF1bMF0sYS5pW2xdWzFdLDApOmEuaVtsXSxpPXQ/dC5hcHBseVRvUG9pbnRBcnJheShhLnZbbF1bMF0sYS52W2xdWzFdLDApOmEudltsXSxuLmJlemllckN1cnZlVG8oclswXSxyWzFdLHNbMF0sc1sxXSxpWzBdLGlbMV0pO3I9dD90LmFwcGx5VG9Qb2ludEFycmF5KGEub1tsLTFdWzBdLGEub1tsLTFdWzFdLDApOmEub1tsLTFdLHM9dD90LmFwcGx5VG9Qb2ludEFycmF5KGEuaVswXVswXSxhLmlbMF1bMV0sMCk6YS5pWzBdLGk9dD90LmFwcGx5VG9Qb2ludEFycmF5KGEudlswXVswXSxhLnZbMF1bMV0sMCk6YS52WzBdLG4uYmV6aWVyQ3VydmVUbyhyWzBdLHJbMV0sc1swXSxzWzFdLGlbMF0saVsxXSl9aCYmbi5jbGlwKCl9LENWTWFza0VsZW1lbnQucHJvdG90eXBlLmdldE1hc2tQcm9wZXJ0eT1NYXNrRWxlbWVudC5wcm90b3R5cGUuZ2V0TWFza1Byb3BlcnR5LENWTWFza0VsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQ9bnVsbH0sY3JlYXRlRWxlbWVudChDVkJhc2VFbGVtZW50LENWU2hhcGVFbGVtZW50KSxDVlNoYXBlRWxlbWVudC5wcm90b3R5cGUudHJhbnNmb3JtSGVscGVyPXtvcGFjaXR5OjEsbWF0Om5ldyBNYXRyaXgsbWF0TWRmOiExLG9wTWRmOiExfSxDVlNoYXBlRWxlbWVudC5wcm90b3R5cGUuZGFzaFJlc2V0dGVyPVtdLENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50cz1mdW5jdGlvbigpe3RoaXMuX3BhcmVudC5jcmVhdGVFbGVtZW50cy5jYWxsKHRoaXMpLHRoaXMuc2VhcmNoU2hhcGVzKHRoaXMuc2hhcGVzRGF0YSx0aGlzLml0ZW1zRGF0YSx0aGlzLnByZXZWaWV3RGF0YSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLCEwKX0sQ1ZTaGFwZUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVN0eWxlRWxlbWVudD1mdW5jdGlvbih0LGUpe3ZhciByPXtkYXRhOnQsdHlwZTp0LnR5LGVsZW1lbnRzOltdfSxzPXt9O2lmKChcImZsXCI9PXQudHl8fFwic3RcIj09dC50eSkmJihzLmM9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyx0LmMsMSwyNTUsZSkscy5jLmt8fChyLmNvPVwicmdiKFwiK2JtX2Zsb29yKHMuYy52WzBdKStcIixcIitibV9mbG9vcihzLmMudlsxXSkrXCIsXCIrYm1fZmxvb3Iocy5jLnZbMl0pK1wiKVwiKSkscy5vPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdC5vLDAsLjAxLGUpLFwic3RcIj09dC50eSl7aWYoci5sYz10aGlzLmxjRW51bVt0LmxjXXx8XCJyb3VuZFwiLHIubGo9dGhpcy5sakVudW1bdC5sal18fFwicm91bmRcIiwxPT10LmxqJiYoci5tbD10Lm1sKSxzLnc9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyx0LncsMCxudWxsLGUpLHMudy5rfHwoci53aT1zLncudiksdC5kKXt2YXIgaT1uZXcgRGFzaFByb3BlcnR5KHRoaXMsdC5kLFwiY2FudmFzXCIsZSk7cy5kPWkscy5kLmt8fChyLmRhPXMuZC5kYXNoQXJyYXkscltcImRvXCJdPXMuZC5kYXNob2Zmc2V0WzBdKX19ZWxzZSByLnI9Mj09PXQucj9cImV2ZW5vZGRcIjpcIm5vbnplcm9cIjtyZXR1cm4gdGhpcy5zdHlsZXNMaXN0LnB1c2gocikscy5zdHlsZT1yLHN9LENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVHcm91cEVsZW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU9e2l0OltdLHByZXZWaWV3RGF0YTpbXX07cmV0dXJuIGV9LENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVUcmFuc2Zvcm1FbGVtZW50PWZ1bmN0aW9uKHQsZSl7dmFyIHI9e3RyYW5zZm9ybTp7bWF0Om5ldyBNYXRyaXgsb3BhY2l0eToxLG1hdE1kZjohMSxvcE1kZjohMSxvcDpQcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLHQubywwLC4wMSxlKSxtUHJvcHM6VHJhbnNmb3JtUHJvcGVydHlGYWN0b3J5LmdldFRyYW5zZm9ybVByb3BlcnR5KHRoaXMsdCxlKX0sZWxlbWVudHM6W119O3JldHVybiByfSxDVlNoYXBlRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhcGVFbGVtZW50PWZ1bmN0aW9uKHQsZSl7dmFyIHI9e25vZGVzOltdLHRyTm9kZXM6W10sdHI6WzAsMCwwLDAsMCwwXX0scz00O1wicmNcIj09dC50eT9zPTU6XCJlbFwiPT10LnR5P3M9NjpcInNyXCI9PXQudHkmJihzPTcpLHIuc2g9U2hhcGVQcm9wZXJ0eUZhY3RvcnkuZ2V0U2hhcGVQcm9wKHRoaXMsdCxzLGUpLHRoaXMuc2hhcGVzLnB1c2goci5zaCksdGhpcy5hZGRTaGFwZVRvTW9kaWZpZXJzKHIpLGpMZW49dGhpcy5zdHlsZXNMaXN0Lmxlbmd0aDt2YXIgaT0hMSxhPSExO2ZvcihqPTA7ajxqTGVuO2orPTEpdGhpcy5zdHlsZXNMaXN0W2pdLmNsb3NlZHx8KHRoaXMuc3R5bGVzTGlzdFtqXS5lbGVtZW50cy5wdXNoKHIpLFwic3RcIj09PXRoaXMuc3R5bGVzTGlzdFtqXS50eXBlP2k9ITA6YT0hMCk7cmV0dXJuIHIuc3Q9aSxyLmZsPWEscn0sQ1ZTaGFwZUVsZW1lbnQucHJvdG90eXBlLnJlbG9hZFNoYXBlcz1mdW5jdGlvbigpe3RoaXMuZmlyc3RGcmFtZT0hMDt2YXIgdCxlPXRoaXMuaXRlbXNEYXRhLmxlbmd0aDtmb3IodD0wO2U+dDt0Kz0xKXRoaXMucHJldlZpZXdEYXRhW3RdPXRoaXMuaXRlbXNEYXRhW3RdO3RoaXMuc2VhcmNoU2hhcGVzKHRoaXMuc2hhcGVzRGF0YSx0aGlzLml0ZW1zRGF0YSx0aGlzLnByZXZWaWV3RGF0YSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLCEwKTt2YXIgdCxlPXRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoO2Zvcih0PTA7ZT50O3QrPTEpdGhpcy5keW5hbWljUHJvcGVydGllc1t0XS5nZXRWYWx1ZSgpO3RoaXMucmVuZGVyTW9kaWZpZXJzKCl9LENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5zZWFyY2hTaGFwZXM9ZnVuY3Rpb24odCxlLHIscyxpKXt2YXIgYSxuLG8saCxsPXQubGVuZ3RoLTEscD1bXSxtPVtdO2ZvcihhPWw7YT49MDthLT0xKXtpZihoPXRoaXMuc2VhcmNoUHJvY2Vzc2VkRWxlbWVudCh0W2FdKSxoP2VbYV09cltoLTFdOnRbYV0uX3JlbmRlcj1pLFwiZmxcIj09dFthXS50eXx8XCJzdFwiPT10W2FdLnR5KWg/ZVthXS5zdHlsZS5jbG9zZWQ9ITE6ZVthXT10aGlzLmNyZWF0ZVN0eWxlRWxlbWVudCh0W2FdLHMpLHAucHVzaChlW2FdLnN0eWxlKTtlbHNlIGlmKFwiZ3JcIj09dFthXS50eSl7aWYoaClmb3Iobz1lW2FdLml0Lmxlbmd0aCxuPTA7bz5uO24rPTEpZVthXS5wcmV2Vmlld0RhdGFbbl09ZVthXS5pdFtuXTtlbHNlIGVbYV09dGhpcy5jcmVhdGVHcm91cEVsZW1lbnQodFthXSk7dGhpcy5zZWFyY2hTaGFwZXModFthXS5pdCxlW2FdLml0LGVbYV0ucHJldlZpZXdEYXRhLHMsaSl9ZWxzZSBpZihcInRyXCI9PXRbYV0udHkpaHx8KGVbYV09dGhpcy5jcmVhdGVUcmFuc2Zvcm1FbGVtZW50KHRbYV0scykpO2Vsc2UgaWYoXCJzaFwiPT10W2FdLnR5fHxcInJjXCI9PXRbYV0udHl8fFwiZWxcIj09dFthXS50eXx8XCJzclwiPT10W2FdLnR5KWh8fChlW2FdPXRoaXMuY3JlYXRlU2hhcGVFbGVtZW50KHRbYV0scykpO2Vsc2UgaWYoXCJ0bVwiPT10W2FdLnR5fHxcInJkXCI9PXRbYV0udHkpe2lmKGgpZj1lW2FdLGYuY2xvc2VkPSExO2Vsc2V7dmFyIGY9U2hhcGVNb2RpZmllcnMuZ2V0TW9kaWZpZXIodFthXS50eSk7Zi5pbml0KHRoaXMsdFthXSxzKSxlW2FdPWYsdGhpcy5zaGFwZU1vZGlmaWVycy5wdXNoKGYpfW0ucHVzaChmKX1lbHNlXCJycFwiPT10W2FdLnR5JiYoaD8oZj1lW2FdLGYuY2xvc2VkPSEwKTooZj1TaGFwZU1vZGlmaWVycy5nZXRNb2RpZmllcih0W2FdLnR5KSxlW2FdPWYsZi5pbml0KHRoaXMsdCxhLGUscyksdGhpcy5zaGFwZU1vZGlmaWVycy5wdXNoKGYpLGk9ITEpLG0ucHVzaChmKSk7dGhpcy5hZGRQcm9jZXNzZWRFbGVtZW50KHRbYV0sYSsxKX1mb3IobD1wLmxlbmd0aCxhPTA7bD5hO2ErPTEpcFthXS5jbG9zZWQ9ITA7Zm9yKGw9bS5sZW5ndGgsYT0wO2w+YTthKz0xKW1bYV0uY2xvc2VkPSEwfSxDVlNoYXBlRWxlbWVudC5wcm90b3R5cGUuYWRkU2hhcGVUb01vZGlmaWVycz1JU2hhcGVFbGVtZW50LnByb3RvdHlwZS5hZGRTaGFwZVRvTW9kaWZpZXJzLENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJNb2RpZmllcnM9SVNoYXBlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyTW9kaWZpZXJzLENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5sY0VudW09SVNoYXBlRWxlbWVudC5wcm90b3R5cGUubGNFbnVtLENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5sakVudW09SVNoYXBlRWxlbWVudC5wcm90b3R5cGUubGpFbnVtLENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5zZWFyY2hQcm9jZXNzZWRFbGVtZW50PUlTaGFwZUVsZW1lbnQucHJvdG90eXBlLnNlYXJjaFByb2Nlc3NlZEVsZW1lbnQsQ1ZTaGFwZUVsZW1lbnQucHJvdG90eXBlLmFkZFByb2Nlc3NlZEVsZW1lbnQ9SVNoYXBlRWxlbWVudC5wcm90b3R5cGUuYWRkUHJvY2Vzc2VkRWxlbWVudCxDVlNoYXBlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7dGhpcy5fcGFyZW50LnJlbmRlckZyYW1lLmNhbGwodGhpcyx0KSE9PSExJiYodGhpcy50cmFuc2Zvcm1IZWxwZXIubWF0LnJlc2V0KCksdGhpcy50cmFuc2Zvcm1IZWxwZXIub3BhY2l0eT10aGlzLmZpbmFsVHJhbnNmb3JtLm9wYWNpdHksdGhpcy50cmFuc2Zvcm1IZWxwZXIubWF0TWRmPSExLHRoaXMudHJhbnNmb3JtSGVscGVyLm9wTWRmPXRoaXMuZmluYWxUcmFuc2Zvcm0ub3BNZGYsdGhpcy5yZW5kZXJNb2RpZmllcnMoKSx0aGlzLnJlbmRlclNoYXBlKHRoaXMudHJhbnNmb3JtSGVscGVyLG51bGwsbnVsbCwhMCksdGhpcy5kYXRhLmhhc01hc2smJnRoaXMuZ2xvYmFsRGF0YS5yZW5kZXJlci5yZXN0b3JlKCEwKSl9LENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJTaGFwZT1mdW5jdGlvbih0LGUscixzKXt2YXIgaSxhO2lmKCFlKWZvcihlPXRoaXMuc2hhcGVzRGF0YSxhPXRoaXMuc3R5bGVzTGlzdC5sZW5ndGgsaT0wO2E+aTtpKz0xKXRoaXMuc3R5bGVzTGlzdFtpXS5kPVwiXCIsdGhpcy5zdHlsZXNMaXN0W2ldLm1kZj0hMTtyfHwocj10aGlzLml0ZW1zRGF0YSksYT1lLmxlbmd0aC0xO3ZhciBuLG87Zm9yKG49dCxpPWE7aT49MDtpLT0xKWlmKFwidHJcIj09ZVtpXS50eSl7bj1yW2ldLnRyYW5zZm9ybTt2YXIgaD1yW2ldLnRyYW5zZm9ybS5tUHJvcHMudi5wcm9wcztpZihuLm1hdE1kZj1uLm1Qcm9wcy5tZGYsbi5vcE1kZj1uLm9wLm1kZixvPW4ubWF0LG8uY2xvbmVGcm9tUHJvcHMoaCksdCl7dmFyIGw9dC5tYXQucHJvcHM7bi5vcGFjaXR5PXQub3BhY2l0eSxuLm9wYWNpdHkqPXJbaV0udHJhbnNmb3JtLm9wLnYsbi5tYXRNZGY9dC5tYXRNZGY/ITA6bi5tYXRNZGYsbi5vcE1kZj10Lm9wTWRmPyEwOm4ub3BNZGYsby50cmFuc2Zvcm0obFswXSxsWzFdLGxbMl0sbFszXSxsWzRdLGxbNV0sbFs2XSxsWzddLGxbOF0sbFs5XSxsWzEwXSxsWzExXSxsWzEyXSxsWzEzXSxsWzE0XSxsWzE1XSl9ZWxzZSBuLm9wYWNpdHk9bi5vcC5vfWVsc2VcInNoXCI9PWVbaV0udHl8fFwiZWxcIj09ZVtpXS50eXx8XCJyY1wiPT1lW2ldLnR5fHxcInNyXCI9PWVbaV0udHk/dGhpcy5yZW5kZXJQYXRoKGVbaV0scltpXSxuKTpcImZsXCI9PWVbaV0udHk/dGhpcy5yZW5kZXJGaWxsKGVbaV0scltpXSxuKTpcInN0XCI9PWVbaV0udHk/dGhpcy5yZW5kZXJTdHJva2UoZVtpXSxyW2ldLG4pOlwiZ3JcIj09ZVtpXS50eT90aGlzLnJlbmRlclNoYXBlKG4sZVtpXS5pdCxyW2ldLml0KTpcInRtXCI9PWVbaV0udHk7aWYocyl7YT10aGlzLnN0eWxlc0xpc3QubGVuZ3RoO3ZhciBwLG0sZixjLGQsdSx5LGc9dGhpcy5nbG9iYWxEYXRhLnJlbmRlcmVyLHY9dGhpcy5nbG9iYWxEYXRhLmNhbnZhc0NvbnRleHQ7Zm9yKGcuc2F2ZSgpLGcuY3R4VHJhbnNmb3JtKHRoaXMuZmluYWxUcmFuc2Zvcm0ubWF0LnByb3BzKSxpPTA7YT5pO2krPTEpaWYoeT10aGlzLnN0eWxlc0xpc3RbaV0udHlwZSwoXCJzdFwiIT09eXx8MCE9PXRoaXMuc3R5bGVzTGlzdFtpXS53aSkmJnRoaXMuc3R5bGVzTGlzdFtpXS5kYXRhLl9yZW5kZXIpe2ZvcihnLnNhdmUoKSxkPXRoaXMuc3R5bGVzTGlzdFtpXS5lbGVtZW50cyxcInN0XCI9PT15Pyh2LnN0cm9rZVN0eWxlPXRoaXMuc3R5bGVzTGlzdFtpXS5jbyx2LmxpbmVXaWR0aD10aGlzLnN0eWxlc0xpc3RbaV0ud2ksdi5saW5lQ2FwPXRoaXMuc3R5bGVzTGlzdFtpXS5sYyx2LmxpbmVKb2luPXRoaXMuc3R5bGVzTGlzdFtpXS5saix2Lm1pdGVyTGltaXQ9dGhpcy5zdHlsZXNMaXN0W2ldLm1sfHwwKTp2LmZpbGxTdHlsZT10aGlzLnN0eWxlc0xpc3RbaV0uY28sZy5jdHhPcGFjaXR5KHRoaXMuc3R5bGVzTGlzdFtpXS5jb09wKSxcInN0XCIhPT15JiZ2LmJlZ2luUGF0aCgpLG09ZC5sZW5ndGgscD0wO20+cDtwKz0xKXtmb3IoXCJzdFwiPT09eSYmKHYuYmVnaW5QYXRoKCksdGhpcy5zdHlsZXNMaXN0W2ldLmRhPyh2LnNldExpbmVEYXNoKHRoaXMuc3R5bGVzTGlzdFtpXS5kYSksdi5saW5lRGFzaE9mZnNldD10aGlzLnN0eWxlc0xpc3RbaV1bXCJkb1wiXSx0aGlzLmdsb2JhbERhdGEuaXNEYXNoZWQ9ITApOnRoaXMuZ2xvYmFsRGF0YS5pc0Rhc2hlZCYmKHYuc2V0TGluZURhc2godGhpcy5kYXNoUmVzZXR0ZXIpLHRoaXMuZ2xvYmFsRGF0YS5pc0Rhc2hlZD0hMSkpLHU9ZFtwXS50ck5vZGVzLGM9dS5sZW5ndGgsZj0wO2M+ZjtmKz0xKVwibVwiPT11W2ZdLnQ/di5tb3ZlVG8odVtmXS5wWzBdLHVbZl0ucFsxXSk6XCJjXCI9PXVbZl0udD92LmJlemllckN1cnZlVG8odVtmXS5wMVswXSx1W2ZdLnAxWzFdLHVbZl0ucDJbMF0sdVtmXS5wMlsxXSx1W2ZdLnAzWzBdLHVbZl0ucDNbMV0pOnYuY2xvc2VQYXRoKCk7XCJzdFwiPT09eSYmdi5zdHJva2UoKX1cInN0XCIhPT15JiZ2LmZpbGwodGhpcy5zdHlsZXNMaXN0W2ldLnIpLGcucmVzdG9yZSgpfWcucmVzdG9yZSgpLHRoaXMuZmlyc3RGcmFtZSYmKHRoaXMuZmlyc3RGcmFtZT0hMSl9fSxDVlNoYXBlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyUGF0aD1mdW5jdGlvbih0LGUscil7dmFyIHMsaSxhLG4sbz1yLm1hdE1kZnx8ZS5zaC5tZGZ8fHRoaXMuZmlyc3RGcmFtZTtpZihvKXt2YXIgaD1lLnNoLnBhdGhzLGw9ci5tYXQ7bj1oLl9sZW5ndGg7dmFyIHA9ZS50ck5vZGVzO2ZvcihwLmxlbmd0aD0wLGE9MDtuPmE7YSs9MSl7dmFyIG09aC5zaGFwZXNbYV07aWYobSYmbS52KXtmb3Iocz1tLl9sZW5ndGgsaT0xO3M+aTtpKz0xKTE9PWkmJnAucHVzaCh7dDpcIm1cIixwOmwuYXBwbHlUb1BvaW50QXJyYXkobS52WzBdWzBdLG0udlswXVsxXSwwKX0pLHAucHVzaCh7dDpcImNcIixwMTpsLmFwcGx5VG9Qb2ludEFycmF5KG0ub1tpLTFdWzBdLG0ub1tpLTFdWzFdLDApLHAyOmwuYXBwbHlUb1BvaW50QXJyYXkobS5pW2ldWzBdLG0uaVtpXVsxXSwwKSxwMzpsLmFwcGx5VG9Qb2ludEFycmF5KG0udltpXVswXSxtLnZbaV1bMV0sMCl9KTsxPT1zJiZwLnB1c2goe3Q6XCJtXCIscDpsLmFwcGx5VG9Qb2ludEFycmF5KG0udlswXVswXSxtLnZbMF1bMV0sMCl9KSxtLmMmJnMmJihwLnB1c2goe1xudDpcImNcIixwMTpsLmFwcGx5VG9Qb2ludEFycmF5KG0ub1tpLTFdWzBdLG0ub1tpLTFdWzFdLDApLHAyOmwuYXBwbHlUb1BvaW50QXJyYXkobS5pWzBdWzBdLG0uaVswXVsxXSwwKSxwMzpsLmFwcGx5VG9Qb2ludEFycmF5KG0udlswXVswXSxtLnZbMF1bMV0sMCl9KSxwLnB1c2goe3Q6XCJ6XCJ9KSksZS5sU3RyPXB9fWlmKGUuc3QpZm9yKGk9MDsxNj5pO2krPTEpZS50cltpXT1yLm1hdC5wcm9wc1tpXTtlLnRyTm9kZXM9cH19LENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJGaWxsPWZ1bmN0aW9uKHQsZSxyKXt2YXIgcz1lLnN0eWxlOyhlLmMubWRmfHx0aGlzLmZpcnN0RnJhbWUpJiYocy5jbz1cInJnYihcIitibV9mbG9vcihlLmMudlswXSkrXCIsXCIrYm1fZmxvb3IoZS5jLnZbMV0pK1wiLFwiK2JtX2Zsb29yKGUuYy52WzJdKStcIilcIiksKGUuby5tZGZ8fHIub3BNZGZ8fHRoaXMuZmlyc3RGcmFtZSkmJihzLmNvT3A9ZS5vLnYqci5vcGFjaXR5KX0sQ1ZTaGFwZUVsZW1lbnQucHJvdG90eXBlLnJlbmRlclN0cm9rZT1mdW5jdGlvbih0LGUscil7dmFyIHM9ZS5zdHlsZSxpPWUuZDtpJiYoaS5tZGZ8fHRoaXMuZmlyc3RGcmFtZSkmJihzLmRhPWkuZGFzaEFycmF5LHNbXCJkb1wiXT1pLmRhc2hvZmZzZXRbMF0pLChlLmMubWRmfHx0aGlzLmZpcnN0RnJhbWUpJiYocy5jbz1cInJnYihcIitibV9mbG9vcihlLmMudlswXSkrXCIsXCIrYm1fZmxvb3IoZS5jLnZbMV0pK1wiLFwiK2JtX2Zsb29yKGUuYy52WzJdKStcIilcIiksKGUuby5tZGZ8fHIub3BNZGZ8fHRoaXMuZmlyc3RGcmFtZSkmJihzLmNvT3A9ZS5vLnYqci5vcGFjaXR5KSwoZS53Lm1kZnx8dGhpcy5maXJzdEZyYW1lKSYmKHMud2k9ZS53LnYpfSxDVlNoYXBlRWxlbWVudC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuc2hhcGVzRGF0YT1udWxsLHRoaXMuZ2xvYmFsRGF0YT1udWxsLHRoaXMuY2FudmFzQ29udGV4dD1udWxsLHRoaXMuc3R5bGVzTGlzdC5sZW5ndGg9MCx0aGlzLml0ZW1EYXRhLmxlbmd0aD0wLHRoaXMuX3BhcmVudC5kZXN0cm95LmNhbGwodGhpcy5fcGFyZW50KX0sY3JlYXRlRWxlbWVudChDVkJhc2VFbGVtZW50LENWU29saWRFbGVtZW50KSxDVlNvbGlkRWxlbWVudC5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7aWYodGhpcy5fcGFyZW50LnJlbmRlckZyYW1lLmNhbGwodGhpcyx0KSE9PSExKXt2YXIgZT10aGlzLmNhbnZhc0NvbnRleHQ7dGhpcy5nbG9iYWxEYXRhLnJlbmRlcmVyLnNhdmUoKSx0aGlzLmdsb2JhbERhdGEucmVuZGVyZXIuY3R4VHJhbnNmb3JtKHRoaXMuZmluYWxUcmFuc2Zvcm0ubWF0LnByb3BzKSx0aGlzLmdsb2JhbERhdGEucmVuZGVyZXIuY3R4T3BhY2l0eSh0aGlzLmZpbmFsVHJhbnNmb3JtLm9wYWNpdHkpLGUuZmlsbFN0eWxlPXRoaXMuZGF0YS5zYyxlLmZpbGxSZWN0KDAsMCx0aGlzLmRhdGEuc3csdGhpcy5kYXRhLnNoKSx0aGlzLmdsb2JhbERhdGEucmVuZGVyZXIucmVzdG9yZSh0aGlzLmRhdGEuaGFzTWFzayksdGhpcy5maXJzdEZyYW1lJiYodGhpcy5maXJzdEZyYW1lPSExKX19LGNyZWF0ZUVsZW1lbnQoQ1ZCYXNlRWxlbWVudCxDVlRleHRFbGVtZW50KSxleHRlbmRQcm90b3R5cGUoSVRleHRFbGVtZW50LENWVGV4dEVsZW1lbnQpLENWVGV4dEVsZW1lbnQucHJvdG90eXBlLnRIZWxwZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0KFwiMmRcIiksQ1ZUZXh0RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlRWxlbWVudHM9ZnVuY3Rpb24oKXt0aGlzLl9wYXJlbnQuY3JlYXRlRWxlbWVudHMuY2FsbCh0aGlzKX0sQ1ZUZXh0RWxlbWVudC5wcm90b3R5cGUuYnVpbGROZXdUZXh0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50ZXh0UHJvcGVydHkuY3VycmVudERhdGE7dGhpcy5yZW5kZXJlZExldHRlcnM9QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOnQubD90LmwubGVuZ3RoOjB9KTt2YXIgZT0hMTt0LmZjPyhlPSEwLHRoaXMudmFsdWVzLmZpbGw9dGhpcy5idWlsZENvbG9yKHQuZmMpKTp0aGlzLnZhbHVlcy5maWxsPVwicmdiYSgwLDAsMCwwKVwiLHRoaXMuZmlsbD1lO3ZhciByPSExO3Quc2MmJihyPSEwLHRoaXMudmFsdWVzLnN0cm9rZT10aGlzLmJ1aWxkQ29sb3IodC5zYyksdGhpcy52YWx1ZXMuc1dpZHRoPXQuc3cpO3ZhciBzLGksYT10aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuZ2V0Rm9udEJ5TmFtZSh0LmYpLG49dC5sLG89dGhpcy5tSGVscGVyO3RoaXMuc3Ryb2tlPXIsdGhpcy52YWx1ZXMuZlZhbHVlPXQucytcInB4IFwiK3RoaXMuZ2xvYmFsRGF0YS5mb250TWFuYWdlci5nZXRGb250QnlOYW1lKHQuZikuZkZhbWlseSxpPXQudC5sZW5ndGg7dmFyIGgsbCxwLG0sZixjLGQsdSx5LGcsdj10aGlzLmRhdGEuc2luZ2xlU2hhcGUsYj10LnRyLzFlMyp0LnMsRT0wLFA9MCx4PSEwLFM9MDtmb3Iocz0wO2k+cztzKz0xKXtmb3IoaD10aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuZ2V0Q2hhckRhdGEodC50LmNoYXJBdChzKSxhLmZTdHlsZSx0aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuZ2V0Rm9udEJ5TmFtZSh0LmYpLmZGYW1pbHkpLGw9aCYmaC5kYXRhfHx7fSxvLnJlc2V0KCksdiYmbltzXS5uJiYoRT0tYixQKz10LnlPZmZzZXQsUCs9eD8xOjAseD0hMSksZj1sLnNoYXBlcz9sLnNoYXBlc1swXS5pdDpbXSxkPWYubGVuZ3RoLG8uc2NhbGUodC5zLzEwMCx0LnMvMTAwKSx2JiZ0aGlzLmFwcGx5VGV4dFByb3BlcnRpZXNUb01hdHJpeCh0LG8sbltzXS5saW5lLEUsUCkseT1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6ZH0pLGM9MDtkPmM7Yys9MSl7Zm9yKG09ZltjXS5rcy5rLmkubGVuZ3RoLHU9ZltjXS5rcy5rLGc9W10scD0xO20+cDtwKz0xKTE9PXAmJmcucHVzaChvLmFwcGx5VG9YKHUudlswXVswXSx1LnZbMF1bMV0sMCksby5hcHBseVRvWSh1LnZbMF1bMF0sdS52WzBdWzFdLDApKSxnLnB1c2goby5hcHBseVRvWCh1Lm9bcC0xXVswXSx1Lm9bcC0xXVsxXSwwKSxvLmFwcGx5VG9ZKHUub1twLTFdWzBdLHUub1twLTFdWzFdLDApLG8uYXBwbHlUb1godS5pW3BdWzBdLHUuaVtwXVsxXSwwKSxvLmFwcGx5VG9ZKHUuaVtwXVswXSx1LmlbcF1bMV0sMCksby5hcHBseVRvWCh1LnZbcF1bMF0sdS52W3BdWzFdLDApLG8uYXBwbHlUb1kodS52W3BdWzBdLHUudltwXVsxXSwwKSk7Zy5wdXNoKG8uYXBwbHlUb1godS5vW3AtMV1bMF0sdS5vW3AtMV1bMV0sMCksby5hcHBseVRvWSh1Lm9bcC0xXVswXSx1Lm9bcC0xXVsxXSwwKSxvLmFwcGx5VG9YKHUuaVswXVswXSx1LmlbMF1bMV0sMCksby5hcHBseVRvWSh1LmlbMF1bMF0sdS5pWzBdWzFdLDApLG8uYXBwbHlUb1godS52WzBdWzBdLHUudlswXVsxXSwwKSxvLmFwcGx5VG9ZKHUudlswXVswXSx1LnZbMF1bMV0sMCkpLHlbY109Z312JiYoRSs9bltzXS5sLEUrPWIpLHRoaXMudGV4dFNwYW5zW1NdP3RoaXMudGV4dFNwYW5zW1NdLmVsZW09eTp0aGlzLnRleHRTcGFuc1tTXT17ZWxlbTp5fSxTKz0xfX0sQ1ZUZXh0RWxlbWVudC5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7aWYodGhpcy5fcGFyZW50LnJlbmRlckZyYW1lLmNhbGwodGhpcyx0KSE9PSExKXt2YXIgZT10aGlzLmNhbnZhc0NvbnRleHQscj10aGlzLmZpbmFsVHJhbnNmb3JtLm1hdC5wcm9wczt0aGlzLmdsb2JhbERhdGEucmVuZGVyZXIuc2F2ZSgpLHRoaXMuZ2xvYmFsRGF0YS5yZW5kZXJlci5jdHhUcmFuc2Zvcm0ociksdGhpcy5nbG9iYWxEYXRhLnJlbmRlcmVyLmN0eE9wYWNpdHkodGhpcy5maW5hbFRyYW5zZm9ybS5vcGFjaXR5KSxlLmZvbnQ9dGhpcy52YWx1ZXMuZlZhbHVlLGUubGluZUNhcD1cImJ1dHRcIixlLmxpbmVKb2luPVwibWl0ZXJcIixlLm1pdGVyTGltaXQ9NCx0aGlzLmRhdGEuc2luZ2xlU2hhcGV8fHRoaXMudGV4dEFuaW1hdG9yLmdldE1lYXN1cmVzKHRoaXMudGV4dFByb3BlcnR5LmN1cnJlbnREYXRhLHRoaXMubGV0dGVyc0NoYW5nZWRGbGFnKTt2YXIgcyxpLGEsbixvLGgsbD10aGlzLnRleHRBbmltYXRvci5yZW5kZXJlZExldHRlcnMscD10aGlzLnRleHRQcm9wZXJ0eS5jdXJyZW50RGF0YS5sO2k9cC5sZW5ndGg7dmFyIG0sZixjLGQ9bnVsbCx1PW51bGwseT1udWxsO2ZvcihzPTA7aT5zO3MrPTEpaWYoIXBbc10ubil7aWYobT1sW3NdLG0mJih0aGlzLmdsb2JhbERhdGEucmVuZGVyZXIuc2F2ZSgpLHRoaXMuZ2xvYmFsRGF0YS5yZW5kZXJlci5jdHhUcmFuc2Zvcm0obS5wKSx0aGlzLmdsb2JhbERhdGEucmVuZGVyZXIuY3R4T3BhY2l0eShtLm8pKSx0aGlzLmZpbGwpe2ZvcihtJiZtLmZjP2QhPT1tLmZjJiYoZD1tLmZjLGUuZmlsbFN0eWxlPW0uZmMpOmQhPT10aGlzLnZhbHVlcy5maWxsJiYoZD10aGlzLnZhbHVlcy5maWxsLGUuZmlsbFN0eWxlPXRoaXMudmFsdWVzLmZpbGwpLGY9dGhpcy50ZXh0U3BhbnNbc10uZWxlbSxuPWYubGVuZ3RoLHRoaXMuZ2xvYmFsRGF0YS5jYW52YXNDb250ZXh0LmJlZ2luUGF0aCgpLGE9MDtuPmE7YSs9MSlmb3IoYz1mW2FdLGg9Yy5sZW5ndGgsdGhpcy5nbG9iYWxEYXRhLmNhbnZhc0NvbnRleHQubW92ZVRvKGNbMF0sY1sxXSksbz0yO2g+bztvKz02KXRoaXMuZ2xvYmFsRGF0YS5jYW52YXNDb250ZXh0LmJlemllckN1cnZlVG8oY1tvXSxjW28rMV0sY1tvKzJdLGNbbyszXSxjW28rNF0sY1tvKzVdKTt0aGlzLmdsb2JhbERhdGEuY2FudmFzQ29udGV4dC5jbG9zZVBhdGgoKSx0aGlzLmdsb2JhbERhdGEuY2FudmFzQ29udGV4dC5maWxsKCl9aWYodGhpcy5zdHJva2Upe2ZvcihtJiZtLnN3P3khPT1tLnN3JiYoeT1tLnN3LGUubGluZVdpZHRoPW0uc3cpOnkhPT10aGlzLnZhbHVlcy5zV2lkdGgmJih5PXRoaXMudmFsdWVzLnNXaWR0aCxlLmxpbmVXaWR0aD10aGlzLnZhbHVlcy5zV2lkdGgpLG0mJm0uc2M/dSE9PW0uc2MmJih1PW0uc2MsZS5zdHJva2VTdHlsZT1tLnNjKTp1IT09dGhpcy52YWx1ZXMuc3Ryb2tlJiYodT10aGlzLnZhbHVlcy5zdHJva2UsZS5zdHJva2VTdHlsZT10aGlzLnZhbHVlcy5zdHJva2UpLGY9dGhpcy50ZXh0U3BhbnNbc10uZWxlbSxuPWYubGVuZ3RoLHRoaXMuZ2xvYmFsRGF0YS5jYW52YXNDb250ZXh0LmJlZ2luUGF0aCgpLGE9MDtuPmE7YSs9MSlmb3IoYz1mW2FdLGg9Yy5sZW5ndGgsdGhpcy5nbG9iYWxEYXRhLmNhbnZhc0NvbnRleHQubW92ZVRvKGNbMF0sY1sxXSksbz0yO2g+bztvKz02KXRoaXMuZ2xvYmFsRGF0YS5jYW52YXNDb250ZXh0LmJlemllckN1cnZlVG8oY1tvXSxjW28rMV0sY1tvKzJdLGNbbyszXSxjW28rNF0sY1tvKzVdKTt0aGlzLmdsb2JhbERhdGEuY2FudmFzQ29udGV4dC5jbG9zZVBhdGgoKSx0aGlzLmdsb2JhbERhdGEuY2FudmFzQ29udGV4dC5zdHJva2UoKX1tJiZ0aGlzLmdsb2JhbERhdGEucmVuZGVyZXIucmVzdG9yZSgpfXRoaXMuZ2xvYmFsRGF0YS5yZW5kZXJlci5yZXN0b3JlKHRoaXMuZGF0YS5oYXNNYXNrKSx0aGlzLmZpcnN0RnJhbWUmJih0aGlzLmZpcnN0RnJhbWU9ITEpfX0sY3JlYXRlRWxlbWVudChCYXNlRWxlbWVudCxIQmFzZUVsZW1lbnQpLEhCYXNlRWxlbWVudC5wcm90b3R5cGUuY2hlY2tCbGVuZE1vZGU9ZnVuY3Rpb24oKXt9LEhCYXNlRWxlbWVudC5wcm90b3R5cGUuc2V0QmxlbmRNb2RlPUJhc2VFbGVtZW50LnByb3RvdHlwZS5zZXRCbGVuZE1vZGUsSEJhc2VFbGVtZW50LnByb3RvdHlwZS5nZXRCYXNlRWxlbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJhc2VFbGVtZW50fSxIQmFzZUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRzPWZ1bmN0aW9uKCl7dGhpcy5kYXRhLmhhc01hc2s/KHRoaXMubGF5ZXJFbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInN2Z1wiKSxzdHlsZURpdih0aGlzLmxheWVyRWxlbWVudCksdGhpcy5iYXNlRWxlbWVudD10aGlzLmxheWVyRWxlbWVudCx0aGlzLm1hc2tlZEVsZW1lbnQ9dGhpcy5sYXllckVsZW1lbnQpOnRoaXMubGF5ZXJFbGVtZW50PXRoaXMucGFyZW50Q29udGFpbmVyLHRoaXMudHJhbnNmb3JtZWRFbGVtZW50PXRoaXMubGF5ZXJFbGVtZW50LCF0aGlzLmRhdGEubG58fDQhPT10aGlzLmRhdGEudHkmJjAhPT10aGlzLmRhdGEudHl8fCh0aGlzLmxheWVyRWxlbWVudD09PXRoaXMucGFyZW50Q29udGFpbmVyJiYodGhpcy5sYXllckVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZ1wiKSx0aGlzLmJhc2VFbGVtZW50PXRoaXMubGF5ZXJFbGVtZW50KSx0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLHRoaXMuZGF0YS5sbikpLHRoaXMuc2V0QmxlbmRNb2RlKCksdGhpcy5sYXllckVsZW1lbnQhPT10aGlzLnBhcmVudENvbnRhaW5lciYmKHRoaXMucGxhY2Vob2xkZXI9bnVsbCksdGhpcy5jaGVja1BhcmVudGluZygpfSxIQmFzZUVsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe2lmKDM9PT10aGlzLmRhdGEudHkpcmV0dXJuITE7aWYodGhpcy5jdXJyZW50RnJhbWVOdW09PT10aGlzLmxhc3ROdW18fCF0aGlzLmlzVmlzaWJsZSlyZXR1cm4gdGhpcy5pc1Zpc2libGU7dGhpcy5sYXN0TnVtPXRoaXMuY3VycmVudEZyYW1lTnVtLHRoaXMuZmluYWxUcmFuc2Zvcm0ub3BNZGY9dGhpcy5maW5hbFRyYW5zZm9ybS5vcC5tZGYsdGhpcy5maW5hbFRyYW5zZm9ybS5tYXRNZGY9dGhpcy5maW5hbFRyYW5zZm9ybS5tUHJvcC5tZGYsdGhpcy5maW5hbFRyYW5zZm9ybS5vcGFjaXR5PXRoaXMuZmluYWxUcmFuc2Zvcm0ub3Audix0aGlzLmZpcnN0RnJhbWUmJih0aGlzLmZpbmFsVHJhbnNmb3JtLm9wTWRmPSEwLHRoaXMuZmluYWxUcmFuc2Zvcm0ubWF0TWRmPSEwKTt2YXIgZSxyPXRoaXMuZmluYWxUcmFuc2Zvcm0ubWF0O2lmKHRoaXMuaGllcmFyY2h5KXt2YXIgcyxpPXRoaXMuaGllcmFyY2h5Lmxlbmd0aDtmb3IoZT10aGlzLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLnYucHJvcHMsci5jbG9uZUZyb21Qcm9wcyhlKSxzPTA7aT5zO3MrPTEpdGhpcy5maW5hbFRyYW5zZm9ybS5tYXRNZGY9dGhpcy5oaWVyYXJjaHlbc10uZmluYWxUcmFuc2Zvcm0ubVByb3AubWRmPyEwOnRoaXMuZmluYWxUcmFuc2Zvcm0ubWF0TWRmLGU9dGhpcy5oaWVyYXJjaHlbc10uZmluYWxUcmFuc2Zvcm0ubVByb3Audi5wcm9wcyxyLnRyYW5zZm9ybShlWzBdLGVbMV0sZVsyXSxlWzNdLGVbNF0sZVs1XSxlWzZdLGVbN10sZVs4XSxlWzldLGVbMTBdLGVbMTFdLGVbMTJdLGVbMTNdLGVbMTRdLGVbMTVdKX1lbHNlIHRoaXMuaXNWaXNpYmxlJiZ0aGlzLmZpbmFsVHJhbnNmb3JtLm1hdE1kZiYmKHQ/KGU9dGhpcy5maW5hbFRyYW5zZm9ybS5tUHJvcC52LnByb3BzLHIuY2xvbmVGcm9tUHJvcHMoZSkpOnIuY2xvbmVGcm9tUHJvcHModGhpcy5maW5hbFRyYW5zZm9ybS5tUHJvcC52LnByb3BzKSk7cmV0dXJuIHRoaXMuZGF0YS5oYXNNYXNrJiZ0aGlzLm1hc2tNYW5hZ2VyLnJlbmRlckZyYW1lKHIpLHQmJihlPXQubWF0LnByb3BzLHIuY2xvbmVGcm9tUHJvcHMoZSksdGhpcy5maW5hbFRyYW5zZm9ybS5vcGFjaXR5Kj10Lm9wYWNpdHksdGhpcy5maW5hbFRyYW5zZm9ybS5vcE1kZj10Lm9wTWRmPyEwOnRoaXMuZmluYWxUcmFuc2Zvcm0ub3BNZGYsdGhpcy5maW5hbFRyYW5zZm9ybS5tYXRNZGY9dC5tYXRNZGY/ITA6dGhpcy5maW5hbFRyYW5zZm9ybS5tYXRNZGYpLHRoaXMuZmluYWxUcmFuc2Zvcm0ubWF0TWRmJiYodGhpcy50cmFuc2Zvcm1lZEVsZW1lbnQuc3R5bGUudHJhbnNmb3JtPXRoaXMudHJhbnNmb3JtZWRFbGVtZW50LnN0eWxlLndlYmtpdFRyYW5zZm9ybT1yLnRvQ1NTKCksdGhpcy5maW5hbE1hdD1yKSx0aGlzLmZpbmFsVHJhbnNmb3JtLm9wTWRmJiYodGhpcy50cmFuc2Zvcm1lZEVsZW1lbnQuc3R5bGUub3BhY2l0eT10aGlzLmZpbmFsVHJhbnNmb3JtLm9wYWNpdHkpLHRoaXMuaXNWaXNpYmxlfSxIQmFzZUVsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmxheWVyRWxlbWVudD1udWxsLHRoaXMudHJhbnNmb3JtZWRFbGVtZW50PW51bGwsdGhpcy5wYXJlbnRDb250YWluZXI9bnVsbCx0aGlzLm1hdHRlRWxlbWVudCYmKHRoaXMubWF0dGVFbGVtZW50PW51bGwpLHRoaXMubWFza01hbmFnZXImJih0aGlzLm1hc2tNYW5hZ2VyLmRlc3Ryb3koKSx0aGlzLm1hc2tNYW5hZ2VyPW51bGwpfSxIQmFzZUVsZW1lbnQucHJvdG90eXBlLmdldERvbUVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYXllckVsZW1lbnR9LEhCYXNlRWxlbWVudC5wcm90b3R5cGUuYWRkTWFza3M9ZnVuY3Rpb24odCl7dGhpcy5tYXNrTWFuYWdlcj1uZXcgTWFza0VsZW1lbnQodCx0aGlzLHRoaXMuZ2xvYmFsRGF0YSl9LEhCYXNlRWxlbWVudC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe30sSEJhc2VFbGVtZW50LnByb3RvdHlwZS5zZXRNYXR0ZT1mdW5jdGlvbigpe30sSEJhc2VFbGVtZW50LnByb3RvdHlwZS5idWlsZEVsZW1lbnRQYXJlbnRpbmc9SHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkRWxlbWVudFBhcmVudGluZyxjcmVhdGVFbGVtZW50KEhCYXNlRWxlbWVudCxIU29saWRFbGVtZW50KSxIU29saWRFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50cz1mdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7c3R5bGVEaXYodCk7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwic3ZnXCIpO3N0eWxlRGl2KGUpLGUuc2V0QXR0cmlidXRlKFwid2lkdGhcIix0aGlzLmRhdGEuc3cpLGUuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsdGhpcy5kYXRhLnNoKSx0LmFwcGVuZENoaWxkKGUpLHRoaXMubGF5ZXJFbGVtZW50PXQsdGhpcy50cmFuc2Zvcm1lZEVsZW1lbnQ9dCx0aGlzLmJhc2VFbGVtZW50PXQsdGhpcy5pbm5lckVsZW09dCx0aGlzLmRhdGEubG4mJnRoaXMuaW5uZXJFbGVtLnNldEF0dHJpYnV0ZShcImlkXCIsdGhpcy5kYXRhLmxuKSwwIT09dGhpcy5kYXRhLmJtJiZ0aGlzLnNldEJsZW5kTW9kZSgpO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInJlY3RcIik7ci5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLHRoaXMuZGF0YS5zdyksci5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIix0aGlzLmRhdGEuc2gpLHIuc2V0QXR0cmlidXRlKFwiZmlsbFwiLHRoaXMuZGF0YS5zYyksZS5hcHBlbmRDaGlsZChyKSx0aGlzLmRhdGEuaGFzTWFzayYmKHRoaXMubWFza2VkRWxlbWVudD1yKSx0aGlzLmNoZWNrUGFyZW50aW5nKCl9LEhTb2xpZEVsZW1lbnQucHJvdG90eXBlLmhpZGU9U1ZHQmFzZUVsZW1lbnQucHJvdG90eXBlLmhpZGUsSFNvbGlkRWxlbWVudC5wcm90b3R5cGUuc2hvdz1TVkdCYXNlRWxlbWVudC5wcm90b3R5cGUuc2hvdyxIU29saWRFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJGcmFtZT1JSW1hZ2VFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJGcmFtZSxIU29saWRFbGVtZW50LnByb3RvdHlwZS5kZXN0cm95PUlJbWFnZUVsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3ksY3JlYXRlRWxlbWVudChIQmFzZUVsZW1lbnQsSENvbXBFbGVtZW50KSxIQ29tcEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRzPWZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpZihzdHlsZURpdih0KSx0aGlzLmRhdGEubG4mJnQuc2V0QXR0cmlidXRlKFwiaWRcIix0aGlzLmRhdGEubG4pLHQuc3R5bGUuY2xpcD1cInJlY3QoMHB4LCBcIit0aGlzLmRhdGEudytcInB4LCBcIit0aGlzLmRhdGEuaCtcInB4LCAwcHgpXCIsdGhpcy5kYXRhLmhhc01hc2spe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInN2Z1wiKTtzdHlsZURpdihlKSxlLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsdGhpcy5kYXRhLncpLGUuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsdGhpcy5kYXRhLmgpO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImdcIik7ZS5hcHBlbmRDaGlsZChyKSx0LmFwcGVuZENoaWxkKGUpLHRoaXMubWFza2VkRWxlbWVudD1yLHRoaXMuYmFzZUVsZW1lbnQ9dCx0aGlzLmxheWVyRWxlbWVudD1yLHRoaXMudHJhbnNmb3JtZWRFbGVtZW50PXR9ZWxzZSB0aGlzLmxheWVyRWxlbWVudD10LHRoaXMuYmFzZUVsZW1lbnQ9dGhpcy5sYXllckVsZW1lbnQsdGhpcy50cmFuc2Zvcm1lZEVsZW1lbnQ9dDt0aGlzLmNoZWNrUGFyZW50aW5nKCl9LEhDb21wRWxlbWVudC5wcm90b3R5cGUuaGlkZT1JQ29tcEVsZW1lbnQucHJvdG90eXBlLmhpZGUsSENvbXBFbGVtZW50LnByb3RvdHlwZS5wcmVwYXJlRnJhbWU9SUNvbXBFbGVtZW50LnByb3RvdHlwZS5wcmVwYXJlRnJhbWUsSENvbXBFbGVtZW50LnByb3RvdHlwZS5zZXRFbGVtZW50cz1JQ29tcEVsZW1lbnQucHJvdG90eXBlLnNldEVsZW1lbnRzLEhDb21wRWxlbWVudC5wcm90b3R5cGUuZ2V0RWxlbWVudHM9SUNvbXBFbGVtZW50LnByb3RvdHlwZS5nZXRFbGVtZW50cyxIQ29tcEVsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3k9SUNvbXBFbGVtZW50LnByb3RvdHlwZS5kZXN0cm95LEhDb21wRWxlbWVudC5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7dmFyIGUscj10aGlzLl9wYXJlbnQucmVuZGVyRnJhbWUuY2FsbCh0aGlzLHQpLHM9dGhpcy5sYXllcnMubGVuZ3RoO2lmKHI9PT0hMSlyZXR1cm4gdm9pZCB0aGlzLmhpZGUoKTtmb3IodGhpcy5oaWRkZW49ITEsZT0wO3M+ZTtlKz0xKSh0aGlzLmNvbXBsZXRlTGF5ZXJzfHx0aGlzLmVsZW1lbnRzW2VdKSYmdGhpcy5lbGVtZW50c1tlXS5yZW5kZXJGcmFtZSgpO3RoaXMuZmlyc3RGcmFtZSYmKHRoaXMuZmlyc3RGcmFtZT0hMSl9LEhDb21wRWxlbWVudC5wcm90b3R5cGUuY2hlY2tMYXllcnM9QmFzZVJlbmRlcmVyLnByb3RvdHlwZS5jaGVja0xheWVycyxIQ29tcEVsZW1lbnQucHJvdG90eXBlLmJ1aWxkSXRlbT1IeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuYnVpbGRJdGVtLEhDb21wRWxlbWVudC5wcm90b3R5cGUuY2hlY2tQZW5kaW5nRWxlbWVudHM9SHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmNoZWNrUGVuZGluZ0VsZW1lbnRzLEhDb21wRWxlbWVudC5wcm90b3R5cGUuYWRkUGVuZGluZ0VsZW1lbnQ9SHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmFkZFBlbmRpbmdFbGVtZW50LEhDb21wRWxlbWVudC5wcm90b3R5cGUuYnVpbGRBbGxJdGVtcz1CYXNlUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkQWxsSXRlbXMsSENvbXBFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVJdGVtPUh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVJdGVtLEhDb21wRWxlbWVudC5wcm90b3R5cGUuYnVpbGRFbGVtZW50UGFyZW50aW5nPUh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5idWlsZEVsZW1lbnRQYXJlbnRpbmcsSENvbXBFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVJbWFnZT1IeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlSW1hZ2UsSENvbXBFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVDb21wPUh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVDb21wLEhDb21wRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU29saWQ9SHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVNvbGlkLEhDb21wRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhcGU9SHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVNoYXBlLEhDb21wRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlVGV4dD1IeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlVGV4dCxIQ29tcEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUJhc2U9SHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUJhc2UsSENvbXBFbGVtZW50LnByb3RvdHlwZS5hcHBlbmRFbGVtZW50SW5Qb3M9SHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmFwcGVuZEVsZW1lbnRJblBvcyxjcmVhdGVFbGVtZW50KEhCYXNlRWxlbWVudCxIU2hhcGVFbGVtZW50KTt2YXIgcGFyZW50PUhTaGFwZUVsZW1lbnQucHJvdG90eXBlLl9wYXJlbnQ7ZXh0ZW5kUHJvdG90eXBlKElTaGFwZUVsZW1lbnQsSFNoYXBlRWxlbWVudCksSFNoYXBlRWxlbWVudC5wcm90b3R5cGUuX3BhcmVudD1wYXJlbnQsSFNoYXBlRWxlbWVudC5wcm90b3R5cGUuX3JlbmRlclNoYXBlRnJhbWU9SFNoYXBlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyRnJhbWUsSFNoYXBlRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlRWxlbWVudHM9ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3N0eWxlRGl2KHQpO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInN2Z1wiKTtzdHlsZURpdihlKTt2YXIgcj10aGlzLmNvbXAuZGF0YT90aGlzLmNvbXAuZGF0YTp0aGlzLmdsb2JhbERhdGEuY29tcFNpemU7aWYoZS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLHIudyksZS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixyLmgpLHRoaXMuZGF0YS5oYXNNYXNrKXt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJnXCIpO3QuYXBwZW5kQ2hpbGQoZSksZS5hcHBlbmRDaGlsZChzKSx0aGlzLm1hc2tlZEVsZW1lbnQ9cyx0aGlzLmxheWVyRWxlbWVudD1zLHRoaXMuc2hhcGVzQ29udGFpbmVyPXN9ZWxzZSB0LmFwcGVuZENoaWxkKGUpLHRoaXMubGF5ZXJFbGVtZW50PWUsdGhpcy5zaGFwZXNDb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwiZ1wiKSx0aGlzLmxheWVyRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnNoYXBlc0NvbnRhaW5lcik7dGhpcy5kYXRhLmhkfHwodGhpcy5iYXNlRWxlbWVudD10KSx0aGlzLmlubmVyRWxlbT10LHRoaXMuZGF0YS5sbiYmdGhpcy5pbm5lckVsZW0uc2V0QXR0cmlidXRlKFwiaWRcIix0aGlzLmRhdGEubG4pLHRoaXMuc2VhcmNoU2hhcGVzKHRoaXMuc2hhcGVzRGF0YSx0aGlzLml0ZW1zRGF0YSx0aGlzLnByZXZWaWV3RGF0YSx0aGlzLmxheWVyRWxlbWVudCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLDAsW10sITApLHRoaXMuYnVpbGRFeHByZXNzaW9uSW50ZXJmYWNlKCksdGhpcy5sYXllckVsZW1lbnQ9dCx0aGlzLnRyYW5zZm9ybWVkRWxlbWVudD10LHRoaXMuc2hhcGVDb250PWUsMCE9PXRoaXMuZGF0YS5ibSYmdGhpcy5zZXRCbGVuZE1vZGUoKSx0aGlzLmNoZWNrUGFyZW50aW5nKCl9LEhTaGFwZUVsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZmlyc3RGcmFtZTtpZih0aGlzLl9yZW5kZXJTaGFwZUZyYW1lKCksdGhpcy5pc1Zpc2libGUmJih0aGlzLmVsZW1NZGZ8fGUpKXt2YXIgcj10aGlzLnNoYXBlQ29udC5nZXRCQm94KCkscz0hMTt0aGlzLmN1cnJlbnRCQm94LnchPT1yLndpZHRoJiYodGhpcy5jdXJyZW50QkJveC53PXIud2lkdGgsdGhpcy5zaGFwZUNvbnQuc2V0QXR0cmlidXRlKFwid2lkdGhcIixyLndpZHRoKSxzPSEwKSx0aGlzLmN1cnJlbnRCQm94LmghPT1yLmhlaWdodCYmKHRoaXMuY3VycmVudEJCb3guaD1yLmhlaWdodCx0aGlzLnNoYXBlQ29udC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixyLmhlaWdodCkscz0hMCksKHN8fHRoaXMuY3VycmVudEJCb3gueCE9PXIueHx8dGhpcy5jdXJyZW50QkJveC55IT09ci55KSYmKHRoaXMuY3VycmVudEJCb3gudz1yLndpZHRoLHRoaXMuY3VycmVudEJCb3guaD1yLmhlaWdodCx0aGlzLmN1cnJlbnRCQm94Lng9ci54LHRoaXMuY3VycmVudEJCb3gueT1yLnksdGhpcy5zaGFwZUNvbnQuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLHRoaXMuY3VycmVudEJCb3gueCtcIiBcIit0aGlzLmN1cnJlbnRCQm94LnkrXCIgXCIrdGhpcy5jdXJyZW50QkJveC53K1wiIFwiK3RoaXMuY3VycmVudEJCb3guaCksdGhpcy5zaGFwZUNvbnQuc3R5bGUudHJhbnNmb3JtPXRoaXMuc2hhcGVDb250LnN0eWxlLndlYmtpdFRyYW5zZm9ybT1cInRyYW5zbGF0ZShcIit0aGlzLmN1cnJlbnRCQm94LngrXCJweCxcIit0aGlzLmN1cnJlbnRCQm94LnkrXCJweClcIil9fSxjcmVhdGVFbGVtZW50KEhCYXNlRWxlbWVudCxIVGV4dEVsZW1lbnQpLGV4dGVuZFByb3RvdHlwZShJVGV4dEVsZW1lbnQsSFRleHRFbGVtZW50KSxIVGV4dEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRzPWZ1bmN0aW9uKCl7dGhpcy5pc01hc2tlZD10aGlzLmNoZWNrTWFza3MoKTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2lmKHN0eWxlRGl2KHQpLHRoaXMubGF5ZXJFbGVtZW50PXQsdGhpcy50cmFuc2Zvcm1lZEVsZW1lbnQ9dCx0aGlzLmlzTWFza2VkKXt0aGlzLnJlbmRlclR5cGU9XCJzdmdcIjt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJzdmdcIik7c3R5bGVEaXYoZSksdGhpcy5jb250PWUsdGhpcy5jb21wVz10aGlzLmNvbXAuZGF0YS53LHRoaXMuY29tcEg9dGhpcy5jb21wLmRhdGEuaCxlLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsdGhpcy5jb21wVyksZS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIix0aGlzLmNvbXBIKTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsXCJnXCIpO2UuYXBwZW5kQ2hpbGQociksdC5hcHBlbmRDaGlsZChlKSx0aGlzLm1hc2tlZEVsZW1lbnQ9cix0aGlzLmlubmVyRWxlbT1yfWVsc2UgdGhpcy5yZW5kZXJUeXBlPVwiaHRtbFwiLHRoaXMuaW5uZXJFbGVtPXQ7dGhpcy5iYXNlRWxlbWVudD10LHRoaXMuY2hlY2tQYXJlbnRpbmcoKX0sSFRleHRFbGVtZW50LnByb3RvdHlwZS5idWlsZE5ld1RleHQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRleHRQcm9wZXJ0eS5jdXJyZW50RGF0YTt0aGlzLnJlbmRlcmVkTGV0dGVycz1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6dGhpcy50ZXh0UHJvcGVydHkuY3VycmVudERhdGEubD90aGlzLnRleHRQcm9wZXJ0eS5jdXJyZW50RGF0YS5sLmxlbmd0aDowfSk7dmFyIGU9dGhpcy5pbm5lckVsZW0uc3R5bGU7ZS5jb2xvcj1lLmZpbGw9dC5mYz90aGlzLmJ1aWxkQ29sb3IodC5mYyk6XCJyZ2JhKDAsMCwwLDApXCIsdC5zYyYmKGUuc3Ryb2tlPXRoaXMuYnVpbGRDb2xvcih0LnNjKSxlLnN0cm9rZVdpZHRoPXQuc3crXCJweFwiKTt2YXIgcj10aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuZ2V0Rm9udEJ5TmFtZSh0LmYpO2lmKCF0aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuY2hhcnMpaWYoZS5mb250U2l6ZT10LnMrXCJweFwiLGUubGluZUhlaWdodD10LnMrXCJweFwiLHIuZkNsYXNzKXRoaXMuaW5uZXJFbGVtLmNsYXNzTmFtZT1yLmZDbGFzcztlbHNle2UuZm9udEZhbWlseT1yLmZGYW1pbHk7dmFyIHM9dC5mV2VpZ2h0LGk9dC5mU3R5bGU7ZS5mb250U3R5bGU9aSxlLmZvbnRXZWlnaHQ9c312YXIgYSxuLG89dC5sO249by5sZW5ndGg7dmFyIGgsbCxwLG0sZj10aGlzLm1IZWxwZXIsYz1cIlwiLGQ9MDtmb3IoYT0wO24+YTthKz0xKXtpZih0aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuY2hhcnM/KHRoaXMudGV4dFBhdGhzW2RdP2g9dGhpcy50ZXh0UGF0aHNbZF06KGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwicGF0aFwiKSxoLnNldEF0dHJpYnV0ZShcInN0cm9rZS1saW5lY2FwXCIsXCJidXR0XCIpLGguc2V0QXR0cmlidXRlKFwic3Ryb2tlLWxpbmVqb2luXCIsXCJyb3VuZFwiKSxoLnNldEF0dHJpYnV0ZShcInN0cm9rZS1taXRlcmxpbWl0XCIsXCI0XCIpKSx0aGlzLmlzTWFza2VkfHwodGhpcy50ZXh0U3BhbnNbZF0/KGw9dGhpcy50ZXh0U3BhbnNbZF0scD1sLmNoaWxkcmVuWzBdKToobD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLFwic3ZnXCIpLHAuYXBwZW5kQ2hpbGQoaCksc3R5bGVEaXYobCkpKSk6dGhpcy5pc01hc2tlZD9oPXRoaXMudGV4dFBhdGhzW2RdP3RoaXMudGV4dFBhdGhzW2RdOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInRleHRcIik6dGhpcy50ZXh0U3BhbnNbZF0/KGw9dGhpcy50ZXh0U3BhbnNbZF0saD10aGlzLnRleHRQYXRoc1tkXSk6KGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIiksc3R5bGVEaXYobCksaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSxzdHlsZURpdihoKSxsLmFwcGVuZENoaWxkKGgpKSx0aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuY2hhcnMpe3ZhciB1LHk9dGhpcy5nbG9iYWxEYXRhLmZvbnRNYW5hZ2VyLmdldENoYXJEYXRhKHQudC5jaGFyQXQoYSksci5mU3R5bGUsdGhpcy5nbG9iYWxEYXRhLmZvbnRNYW5hZ2VyLmdldEZvbnRCeU5hbWUodC5mKS5mRmFtaWx5KTtpZih1PXk/eS5kYXRhOm51bGwsZi5yZXNldCgpLHUmJnUuc2hhcGVzJiYobT11LnNoYXBlc1swXS5pdCxmLnNjYWxlKHQucy8xMDAsdC5zLzEwMCksYz10aGlzLmNyZWF0ZVBhdGhTaGFwZShmLG0pLGguc2V0QXR0cmlidXRlKFwiZFwiLGMpKSx0aGlzLmlzTWFza2VkKXRoaXMuaW5uZXJFbGVtLmFwcGVuZENoaWxkKGgpO2Vsc2UgaWYodGhpcy5pbm5lckVsZW0uYXBwZW5kQ2hpbGQobCksdSYmdS5zaGFwZXMpe2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocCk7dmFyIGc9cC5nZXRCQm94KCk7cC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLGcud2lkdGgrMikscC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixnLmhlaWdodCsyKSxwLnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIixnLngtMStcIiBcIisoZy55LTEpK1wiIFwiKyhnLndpZHRoKzIpK1wiIFwiKyhnLmhlaWdodCsyKSkscC5zdHlsZS50cmFuc2Zvcm09cC5zdHlsZS53ZWJraXRUcmFuc2Zvcm09XCJ0cmFuc2xhdGUoXCIrKGcueC0xKStcInB4LFwiKyhnLnktMSkrXCJweClcIixvW2FdLnlPZmZzZXQ9Zy55LTEsbC5hcHBlbmRDaGlsZChwKX1lbHNlIHAuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwxKSxwLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLDEpfWVsc2UgaC50ZXh0Q29udGVudD1vW2FdLnZhbCxoLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlXCIsXCJ4bWw6c3BhY2VcIixcInByZXNlcnZlXCIpLHRoaXMuaXNNYXNrZWQ/dGhpcy5pbm5lckVsZW0uYXBwZW5kQ2hpbGQoaCk6KHRoaXMuaW5uZXJFbGVtLmFwcGVuZENoaWxkKGwpLGguc3R5bGUudHJhbnNmb3JtPWguc3R5bGUud2Via2l0VHJhbnNmb3JtPVwidHJhbnNsYXRlM2QoMCxcIistdC5zLzEuMitcInB4LDApXCIpO3RoaXMudGV4dFNwYW5zW2RdPXRoaXMuaXNNYXNrZWQ/aDpsLHRoaXMudGV4dFNwYW5zW2RdLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRoaXMudGV4dFBhdGhzW2RdPWgsZCs9MX1mb3IoO2Q8dGhpcy50ZXh0U3BhbnMubGVuZ3RoOyl0aGlzLnRleHRTcGFuc1tkXS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGQrPTF9LEhUZXh0RWxlbWVudC5wcm90b3R5cGUuaGlkZT1TVkdUZXh0RWxlbWVudC5wcm90b3R5cGUuaGlkZSxIVGV4dEVsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BhcmVudC5yZW5kZXJGcmFtZS5jYWxsKHRoaXMsdCk7aWYoZT09PSExKXJldHVybiB2b2lkIHRoaXMuaGlkZSgpO2lmKHRoaXMuaGlkZGVuJiYodGhpcy5oaWRkZW49ITEsdGhpcy5pbm5lckVsZW0uc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy5sYXllckVsZW1lbnQuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIpLHRoaXMuZGF0YS5zaW5nbGVTaGFwZSl7aWYoIXRoaXMuZmlyc3RGcmFtZSYmIXRoaXMubGV0dGVyc0NoYW5nZWRGbGFnKXJldHVybjt0aGlzLmlzTWFza2VkJiZ0aGlzLmZpbmFsVHJhbnNmb3JtLm1hdE1kZiYmKHRoaXMuY29udC5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsLXRoaXMuZmluYWxUcmFuc2Zvcm0ubVByb3AucC52WzBdK1wiIFwiKy10aGlzLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLnAudlsxXStcIiBcIit0aGlzLmNvbXBXK1wiIFwiK3RoaXMuY29tcEgpLHRoaXMuY29udC5zdHlsZS50cmFuc2Zvcm09dGhpcy5jb250LnN0eWxlLndlYmtpdFRyYW5zZm9ybT1cInRyYW5zbGF0ZShcIistdGhpcy5maW5hbFRyYW5zZm9ybS5tUHJvcC5wLnZbMF0rXCJweCxcIistdGhpcy5maW5hbFRyYW5zZm9ybS5tUHJvcC5wLnZbMV0rXCJweClcIil9aWYodGhpcy50ZXh0QW5pbWF0b3IuZ2V0TWVhc3VyZXModGhpcy50ZXh0UHJvcGVydHkuY3VycmVudERhdGEsdGhpcy5sZXR0ZXJzQ2hhbmdlZEZsYWcpLHRoaXMubGV0dGVyc0NoYW5nZWRGbGFnfHx0aGlzLnRleHRBbmltYXRvci5sZXR0ZXJzQ2hhbmdlZEZsYWcpe3ZhciByLHMsaT0wLGE9dGhpcy50ZXh0QW5pbWF0b3IucmVuZGVyZWRMZXR0ZXJzLG49dGhpcy50ZXh0UHJvcGVydHkuY3VycmVudERhdGEubDtzPW4ubGVuZ3RoO3ZhciBvLGgsbDtmb3Iocj0wO3M+cjtyKz0xKW5bcl0ubj9pKz0xOihoPXRoaXMudGV4dFNwYW5zW3JdLGw9dGhpcy50ZXh0UGF0aHNbcl0sbz1hW2ldLGkrPTEsdGhpcy5pc01hc2tlZD9oLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLG8ubSk6aC5zdHlsZS50cmFuc2Zvcm09aC5zdHlsZS53ZWJraXRUcmFuc2Zvcm09by5tLGguc3R5bGUub3BhY2l0eT1vLm8sby5zdyYmbC5zZXRBdHRyaWJ1dGUoXCJzdHJva2Utd2lkdGhcIixvLnN3KSxvLnNjJiZsLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLG8uc2MpLG8uZmMmJihsLnNldEF0dHJpYnV0ZShcImZpbGxcIixvLmZjKSxsLnN0eWxlLmNvbG9yPW8uZmMpKTtpZih0aGlzLmlzVmlzaWJsZSYmKHRoaXMuZWxlbU1kZnx8dGhpcy5maXJzdEZyYW1lKSYmdGhpcy5pbm5lckVsZW0uZ2V0QkJveCl7dmFyIHA9dGhpcy5pbm5lckVsZW0uZ2V0QkJveCgpO3RoaXMuY3VycmVudEJCb3gudyE9PXAud2lkdGgmJih0aGlzLmN1cnJlbnRCQm94Lnc9cC53aWR0aCx0aGlzLmNvbnQuc2V0QXR0cmlidXRlKFwid2lkdGhcIixwLndpZHRoKSksdGhpcy5jdXJyZW50QkJveC5oIT09cC5oZWlnaHQmJih0aGlzLmN1cnJlbnRCQm94Lmg9cC5oZWlnaHQsdGhpcy5jb250LnNldEF0dHJpYnV0ZShcImhlaWdodFwiLHAuaGVpZ2h0KSk7dmFyIG09MTsodGhpcy5jdXJyZW50QkJveC53IT09cC53aWR0aCsyKm18fHRoaXMuY3VycmVudEJCb3guaCE9PXAuaGVpZ2h0KzIqbXx8dGhpcy5jdXJyZW50QkJveC54IT09cC54LW18fHRoaXMuY3VycmVudEJCb3gueSE9PXAueS1tKSYmKHRoaXMuY3VycmVudEJCb3gudz1wLndpZHRoKzIqbSx0aGlzLmN1cnJlbnRCQm94Lmg9cC5oZWlnaHQrMiptLHRoaXMuY3VycmVudEJCb3gueD1wLngtbSx0aGlzLmN1cnJlbnRCQm94Lnk9cC55LW0sdGhpcy5jb250LnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIix0aGlzLmN1cnJlbnRCQm94LngrXCIgXCIrdGhpcy5jdXJyZW50QkJveC55K1wiIFwiK3RoaXMuY3VycmVudEJCb3gudytcIiBcIit0aGlzLmN1cnJlbnRCQm94LmgpLHRoaXMuY29udC5zdHlsZS50cmFuc2Zvcm09dGhpcy5jb250LnN0eWxlLndlYmtpdFRyYW5zZm9ybT1cInRyYW5zbGF0ZShcIit0aGlzLmN1cnJlbnRCQm94LngrXCJweCxcIit0aGlzLmN1cnJlbnRCQm94LnkrXCJweClcIil9dGhpcy5maXJzdEZyYW1lJiYodGhpcy5maXJzdEZyYW1lPSExKX19LGNyZWF0ZUVsZW1lbnQoSEJhc2VFbGVtZW50LEhJbWFnZUVsZW1lbnQpLEhJbWFnZUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nbG9iYWxEYXRhLmdldEFzc2V0c1BhdGgodGhpcy5hc3NldERhdGEpLGU9bmV3IEltYWdlO2lmKHRoaXMuZGF0YS5oYXNNYXNrKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3N0eWxlRGl2KHIpO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcInN2Z1wiKTtzdHlsZURpdihzKSxzLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsdGhpcy5hc3NldERhdGEudykscy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIix0aGlzLmFzc2V0RGF0YS5oKSxyLmFwcGVuZENoaWxkKHMpLHRoaXMuaW1hZ2VFbGVtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUyxcImltYWdlXCIpLHRoaXMuaW1hZ2VFbGVtLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsdGhpcy5hc3NldERhdGEudytcInB4XCIpLHRoaXMuaW1hZ2VFbGVtLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLHRoaXMuYXNzZXREYXRhLmgrXCJweFwiKSx0aGlzLmltYWdlRWxlbS5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixcImhyZWZcIix0KSxzLmFwcGVuZENoaWxkKHRoaXMuaW1hZ2VFbGVtKSx0aGlzLmxheWVyRWxlbWVudD1yLHRoaXMudHJhbnNmb3JtZWRFbGVtZW50PXIsdGhpcy5iYXNlRWxlbWVudD1yLHRoaXMuaW5uZXJFbGVtPXIsdGhpcy5tYXNrZWRFbGVtZW50PXRoaXMuaW1hZ2VFbGVtfWVsc2Ugc3R5bGVEaXYoZSksdGhpcy5sYXllckVsZW1lbnQ9ZSx0aGlzLmJhc2VFbGVtZW50PWUsdGhpcy5pbm5lckVsZW09ZSx0aGlzLnRyYW5zZm9ybWVkRWxlbWVudD1lO2Uuc3JjPXQsdGhpcy5kYXRhLmxuJiZ0aGlzLmlubmVyRWxlbS5zZXRBdHRyaWJ1dGUoXCJpZFwiLHRoaXMuZGF0YS5sbiksdGhpcy5jaGVja1BhcmVudGluZygpfSxISW1hZ2VFbGVtZW50LnByb3RvdHlwZS5zaG93PUhTb2xpZEVsZW1lbnQucHJvdG90eXBlLnNob3csSEltYWdlRWxlbWVudC5wcm90b3R5cGUuaGlkZT1IU29saWRFbGVtZW50LnByb3RvdHlwZS5oaWRlLEhJbWFnZUVsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lPUhTb2xpZEVsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lLEhJbWFnZUVsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3k9SFNvbGlkRWxlbWVudC5wcm90b3R5cGUuZGVzdHJveSxjcmVhdGVFbGVtZW50KEhCYXNlRWxlbWVudCxIQ2FtZXJhRWxlbWVudCksSENhbWVyYUVsZW1lbnQucHJvdG90eXBlLnNldHVwPWZ1bmN0aW9uKCl7dmFyIHQsZSxyPXRoaXMuY29tcC50aHJlZURFbGVtZW50cy5sZW5ndGg7Zm9yKHQ9MDtyPnQ7dCs9MSllPXRoaXMuY29tcC50aHJlZURFbGVtZW50c1t0XSxlLnBlcnNwZWN0aXZlRWxlbS5zdHlsZS5wZXJzcGVjdGl2ZT1lLnBlcnNwZWN0aXZlRWxlbS5zdHlsZS53ZWJraXRQZXJzcGVjdGl2ZT10aGlzLnBlLnYrXCJweFwiLGUuY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybU9yaWdpbj1lLmNvbnRhaW5lci5zdHlsZS5tb3pUcmFuc2Zvcm1PcmlnaW49ZS5jb250YWluZXIuc3R5bGUud2Via2l0VHJhbnNmb3JtT3JpZ2luPVwiMHB4IDBweCAwcHhcIixlLnBlcnNwZWN0aXZlRWxlbS5zdHlsZS50cmFuc2Zvcm09ZS5wZXJzcGVjdGl2ZUVsZW0uc3R5bGUud2Via2l0VHJhbnNmb3JtPVwibWF0cml4M2QoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMSlcIn0sSENhbWVyYUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRzPWZ1bmN0aW9uKCl7fSxIQ2FtZXJhRWxlbWVudC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe30sSENhbWVyYUVsZW1lbnQucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKCl7dmFyIHQsZSxyPXRoaXMuZmlyc3RGcmFtZTtpZih0aGlzLmhpZXJhcmNoeSlmb3IoZT10aGlzLmhpZXJhcmNoeS5sZW5ndGgsdD0wO2U+dDt0Kz0xKXI9dGhpcy5oaWVyYXJjaHlbdF0uZmluYWxUcmFuc2Zvcm0ubVByb3AubWRmPyEwOnI7aWYocnx8dGhpcy5wJiZ0aGlzLnAubWRmfHx0aGlzLnB4JiYodGhpcy5weC5tZGZ8fHRoaXMucHkubWRmfHx0aGlzLnB6Lm1kZil8fHRoaXMucngubWRmfHx0aGlzLnJ5Lm1kZnx8dGhpcy5yei5tZGZ8fHRoaXMub3IubWRmfHx0aGlzLmEmJnRoaXMuYS5tZGYpe2lmKHRoaXMubWF0LnJlc2V0KCksdGhpcy5wP3RoaXMubWF0LnRyYW5zbGF0ZSgtdGhpcy5wLnZbMF0sLXRoaXMucC52WzFdLHRoaXMucC52WzJdKTp0aGlzLm1hdC50cmFuc2xhdGUoLXRoaXMucHgudiwtdGhpcy5weS52LHRoaXMucHoudiksdGhpcy5hKXt2YXIgcz1bdGhpcy5wLnZbMF0tdGhpcy5hLnZbMF0sdGhpcy5wLnZbMV0tdGhpcy5hLnZbMV0sdGhpcy5wLnZbMl0tdGhpcy5hLnZbMl1dLGk9TWF0aC5zcXJ0KE1hdGgucG93KHNbMF0sMikrTWF0aC5wb3coc1sxXSwyKStNYXRoLnBvdyhzWzJdLDIpKSxhPVtzWzBdL2ksc1sxXS9pLHNbMl0vaV0sbj1NYXRoLnNxcnQoYVsyXSphWzJdK2FbMF0qYVswXSksbz1NYXRoLmF0YW4yKGFbMV0sbiksaD1NYXRoLmF0YW4yKGFbMF0sLWFbMl0pO3RoaXMubWF0LnJvdGF0ZVkoaCkucm90YXRlWCgtbyl9aWYodGhpcy5tYXQucm90YXRlWCgtdGhpcy5yeC52KS5yb3RhdGVZKC10aGlzLnJ5LnYpLnJvdGF0ZVoodGhpcy5yei52KSx0aGlzLm1hdC5yb3RhdGVYKC10aGlzLm9yLnZbMF0pLnJvdGF0ZVkoLXRoaXMub3IudlsxXSkucm90YXRlWih0aGlzLm9yLnZbMl0pLHRoaXMubWF0LnRyYW5zbGF0ZSh0aGlzLmdsb2JhbERhdGEuY29tcFNpemUudy8yLHRoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZS5oLzIsMCksdGhpcy5tYXQudHJhbnNsYXRlKDAsMCx0aGlzLnBlLnYpLHRoaXMuaGllcmFyY2h5KXt2YXIgbDtmb3IoZT10aGlzLmhpZXJhcmNoeS5sZW5ndGgsdD0wO2U+dDt0Kz0xKWw9dGhpcy5oaWVyYXJjaHlbdF0uZmluYWxUcmFuc2Zvcm0ubVByb3AuaXYucHJvcHMsdGhpcy5tYXQudHJhbnNmb3JtKGxbMF0sbFsxXSxsWzJdLGxbM10sbFs0XSxsWzVdLGxbNl0sbFs3XSxsWzhdLGxbOV0sbFsxMF0sbFsxMV0sLWxbMTJdLC1sWzEzXSxsWzE0XSxsWzE1XSl9ZT10aGlzLmNvbXAudGhyZWVERWxlbWVudHMubGVuZ3RoO3ZhciBwO2Zvcih0PTA7ZT50O3QrPTEpcD10aGlzLmNvbXAudGhyZWVERWxlbWVudHNbdF0scC5jb250YWluZXIuc3R5bGUudHJhbnNmb3JtPXAuY29udGFpbmVyLnN0eWxlLndlYmtpdFRyYW5zZm9ybT10aGlzLm1hdC50b0NTUygpfXRoaXMuZmlyc3RGcmFtZT0hMX0sSENhbWVyYUVsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt9O3ZhciBFeHByZXNzaW9ucz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dC5yZW5kZXJlci5jb21wSW50ZXJmYWNlPUNvbXBFeHByZXNzaW9uSW50ZXJmYWNlKHQucmVuZGVyZXIpLHQucmVuZGVyZXIuZ2xvYmFsRGF0YS5wcm9qZWN0SW50ZXJmYWNlLnJlZ2lzdGVyQ29tcG9zaXRpb24odC5yZW5kZXJlcil9dmFyIGU9e307cmV0dXJuIGUuaW5pdEV4cHJlc3Npb25zPXQsZX0oKTtleHByZXNzaW9uc1BsdWdpbj1FeHByZXNzaW9ucyxmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5wdn1mdW5jdGlvbiBlKHQsZSxyKXtpZighdGhpcy5rfHwhdGhpcy5rZXlmcmFtZXMpcmV0dXJuIHRoaXMucHY7dmFyIHM9dGhpcy5jb21wLnJlbmRlcmVkRnJhbWUsaT10aGlzLmtleWZyYW1lcyxhPWlbaS5sZW5ndGgtMV0udDtpZihhPj1zKXJldHVybiB0aGlzLnB2O3ZhciBuLG87cj8obj1lP01hdGguYWJzKGEtZWxlbS5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlKmUpOk1hdGgubWF4KDAsYS10aGlzLmVsZW0uZGF0YS5pcCksbz1hLW4pOigoIWV8fGU+aS5sZW5ndGgtMSkmJihlPWkubGVuZ3RoLTEpLG89aVtpLmxlbmd0aC0xLWVdLnQsbj1hLW8pO3ZhciBoLGwscCxtPXRoaXMub2Zmc2V0VGltZXx8MDtpZihcInBpbmdwb25nXCI9PT10LnRvTG93ZXJDYXNlKCkpe3ZhciBmPU1hdGguZmxvb3IoKHMtbykvbik7aWYoZiUyIT09MClyZXR1cm4gdGhpcy5nZXRWYWx1ZUF0VGltZSgobi0ocy1vKSVuK28tbSkvdGhpcy5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLDApfWVsc2V7aWYoXCJvZmZzZXRcIj09PXQpe3ZhciBjPXRoaXMuZ2V0VmFsdWVBdFRpbWUoby90aGlzLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUsMCksZD10aGlzLmdldFZhbHVlQXRUaW1lKGEvdGhpcy5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLDApLHU9dGhpcy5nZXRWYWx1ZUF0VGltZSgoKHMtbyklbitvKS90aGlzLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUsMCkseT1NYXRoLmZsb29yKChzLW8pL24pO2lmKHRoaXMucHYubGVuZ3RoKXtmb3IocD1uZXcgQXJyYXkoYy5sZW5ndGgpLGw9cC5sZW5ndGgsaD0wO2w+aDtoKz0xKXBbaF09KGRbaF0tY1toXSkqeSt1W2hdO3JldHVybiBwfXJldHVybihkLWMpKnkrdX1pZihcImNvbnRpbnVlXCI9PT10KXt2YXIgZz10aGlzLmdldFZhbHVlQXRUaW1lKGEvdGhpcy5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLDApLHY9dGhpcy5nZXRWYWx1ZUF0VGltZSgoYS0uMDAxKS90aGlzLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUsMCk7aWYodGhpcy5wdi5sZW5ndGgpe2ZvcihwPW5ldyBBcnJheShnLmxlbmd0aCksbD1wLmxlbmd0aCxoPTA7bD5oO2grPTEpcFtoXT1nW2hdKyhnW2hdLXZbaF0pKigocy1hKS90aGlzLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUpLzVlLTQ7cmV0dXJuIHB9cmV0dXJuIGcrKGctdikqKChzLWEpLy4wMDEpfX1yZXR1cm4gdGhpcy5nZXRWYWx1ZUF0VGltZSgoKHMtbyklbitvLW0pL3RoaXMuY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSwwKX1mdW5jdGlvbiByKHQsZSxyKXtpZighdGhpcy5rKXJldHVybiB0aGlzLnB2O3ZhciBzPXRpbWUqZWxlbS5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLGk9dGhpcy5rZXlmcmFtZXMsYT1pWzBdLnQsbj10aGlzLm9mZnNldFRpbWV8fDA7aWYocz49YSlyZXR1cm4gdGhpcy5wdjt2YXIgbyxoO3I/KG89ZT9NYXRoLmFicyhlbGVtLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUqZSk6TWF0aC5tYXgoMCx0aGlzLmVsZW0uZGF0YS5vcC1hKSxoPWErbyk6KCghZXx8ZT5pLmxlbmd0aC0xKSYmKGU9aS5sZW5ndGgtMSksaD1pW2VdLnQsbz1oLWEpO3ZhciBsLHAsbTtpZihcInBpbmdwb25nXCI9PT10KXt2YXIgZj1NYXRoLmZsb29yKChhLXMpL28pO2lmKGYlMj09PTApcmV0dXJuIHRoaXMuZ2V0VmFsdWVBdFRpbWUoKChhLXMpJW8rYS1uKS90aGlzLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUsMCl9ZWxzZXtpZihcIm9mZnNldFwiPT09dCl7dmFyIGM9dGhpcy5nZXRWYWx1ZUF0VGltZShhL3RoaXMuY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSwwKSxkPXRoaXMuZ2V0VmFsdWVBdFRpbWUoaC90aGlzLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUsMCksdT10aGlzLmdldFZhbHVlQXRUaW1lKChvLShhLXMpJW8rYSkvdGhpcy5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLDApLHk9TWF0aC5mbG9vcigoYS1zKS9vKSsxO2lmKHRoaXMucHYubGVuZ3RoKXtmb3IobT1uZXcgQXJyYXkoYy5sZW5ndGgpLHA9bS5sZW5ndGgsbD0wO3A+bDtsKz0xKW1bbF09dVtsXS0oZFtsXS1jW2xdKSp5O3JldHVybiBtfXJldHVybiB1LShkLWMpKnl9aWYoXCJjb250aW51ZVwiPT09dCl7dmFyIGc9dGhpcy5nZXRWYWx1ZUF0VGltZShhL3RoaXMuY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSwwKSx2PXRoaXMuZ2V0VmFsdWVBdFRpbWUoKGErLjAwMSkvdGhpcy5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLDApO2lmKHRoaXMucHYubGVuZ3RoKXtmb3IobT1uZXcgQXJyYXkoZy5sZW5ndGgpLHA9bS5sZW5ndGgsbD0wO3A+bDtsKz0xKW1bbF09Z1tsXSsoZ1tsXS12W2xdKSooYS1zKS8uMDAxO3JldHVybiBtfXJldHVybiBnKyhnLXYpKihhLXMpLy4wMDF9fXJldHVybiB0aGlzLmdldFZhbHVlQXRUaW1lKChvLShhLXMpJW8rYS1uKS90aGlzLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUsMCl9ZnVuY3Rpb24gcyh0KXtpZih0aGlzLl9jYWNoaW5nQXRUaW1lfHwodGhpcy5fY2FjaGluZ0F0VGltZT17bGFzdFZhbHVlOi05OTk5OSxsYXN0SW5kZXg6MH0pLHQhPT10aGlzLl9jYWNoaW5nQXRUaW1lLmxhc3RGcmFtZSl7dCo9dGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVSYXRlLHQtPXRoaXMub2Zmc2V0VGltZTt2YXIgZT10aGlzLl9jYWNoaW5nLmxhc3RGcmFtZTx0P3RoaXMuX2NhY2hpbmcubGFzdEluZGV4OjAscj10aGlzLmludGVycG9sYXRlVmFsdWUodCxlLHRoaXMucHYsdGhpcy5fY2FjaGluZ0F0VGltZSk7dGhpcy5fY2FjaGluZ0F0VGltZS5sYXN0SW5kZXg9ci5pdGVyYXRpb25JbmRleCx0aGlzLl9jYWNoaW5nQXRUaW1lLnZhbHVlPXIudmFsdWUsdGhpcy5fY2FjaGluZ0F0VGltZS5sYXN0RnJhbWU9dH1yZXR1cm4gdGhpcy5fY2FjaGluZ0F0VGltZS52YWx1ZX1mdW5jdGlvbiBpKHQpe2lmKHZvaWQgMCE9PXRoaXMudmVsKXJldHVybiB0aGlzLnZlbDt2YXIgZSxyPS0uMDEscz10aGlzLmdldFZhbHVlQXRUaW1lKHQpLGk9dGhpcy5nZXRWYWx1ZUF0VGltZSh0K3IpO2lmKHMubGVuZ3RoKXtlPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDpzLmxlbmd0aH0pO3ZhciBhO2ZvcihhPTA7YTxzLmxlbmd0aDthKz0xKWVbYV09KGlbYV0tc1thXSkvcn1lbHNlIGU9KGktcykvcjtyZXR1cm4gZX1mdW5jdGlvbiBhKHQpe3RoaXMucHJvcGVydHlHcm91cD10fWZ1bmN0aW9uIG4odCxlLHIpe2UueCYmKHIuaz0hMCxyLng9ITAsci5nZXRWYWx1ZSYmKHIuZ2V0UHJlVmFsdWU9ci5nZXRWYWx1ZSksci5nZXRWYWx1ZT1FeHByZXNzaW9uTWFuYWdlci5pbml0aWF0ZUV4cHJlc3Npb24uYmluZChyKSh0LGUscikpfWZ1bmN0aW9uIG8odCl7Y29uc29sZS5sb2coXCJ0aW1lOlwiLHQpfWZ1bmN0aW9uIGgodCl7fWZ1bmN0aW9uIGwodCl7aWYodGhpcy5fc2hhcGVWYWx1ZUF0VGltZXx8KHRoaXMuX2xhc3RJbmRleEF0VGltZT0wLHRoaXMuX2xhc3RUaW1lQXRUaW1lPS05OTk5OTksdGhpcy5fc2hhcGVWYWx1ZUF0VGltZT1zaGFwZV9wb29sLmNsb25lKHRoaXMucHYpKSx0IT09dGhpcy5fbGFzdFRpbWVBdFRpbWUpe3RoaXMuX2xhc3RUaW1lQXRUaW1lPXQsdCo9dGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVSYXRlO3ZhciBlPXRoaXMuaW50ZXJwb2xhdGVTaGFwZSh0LHRoaXMuX2xhc3RJbmRleEF0VGltZSx0aGlzLl9zaGFwZVZhbHVlQXRUaW1lLCExKTt0aGlzLl9sYXN0SW5kZXhBdFRpbWU9ZS5pdGVyYXRpb25JbmRleH1yZXR1cm4gdGhpcy5fc2hhcGVWYWx1ZUF0VGltZX12YXIgcD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxlKXtyZXR1cm4gdGhpcy50ZXh0SW5kZXg9dCsxLHRoaXMudGV4dFRvdGFsPWUsdGhpcy5nZXRWYWx1ZSgpLHRoaXMudn1yZXR1cm4gZnVuY3Rpb24ocixvKXt0aGlzLnB2PTEsdGhpcy5jb21wPXIuY29tcCx0aGlzLmVsZW09cix0aGlzLm11bHQ9LjAxLHRoaXMudHlwZT1cInRleHRTZWxlY3RvclwiLHRoaXMudGV4dFRvdGFsPW8udG90YWxDaGFycyx0aGlzLnNlbGVjdG9yVmFsdWU9MTAwLHRoaXMubGFzdFZhbHVlPVsxLDEsMV0sbi5iaW5kKHRoaXMpKHIsbyx0aGlzKSx0aGlzLmdldE11bHQ9ZSx0aGlzLmdldFZlbG9jaXR5QXRUaW1lPWksdGhpcy5nZXRWYWx1ZUF0VGltZT10aGlzLmtmP3MuYmluZCh0aGlzKTp0LmJpbmQodGhpcyksdGhpcy5zZXRHcm91cFByb3BlcnR5PWF9fSgpLG09VHJhbnNmb3JtUHJvcGVydHlGYWN0b3J5LmdldFRyYW5zZm9ybVByb3BlcnR5O1RyYW5zZm9ybVByb3BlcnR5RmFjdG9yeS5nZXRUcmFuc2Zvcm1Qcm9wZXJ0eT1mdW5jdGlvbih0LGUscil7dmFyIHM9bSh0LGUscik7cmV0dXJuIHMuZ2V0VmFsdWVBdFRpbWU9cy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg/by5iaW5kKHMpOmguYmluZChzKSxzLnNldEdyb3VwUHJvcGVydHk9YSxzfTt2YXIgZj1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcDtQcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcD1mdW5jdGlvbihvLGgsbCxwLG0pe3ZhciBjPWYobyxoLGwscCxtKTtjLmdldFZhbHVlQXRUaW1lPWMua2Y/cy5iaW5kKGMpOnQuYmluZChjKSxjLnNldEdyb3VwUHJvcGVydHk9YSxjLmxvb3BPdXQ9ZSxjLmxvb3BJbj1yLGMuZ2V0VmVsb2NpdHlBdFRpbWU9aSxjLm51bUtleXM9MT09PWguYT9oLmsubGVuZ3RoOjA7dmFyIGQ9Yy5rO3JldHVybiB2b2lkIDAhPT1oLml4JiZPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxcInByb3BlcnR5SW5kZXhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGguaXh9fSksbihvLGgsYyksIWQmJmMueCYmbS5wdXNoKGMpLGN9O3ZhciBjPVNoYXBlUHJvcGVydHlGYWN0b3J5LmdldENvbnN0cnVjdG9yRnVuY3Rpb24oKSxkPVNoYXBlUHJvcGVydHlGYWN0b3J5LmdldEtleWZyYW1lZENvbnN0cnVjdG9yRnVuY3Rpb24oKTtjLnByb3RvdHlwZS52ZXJ0aWNlcz1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMudjt2b2lkIDAhPT1lJiYocj10aGlzLmdldFZhbHVlQXRUaW1lKGUsMCkpO3ZhciBzLGk9ci5fbGVuZ3RoLGE9clt0XSxuPXIudixvPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDppfSk7Zm9yKHM9MDtpPnM7cys9MSlvW3NdPVwiaVwiPT09dHx8XCJvXCI9PT10P1thW3NdWzBdLW5bc11bMF0sYVtzXVsxXS1uW3NdWzFdXTpbYVtzXVswXSxhW3NdWzFdXTtyZXR1cm4gb30sYy5wcm90b3R5cGUucG9pbnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnZlcnRpY2VzKFwidlwiLHQpfSxjLnByb3RvdHlwZS5pblRhbmdlbnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnZlcnRpY2VzKFwiaVwiLHQpfSxjLnByb3RvdHlwZS5vdXRUYW5nZW50cz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy52ZXJ0aWNlcyhcIm9cIix0KX0sYy5wcm90b3R5cGUuaXNDbG9zZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52LmN9LGMucHJvdG90eXBlLnBvaW50T25QYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy52O3ZvaWQgMCE9PWUmJihyPXRoaXMuZ2V0VmFsdWVBdFRpbWUoZSwwKSksdGhpcy5fc2VnbWVudHNMZW5ndGh8fCh0aGlzLl9zZWdtZW50c0xlbmd0aD1iZXouZ2V0U2VnbWVudHNMZW5ndGgocikpO2Zvcih2YXIgcyxpPXRoaXMuX3NlZ21lbnRzTGVuZ3RoLGE9aS5sZW5ndGhzLG49aS50b3RhbExlbmd0aCp0LG89MCxoPWEubGVuZ3RoLGw9MDtoPm87KXtpZihsK2Fbb10uYWRkZWRMZW5ndGg+bil7cz1hW29dLnNlZ21lbnRzO3ZhciBwPW8sbT1yLmMmJm89PT1oLTE/MDpvKzEsZj0obi1sKS9hW29dLmFkZGVkTGVuZ3RoLGM9YmV6LmdldFBvaW50SW5TZWdtZW50KHIudltwXSxyLnZbbV0sci5vW3BdLHIuaVttXSxmLGFbb10pO2JyZWFrfWwrPWFbb10uYWRkZWRMZW5ndGgsbys9MX1yZXR1cm4gY3x8KGM9ci5jP1tyLnZbMF1bMF0sci52WzBdWzFdXTpbci52W3IuX2xlbmd0aC0xXVswXSxyLnZbci5fbGVuZ3RoLTFdWzFdXSksY30sYy5wcm90b3R5cGUudmVjdG9yT25QYXRoPWZ1bmN0aW9uKHQsZSxyKXt0PTE9PXQ/dGhpcy52LmM/MDouOTk5OnQ7dmFyIHM9dGhpcy5wb2ludE9uUGF0aCh0LGUpLGk9dGhpcy5wb2ludE9uUGF0aCh0Ky4wMDEsZSksYT1pWzBdLXNbMF0sbj1pWzFdLXNbMV0sbz1NYXRoLnNxcnQoTWF0aC5wb3coYSwyKStNYXRoLnBvdyhuLDIpKSxoPVwidGFuZ2VudFwiPT09cj9bYS9vLG4vb106Wy1uL28sYS9vXTtyZXR1cm4gaH0sYy5wcm90b3R5cGUudGFuZ2VudE9uUGF0aD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnZlY3Rvck9uUGF0aCh0LGUsXCJ0YW5nZW50XCIpfSxjLnByb3RvdHlwZS5ub3JtYWxPblBhdGg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy52ZWN0b3JPblBhdGgodCxlLFwibm9ybWFsXCIpfSxjLnByb3RvdHlwZS5zZXRHcm91cFByb3BlcnR5PWEsYy5wcm90b3R5cGUuZ2V0VmFsdWVBdFRpbWU9dCxkLnByb3RvdHlwZS52ZXJ0aWNlcz1jLnByb3RvdHlwZS52ZXJ0aWNlcyxkLnByb3RvdHlwZS5wb2ludHM9Yy5wcm90b3R5cGUucG9pbnRzLGQucHJvdG90eXBlLmluVGFuZ2VudHM9Yy5wcm90b3R5cGUuaW5UYW5nZW50cyxkLnByb3RvdHlwZS5vdXRUYW5nZW50cz1jLnByb3RvdHlwZS5vdXRUYW5nZW50cyxkLnByb3RvdHlwZS5pc0Nsb3NlZD1jLnByb3RvdHlwZS5pc0Nsb3NlZCxkLnByb3RvdHlwZS5wb2ludE9uUGF0aD1jLnByb3RvdHlwZS5wb2ludE9uUGF0aCxkLnByb3RvdHlwZS52ZWN0b3JPblBhdGg9Yy5wcm90b3R5cGUudmVjdG9yT25QYXRoLGQucHJvdG90eXBlLnRhbmdlbnRPblBhdGg9Yy5wcm90b3R5cGUudGFuZ2VudE9uUGF0aCxkLnByb3RvdHlwZS5ub3JtYWxPblBhdGg9Yy5wcm90b3R5cGUubm9ybWFsT25QYXRoLGQucHJvdG90eXBlLnNldEdyb3VwUHJvcGVydHk9Yy5wcm90b3R5cGUuc2V0R3JvdXBQcm9wZXJ0eSxkLnByb3RvdHlwZS5nZXRWYWx1ZUF0VGltZT1sO3ZhciB1PVNoYXBlUHJvcGVydHlGYWN0b3J5LmdldFNoYXBlUHJvcDtTaGFwZVByb3BlcnR5RmFjdG9yeS5nZXRTaGFwZVByb3A9ZnVuY3Rpb24odCxlLHIscyxpKXt2YXIgYT11KHQsZSxyLHMsaSksbz1hLms7cmV0dXJuIHZvaWQgMCE9PWUuaXgmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwicHJvcGVydHlJbmRleFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5peH19KSwzPT09cj9uKHQsZS5wdCxhKTo0PT09ciYmbih0LGUua3MsYSksIW8mJmEueCYmcy5wdXNoKGEpLGF9O3ZhciB5PVRleHRTZWxlY3RvclByb3AuZ2V0VGV4dFNlbGVjdG9yUHJvcDtUZXh0U2VsZWN0b3JQcm9wLmdldFRleHRTZWxlY3RvclByb3A9ZnVuY3Rpb24odCxlLHIpe3JldHVybiAxPT09ZS50P25ldyBwKHQsZSxyKTp5KHQsZSxyKX19KCksZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuZGF0YS5kLng/KHRoaXMuY29tcD10aGlzLmVsZW0uY29tcCx0aGlzLmdldFZhbHVlJiYodGhpcy5nZXRQcmVWYWx1ZT10aGlzLmdldFZhbHVlKSx0aGlzLmNhbGN1bGF0ZUV4cHJlc3Npb249RXhwcmVzc2lvbk1hbmFnZXIuaW5pdGlhdGVFeHByZXNzaW9uLmJpbmQodGhpcykodGhpcy5lbGVtLHRoaXMuZGF0YS5kLHRoaXMpLHRoaXMuZ2V0VmFsdWU9dGhpcy5nZXRFeHByZXNzaW9uVmFsdWUsITApOiExfVRleHRQcm9wZXJ0eS5wcm90b3R5cGUuc2VhcmNoUHJvcGVydHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rZj10aGlzLnNlYXJjaEV4cHJlc3Npb25zKCl8fHRoaXMuZGF0YS5kLmsubGVuZ3RoPjEsdGhpcy5rZn0sVGV4dFByb3BlcnR5LnByb3RvdHlwZS5nZXRFeHByZXNzaW9uVmFsdWU9ZnVuY3Rpb24odCl7dGhpcy5jYWxjdWxhdGVFeHByZXNzaW9uKCksdGhpcy5tZGYmJih0aGlzLmN1cnJlbnREYXRhLnQ9dGhpcy52LnRvU3RyaW5nKCksdGhpcy5jb21wbGV0ZVRleHREYXRhKHRoaXMuY3VycmVudERhdGEpKX0sVGV4dFByb3BlcnR5LnByb3RvdHlwZS5zZWFyY2hFeHByZXNzaW9ucz10fSgpO3ZhciBFeHByZXNzaW9uTWFuYWdlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGR1cGxpY2F0ZVByb3BlcnR5VmFsdWUodCxlKXtpZihlPWV8fDEsXCJudW1iZXJcIj09dHlwZW9mIHR8fHQgaW5zdGFuY2VvZiBOdW1iZXIpcmV0dXJuIHQqZTtpZih0LmkpcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodCkpO3ZhciByLHM9QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOnQubGVuZ3RofSksaT10Lmxlbmd0aDtmb3Iocj0wO2k+cjtyKz0xKXNbcl09dFtyXSplO3JldHVybiBzfWZ1bmN0aW9uIHNoYXBlc0VxdWFsKHQsZSl7aWYodC5fbGVuZ3RoIT09ZS5fbGVuZ3RofHx0LmMhPT1lLmMpcmV0dXJuITE7dmFyIHIscz10Ll9sZW5ndGg7Zm9yKHI9MDtzPnI7cis9MSlpZih0LnZbcl1bMF0hPT1lLnZbcl1bMF18fHQudltyXVsxXSE9PWUudltyXVsxXXx8dC5vW3JdWzBdIT09ZS5vW3JdWzBdfHx0Lm9bcl1bMV0hPT1lLm9bcl1bMV18fHQuaVtyXVswXSE9PWUuaVtyXVswXXx8dC5pW3JdWzFdIT09ZS5pW3JdWzFdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uICRibV9uZWcodCl7dmFyIGU9dHlwZW9mIHQ7aWYoXCJudW1iZXJcIj09PWV8fFwiYm9vbGVhblwiPT09ZXx8dCBpbnN0YW5jZW9mIE51bWJlcilyZXR1cm4tdDtpZih0LmNvbnN0cnVjdG9yPT09QXJyYXkpe3ZhciByLHM9dC5sZW5ndGgsaT1bXTtmb3Iocj0wO3M+cjtyKz0xKWlbcl09LXRbcl07cmV0dXJuIGl9fWZ1bmN0aW9uIHN1bSh0LGUpe3ZhciByPXR5cGVvZiB0LHM9dHlwZW9mIGU7aWYoXCJzdHJpbmdcIj09PXJ8fFwic3RyaW5nXCI9PT1zKXJldHVybiB0K2U7aWYoKFwibnVtYmVyXCI9PT1yfHxcImJvb2xlYW5cIj09PXJ8fFwic3RyaW5nXCI9PT1yfHx0IGluc3RhbmNlb2YgTnVtYmVyKSYmKFwibnVtYmVyXCI9PT1zfHxcImJvb2xlYW5cIj09PXN8fFwic3RyaW5nXCI9PT1zfHxlIGluc3RhbmNlb2YgTnVtYmVyKSlyZXR1cm4gdCtlO2lmKHQuY29uc3RydWN0b3I9PT1BcnJheSYmKFwibnVtYmVyXCI9PT1zfHxcImJvb2xlYW5cIj09PXN8fFwic3RyaW5nXCI9PT1zfHxlIGluc3RhbmNlb2YgTnVtYmVyKSlyZXR1cm4gdFswXT10WzBdK2UsdDtpZigoXCJudW1iZXJcIj09PXJ8fFwiYm9vbGVhblwiPT09cnx8XCJzdHJpbmdcIj09PXJ8fHQgaW5zdGFuY2VvZiBOdW1iZXIpJiZlLmNvbnN0cnVjdG9yPT09QXJyYXkpcmV0dXJuIGVbMF09dCtlWzBdLGU7aWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5JiZlLmNvbnN0cnVjdG9yPT09QXJyYXkpe2Zvcih2YXIgaT0wLGE9dC5sZW5ndGgsbj1lLmxlbmd0aCxvPVtdO2E+aXx8bj5pOylvW2ldPShcIm51bWJlclwiPT10eXBlb2YgdFtpXXx8dFtpXWluc3RhbmNlb2YgTnVtYmVyKSYmKFwibnVtYmVyXCI9PXR5cGVvZiBlW2ldfHxlW2ldaW5zdGFuY2VvZiBOdW1iZXIpP3RbaV0rZVtpXTp2b2lkIDA9PWVbaV0/dFtpXTp0W2ldfHxlW2ldLGkrPTE7cmV0dXJuIG99cmV0dXJuIDB9ZnVuY3Rpb24gc3ViKHQsZSl7dmFyIHI9dHlwZW9mIHQscz10eXBlb2YgZTtpZigoXCJudW1iZXJcIj09PXJ8fFwiYm9vbGVhblwiPT09cnx8XCJzdHJpbmdcIj09PXJ8fHQgaW5zdGFuY2VvZiBOdW1iZXIpJiYoXCJudW1iZXJcIj09PXN8fFwiYm9vbGVhblwiPT09c3x8XCJzdHJpbmdcIj09PXN8fGUgaW5zdGFuY2VvZiBOdW1iZXIpKXJldHVyblwic3RyaW5nXCI9PT1yJiYodD1wYXJzZUludCh0KSksXG5cInN0cmluZ1wiPT09cyYmKGU9cGFyc2VJbnQoZSkpLHQtZTtpZih0LmNvbnN0cnVjdG9yPT09QXJyYXkmJihcIm51bWJlclwiPT09c3x8XCJib29sZWFuXCI9PT1zfHxcInN0cmluZ1wiPT09c3x8ZSBpbnN0YW5jZW9mIE51bWJlcikpcmV0dXJuIHRbMF09dFswXS1lLHQ7aWYoKFwibnVtYmVyXCI9PT1yfHxcImJvb2xlYW5cIj09PXJ8fFwic3RyaW5nXCI9PT1yfHx0IGluc3RhbmNlb2YgTnVtYmVyKSYmZS5jb25zdHJ1Y3Rvcj09PUFycmF5KXJldHVybiBlWzBdPXQtZVswXSxlO2lmKHQuY29uc3RydWN0b3I9PT1BcnJheSYmZS5jb25zdHJ1Y3Rvcj09PUFycmF5KXtmb3IodmFyIGk9MCxhPXQubGVuZ3RoLG49ZS5sZW5ndGgsbz1bXTthPml8fG4+aTspb1tpXT1cIm51bWJlclwiPT10eXBlb2YgdFtpXXx8dFtpXWluc3RhbmNlb2YgTnVtYmVyP3RbaV0tZVtpXTp2b2lkIDA9PWVbaV0/dFtpXTp0W2ldfHxlW2ldLGkrPTE7cmV0dXJuIG99cmV0dXJuIDB9ZnVuY3Rpb24gbXVsKHQsZSl7dmFyIHIscz10eXBlb2YgdCxpPXR5cGVvZiBlO2lmKChcIm51bWJlclwiPT09c3x8XCJib29sZWFuXCI9PT1zfHxcInN0cmluZ1wiPT09c3x8dCBpbnN0YW5jZW9mIE51bWJlcikmJihcIm51bWJlclwiPT09aXx8XCJib29sZWFuXCI9PT1pfHxcInN0cmluZ1wiPT09aXx8ZSBpbnN0YW5jZW9mIE51bWJlcikpcmV0dXJuIHQqZTt2YXIgYSxuO2lmKHQuY29uc3RydWN0b3I9PT1BcnJheSYmKFwibnVtYmVyXCI9PT1pfHxcImJvb2xlYW5cIj09PWl8fFwic3RyaW5nXCI9PT1pfHxlIGluc3RhbmNlb2YgTnVtYmVyKSl7Zm9yKG49dC5sZW5ndGgscj1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6bn0pLGE9MDtuPmE7YSs9MSlyW2FdPXRbYV0qZTtyZXR1cm4gcn1pZigoXCJudW1iZXJcIj09PXN8fFwiYm9vbGVhblwiPT09c3x8XCJzdHJpbmdcIj09PXN8fHQgaW5zdGFuY2VvZiBOdW1iZXIpJiZlLmNvbnN0cnVjdG9yPT09QXJyYXkpe2ZvcihuPWUubGVuZ3RoLHI9QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOm59KSxhPTA7bj5hO2ErPTEpclthXT10KmVbYV07cmV0dXJuIHJ9cmV0dXJuIDB9ZnVuY3Rpb24gZGl2KHQsZSl7dmFyIHIscz10eXBlb2YgdCxpPXR5cGVvZiBlO2lmKChcIm51bWJlclwiPT09c3x8XCJib29sZWFuXCI9PT1zfHxcInN0cmluZ1wiPT09c3x8dCBpbnN0YW5jZW9mIE51bWJlcikmJihcIm51bWJlclwiPT09aXx8XCJib29sZWFuXCI9PT1pfHxcInN0cmluZ1wiPT09aXx8ZSBpbnN0YW5jZW9mIE51bWJlcikpcmV0dXJuIHQvZTt2YXIgYSxuO2lmKHQuY29uc3RydWN0b3I9PT1BcnJheSYmKFwibnVtYmVyXCI9PT1pfHxcImJvb2xlYW5cIj09PWl8fFwic3RyaW5nXCI9PT1pfHxlIGluc3RhbmNlb2YgTnVtYmVyKSl7Zm9yKG49dC5sZW5ndGgscj1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6bn0pLGE9MDtuPmE7YSs9MSlyW2FdPXRbYV0vZTtyZXR1cm4gcn1pZigoXCJudW1iZXJcIj09PXN8fFwiYm9vbGVhblwiPT09c3x8XCJzdHJpbmdcIj09PXN8fHQgaW5zdGFuY2VvZiBOdW1iZXIpJiZlLmNvbnN0cnVjdG9yPT09QXJyYXkpe2ZvcihuPWUubGVuZ3RoLHI9QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOm59KSxhPTA7bj5hO2ErPTEpclthXT10L2VbYV07cmV0dXJuIHJ9cmV0dXJuIDB9ZnVuY3Rpb24gbW9kKHQsZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PXBhcnNlSW50KHQpKSxcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9cGFyc2VJbnQoZSkpLHQlZX1mdW5jdGlvbiBjbGFtcCh0LGUscil7aWYoZT5yKXt2YXIgcz1yO3I9ZSxlPXN9cmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHQsZSkscil9ZnVuY3Rpb24gcmFkaWFuc1RvRGVncmVlcyh0KXtyZXR1cm4gdC9kZWdUb1JhZHN9ZnVuY3Rpb24gZGVncmVlc1RvUmFkaWFucyh0KXtyZXR1cm4gdCpkZWdUb1JhZHN9ZnVuY3Rpb24gbGVuZ3RoKHQsZSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIHR8fHQgaW5zdGFuY2VvZiBOdW1iZXIpcmV0dXJuIGU9ZXx8MCxNYXRoLmFicyh0LWUpO2V8fChlPWhlbHBlckxlbmd0aEFycmF5KTt2YXIgcixzPU1hdGgubWluKHQubGVuZ3RoLGUubGVuZ3RoKSxpPTA7Zm9yKHI9MDtzPnI7cis9MSlpKz1NYXRoLnBvdyhlW3JdLXRbcl0sMik7cmV0dXJuIE1hdGguc3FydChpKX1mdW5jdGlvbiBub3JtYWxpemUodCl7cmV0dXJuIGRpdih0LGxlbmd0aCh0KSl9ZnVuY3Rpb24gcmdiVG9Ic2wodCl7dmFyIGUscixzPXRbMF0saT10WzFdLGE9dFsyXSxuPU1hdGgubWF4KHMsaSxhKSxvPU1hdGgubWluKHMsaSxhKSxoPShuK28pLzI7aWYobj09byllPXI9MDtlbHNle3ZhciBsPW4tbztzd2l0Y2gocj1oPi41P2wvKDItbi1vKTpsLyhuK28pLG4pe2Nhc2UgczplPShpLWEpL2wrKGE+aT82OjApO2JyZWFrO2Nhc2UgaTplPShhLXMpL2wrMjticmVhaztjYXNlIGE6ZT0ocy1pKS9sKzR9ZS89Nn1yZXR1cm5bZSxyLGgsdFszXV19ZnVuY3Rpb24gaHNsVG9SZ2IodCl7ZnVuY3Rpb24gZSh0LGUscil7cmV0dXJuIDA+ciYmKHIrPTEpLHI+MSYmKHItPTEpLDEvNj5yP3QrNiooZS10KSpyOi41PnI/ZToyLzM+cj90KyhlLXQpKigyLzMtcikqNjp0fXZhciByLHMsaSxhPXRbMF0sbj10WzFdLG89dFsyXTtpZigwPT1uKXI9cz1pPW87ZWxzZXt2YXIgaD0uNT5vP28qKDErbik6bytuLW8qbixsPTIqby1oO3I9ZShsLGgsYSsxLzMpLHM9ZShsLGgsYSksaT1lKGwsaCxhLTEvMyl9cmV0dXJuW3IscyxpLHRbM11dfWZ1bmN0aW9uIGxpbmVhcih0LGUscixzLGkpe2lmKHZvaWQgMD09PXN8fHZvaWQgMD09PWkpcmV0dXJuIGxpbmVhcih0LDAsMSxlLHIpO2lmKGU+PXQpcmV0dXJuIHM7aWYodD49cilyZXR1cm4gaTt2YXIgYT1yPT09ZT8wOih0LWUpLyhyLWUpO2lmKCFzLmxlbmd0aClyZXR1cm4gcysoaS1zKSphO3ZhciBuLG89cy5sZW5ndGgsaD1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6b30pO2ZvcihuPTA7bz5uO24rPTEpaFtuXT1zW25dKyhpW25dLXNbbl0pKmE7cmV0dXJuIGh9ZnVuY3Rpb24gcmFuZG9tKHQsZSl7aWYodm9pZCAwPT09ZSYmKHZvaWQgMD09PXQ/KHQ9MCxlPTEpOihlPXQsdD12b2lkIDApKSxlLmxlbmd0aCl7dmFyIHIscz1lLmxlbmd0aDt0fHwodD1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6c30pKTt2YXIgaT1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6c30pLGE9Qk1NYXRoLnJhbmRvbSgpO2ZvcihyPTA7cz5yO3IrPTEpaVtyXT10W3JdK2EqKGVbcl0tdFtyXSk7cmV0dXJuIGl9dm9pZCAwPT09dCYmKHQ9MCk7dmFyIG49Qk1NYXRoLnJhbmRvbSgpO3JldHVybiB0K24qKGUtdCl9ZnVuY3Rpb24gY3JlYXRlUGF0aCh0LGUscixzKXtlPWUmJmUubGVuZ3RoP2U6dCxyPXImJnIubGVuZ3RoP3I6dDt2YXIgYT1zaGFwZV9wb29sLm5ld1NoYXBlKCksbj10Lmxlbmd0aDtmb3IoYS5zZXRQYXRoRGF0YShzLG4pLGk9MDtpPG47aSs9MSlhLnNldFRyaXBsZUF0KHRbaV1bMF0sdFtpXVsxXSxyW2ldWzBdK3RbaV1bMF0scltpXVsxXSt0W2ldWzFdLGVbaV1bMF0rdFtpXVswXSxlW2ldWzFdK3RbaV1bMV0saSwhMCk7cmV0dXJuIGF9ZnVuY3Rpb24gaW5pdGlhdGVFeHByZXNzaW9uKGVsZW0sZGF0YSxwcm9wZXJ0eSl7ZnVuY3Rpb24gbG9va0F0KHQsZSl7dmFyIHI9W2VbMF0tdFswXSxlWzFdLXRbMV0sZVsyXS10WzJdXSxzPU1hdGguYXRhbjIoclswXSxNYXRoLnNxcnQoclsxXSpyWzFdK3JbMl0qclsyXSkpL2RlZ1RvUmFkcyxpPS1NYXRoLmF0YW4yKHJbMV0sclsyXSkvZGVnVG9SYWRzO3JldHVybltpLHMsMF19ZnVuY3Rpb24gZWFzZU91dCh0LGUscil7cmV0dXJuLShyLWUpKnQqKHQtMikrZX1mdW5jdGlvbiBuZWFyZXN0S2V5KHQpe3ZhciBlLHIscyxpPWRhdGEuay5sZW5ndGg7aWYoZGF0YS5rLmxlbmd0aCYmXCJudW1iZXJcIiE9dHlwZW9mIGRhdGEua1swXSlpZihyPS0xLHQqPWVsZW0uY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSx0PGRhdGEua1swXS50KXI9MSxzPWRhdGEua1swXS50O2Vsc2V7Zm9yKGU9MDtpLTE+ZTtlKz0xKXtpZih0PT09ZGF0YS5rW2VdLnQpe3I9ZSsxLHM9ZGF0YS5rW2VdLnQ7YnJlYWt9aWYodD5kYXRhLmtbZV0udCYmdDxkYXRhLmtbZSsxXS50KXt0LWRhdGEua1tlXS50PmRhdGEua1tlKzFdLnQtdD8ocj1lKzIscz1kYXRhLmtbZSsxXS50KToocj1lKzEscz1kYXRhLmtbZV0udCk7YnJlYWt9fS0xPT09ciYmKHI9ZSsxLHM9ZGF0YS5rW2VdLnQpfWVsc2Ugcj0wLHM9MDt2YXIgYT17fTtyZXR1cm4gYS5pbmRleD1yLGEudGltZT1zL2VsZW0uY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSxhfWZ1bmN0aW9uIGtleSh0KXt2YXIgZSxyLHM7aWYoIWRhdGEuay5sZW5ndGh8fFwibnVtYmVyXCI9PXR5cGVvZiBkYXRhLmtbMF0pdGhyb3cgbmV3IEVycm9yKFwiVGhlIHByb3BlcnR5IGhhcyBubyBrZXlmcmFtZSBhdCBpbmRleCBcIit0KTt0LT0xLGU9e3RpbWU6ZGF0YS5rW3RdLnQvZWxlbS5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlfTt2YXIgaTtmb3IoaT10IT09ZGF0YS5rLmxlbmd0aC0xfHxkYXRhLmtbdF0uaD9kYXRhLmtbdF0uczpkYXRhLmtbdC0xXS5lLHM9aS5sZW5ndGgscj0wO3M+cjtyKz0xKWVbcl09aVtyXTtyZXR1cm4gZX1mdW5jdGlvbiBmcmFtZXNUb1RpbWUodCxlKXtyZXR1cm4gZXx8KGU9ZWxlbS5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlKSx0L2V9ZnVuY3Rpb24gdGltZVRvRnJhbWVzKHQsZSl7cmV0dXJuIHR8fDA9PT10fHwodD10aW1lKSxlfHwoZT1lbGVtLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUpLHQqZX1mdW5jdGlvbiBzZWVkUmFuZG9tKHQpe0JNTWF0aC5zZWVkcmFuZG9tKHJhbmRTZWVkK3QpfWZ1bmN0aW9uIHNvdXJjZVJlY3RBdFRpbWUoKXtyZXR1cm4gZWxlbS5zb3VyY2VSZWN0QXRUaW1lKCl9ZnVuY3Rpb24gZXhlY3V0ZUV4cHJlc3Npb24oKXtpZihfbmVlZHNSYW5kb20mJnNlZWRSYW5kb20ocmFuZFNlZWQpLHRoaXMuZnJhbWVFeHByZXNzaW9uSWQhPT1lbGVtLmdsb2JhbERhdGEuZnJhbWVJZHx8XCJ0ZXh0U2VsZWN0b3JcIj09PXRoaXMudHlwZSl7aWYodGhpcy5sb2NrKXJldHVybiB0aGlzLnY9ZHVwbGljYXRlUHJvcGVydHlWYWx1ZSh0aGlzLnB2LHRoaXMubXVsdCksITA7XCJ0ZXh0U2VsZWN0b3JcIj09PXRoaXMudHlwZSYmKHRleHRJbmRleD10aGlzLnRleHRJbmRleCx0ZXh0VG90YWw9dGhpcy50ZXh0VG90YWwsc2VsZWN0b3JWYWx1ZT10aGlzLnNlbGVjdG9yVmFsdWUpLHRoaXNMYXllcnx8KHRoaXNMYXllcj1lbGVtLmxheWVySW50ZXJmYWNlLHRoaXNDb21wPWVsZW0uY29tcC5jb21wSW50ZXJmYWNlLHRvV29ybGQ9dGhpc0xheWVyLnRvV29ybGQuYmluZCh0aGlzTGF5ZXIpLGZyb21Xb3JsZD10aGlzTGF5ZXIuZnJvbVdvcmxkLmJpbmQodGhpc0xheWVyKSxmcm9tQ29tcD10aGlzTGF5ZXIuZnJvbUNvbXAuYmluZCh0aGlzTGF5ZXIpLG1hc2s9dGhpc0xheWVyLm1hc2s/dGhpc0xheWVyLm1hc2suYmluZCh0aGlzTGF5ZXIpOm51bGwsZnJvbUNvbXBUb1N1cmZhY2U9ZnJvbUNvbXApLHRyYW5zZm9ybXx8KHRyYW5zZm9ybT1lbGVtLmxheWVySW50ZXJmYWNlKFwiQURCRSBUcmFuc2Zvcm0gR3JvdXBcIiksYW5jaG9yUG9pbnQ9dHJhbnNmb3JtLmFuY2hvclBvaW50KSw0IT09ZWxlbVR5cGV8fGNvbnRlbnR8fChjb250ZW50PXRoaXNMYXllcihcIkFEQkUgUm9vdCBWZWN0b3JzIEdyb3VwXCIpKSxlZmZlY3R8fChlZmZlY3Q9dGhpc0xheWVyKDQpKSxoYXNQYXJlbnQ9ISghZWxlbS5oaWVyYXJjaHl8fCFlbGVtLmhpZXJhcmNoeS5sZW5ndGgpLGhhc1BhcmVudCYmIXBhcmVudCYmKHBhcmVudD1lbGVtLmhpZXJhcmNoeVswXS5sYXllckludGVyZmFjZSksdGhpcy5sb2NrPSEwLHRoaXMuZ2V0UHJlVmFsdWUmJnRoaXMuZ2V0UHJlVmFsdWUoKSx2YWx1ZT10aGlzLnB2LHRpbWU9dGhpcy5jb21wLnJlbmRlcmVkRnJhbWUvdGhpcy5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLG5lZWRzVmVsb2NpdHkmJih2ZWxvY2l0eT12ZWxvY2l0eUF0VGltZSh0aW1lKSksYmluZGVkRm4oKSx0aGlzLmZyYW1lRXhwcmVzc2lvbklkPWVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkO3ZhciB0LGU7aWYodGhpcy5tdWx0KWlmKFwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLnZ8fHRoaXMudiBpbnN0YW5jZW9mIE51bWJlcnx8dGhpcy52IGluc3RhbmNlb2YgU3RyaW5nfHxcInN0cmluZ1wiPT10eXBlb2YgdGhpcy52KXRoaXMudio9dGhpcy5tdWx0O2Vsc2UgaWYoMT09PXRoaXMudi5sZW5ndGgpdGhpcy52PXRoaXMudlswXSp0aGlzLm11bHQ7ZWxzZSBmb3IoZT10aGlzLnYubGVuZ3RoLHZhbHVlPT09dGhpcy52JiYodGhpcy52PTI9PT1lP1t2YWx1ZVswXSx2YWx1ZVsxXV06W3ZhbHVlWzBdLHZhbHVlWzFdLHZhbHVlWzJdXSksdD0wO2U+dDt0Kz0xKXRoaXMudlt0XSo9dGhpcy5tdWx0O2lmKDE9PT10aGlzLnYubGVuZ3RoJiYodGhpcy52PXRoaXMudlswXSksXCJudW1iZXJcIj09dHlwZW9mIHRoaXMudnx8dGhpcy52IGluc3RhbmNlb2YgTnVtYmVyfHx0aGlzLnYgaW5zdGFuY2VvZiBTdHJpbmd8fFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLnYpdGhpcy5sYXN0VmFsdWUhPT10aGlzLnYmJih0aGlzLmxhc3RWYWx1ZT10aGlzLnYsdGhpcy5tZGY9ITApO2Vsc2UgaWYodGhpcy52Ll9sZW5ndGgpc2hhcGVzRXF1YWwodGhpcy52LHRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb24uc2hhcGVzWzBdKXx8KHRoaXMubWRmPSEwLHRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb24ucmVsZWFzZVNoYXBlcygpLHRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb24uYWRkU2hhcGUoc2hhcGVfcG9vbC5jbG9uZSh0aGlzLnYpKSk7ZWxzZSBmb3IoZT10aGlzLnYubGVuZ3RoLHQ9MDtlPnQ7dCs9MSl0aGlzLnZbdF0hPT10aGlzLmxhc3RWYWx1ZVt0XSYmKHRoaXMubGFzdFZhbHVlW3RdPXRoaXMudlt0XSx0aGlzLm1kZj0hMCk7dGhpcy5sb2NrPSExfX12YXIgdmFsPWRhdGEueCxuZWVkc1ZlbG9jaXR5PS92ZWxvY2l0eSg/IVtcXHdcXGRdKS8udGVzdCh2YWwpLF9uZWVkc1JhbmRvbT0tMSE9PXZhbC5pbmRleE9mKFwicmFuZG9tXCIpLGVsZW1UeXBlPWVsZW0uZGF0YS50eSx0cmFuc2Zvcm0sY29udGVudCxlZmZlY3QsdGhpc0NvbXA9ZWxlbS5jb21wLHRoaXNQcm9wZXJ0eT1wcm9wZXJ0eTtlbGVtLmNvbXAuZnJhbWVEdXJhdGlvbj0xL2VsZW0uY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZTt2YXIgaW5Qb2ludD1lbGVtLmRhdGEuaXAvZWxlbS5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLG91dFBvaW50PWVsZW0uZGF0YS5vcC9lbGVtLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUsd2lkdGg9ZWxlbS5kYXRhLnN3P2VsZW0uZGF0YS5zdzowLGhlaWdodD1lbGVtLmRhdGEuc2g/ZWxlbS5kYXRhLnNoOjAsbG9vcEluLGxvb3BfaW4sbG9vcE91dCxsb29wX291dCx0b1dvcmxkLGZyb21Xb3JsZCxmcm9tQ29tcCxmcm9tQ29tcFRvU3VyZmFjZSxhbmNob3JQb2ludCx0aGlzTGF5ZXIsdGhpc0NvbXAsbWFzayx2YWx1ZUF0VGltZSx2ZWxvY2l0eUF0VGltZSxmbj1uZXcgRnVuY3Rpb24sZm49ZXZhbChcIltmdW5jdGlvbigpe1wiK3ZhbCtcIjtpZigkYm1fcnQuX19zaGFwZU9iamVjdCl7dGhpcy52PXNoYXBlX3Bvb2wuY2xvbmUoJGJtX3J0LnYpO31lbHNle3RoaXMudj0kYm1fcnQ7fX1dXCIpWzBdLGJpbmRlZEZuPWZuLmJpbmQodGhpcyksbnVtS2V5cz1wcm9wZXJ0eS5rZj9kYXRhLmsubGVuZ3RoOjAsd2lnZ2xlPWZ1bmN0aW9uKHQsZSl7dmFyIHIscyxpPXRoaXMucHYubGVuZ3RoP3RoaXMucHYubGVuZ3RoOjEsYT1BcnJheS5hcHBseShudWxsLHtsZW46aX0pO2ZvcihzPTA7aT5zO3MrPTEpYVtzXT0wO3Q9NTt2YXIgbj1NYXRoLmZsb29yKHRpbWUqdCk7Zm9yKHI9MCxzPTA7bj5yOyl7Zm9yKHM9MDtpPnM7cys9MSlhW3NdKz0tZSsyKmUqQk1NYXRoLnJhbmRvbSgpO3IrPTF9dmFyIG89dGltZSp0LGg9by1NYXRoLmZsb29yKG8pLGw9QXJyYXkuYXBwbHkoe2xlbmd0aDppfSk7aWYoaT4xKXtmb3Iocz0wO2k+cztzKz0xKWxbc109dGhpcy5wdltzXSthW3NdKygtZSsyKmUqQk1NYXRoLnJhbmRvbSgpKSpoO3JldHVybiBsfXJldHVybiB0aGlzLnB2K2FbMF0rKC1lKzIqZSpCTU1hdGgucmFuZG9tKCkpKmh9LmJpbmQodGhpcyk7dGhpc1Byb3BlcnR5Lmxvb3BJbiYmKGxvb3BJbj10aGlzUHJvcGVydHkubG9vcEluLmJpbmQodGhpc1Byb3BlcnR5KSxsb29wX2luPWxvb3BJbiksdGhpc1Byb3BlcnR5Lmxvb3BPdXQmJihsb29wT3V0PXRoaXNQcm9wZXJ0eS5sb29wT3V0LmJpbmQodGhpc1Byb3BlcnR5KSxsb29wX291dD1sb29wT3V0KTt2YXIgbG9vcEluRHVyYXRpb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gbG9vcEluKHQsZSwhMCl9LmJpbmQodGhpcyksbG9vcE91dER1cmF0aW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGxvb3BPdXQodCxlLCEwKX0uYmluZCh0aGlzKTt0aGlzLmdldFZhbHVlQXRUaW1lJiYodmFsdWVBdFRpbWU9dGhpcy5nZXRWYWx1ZUF0VGltZS5iaW5kKHRoaXMpKSx0aGlzLmdldFZlbG9jaXR5QXRUaW1lJiYodmVsb2NpdHlBdFRpbWU9dGhpcy5nZXRWZWxvY2l0eUF0VGltZS5iaW5kKHRoaXMpKTt2YXIgY29tcD1lbGVtLmNvbXAuZ2xvYmFsRGF0YS5wcm9qZWN0SW50ZXJmYWNlLmJpbmQoZWxlbS5jb21wLmdsb2JhbERhdGEucHJvamVjdEludGVyZmFjZSksdGltZSx2ZWxvY2l0eSx2YWx1ZSx0ZXh0SW5kZXgsdGV4dFRvdGFsLHNlbGVjdG9yVmFsdWUsaW5kZXg9ZWxlbS5kYXRhLmluZCxoYXNQYXJlbnQ9ISghZWxlbS5oaWVyYXJjaHl8fCFlbGVtLmhpZXJhcmNoeS5sZW5ndGgpLHBhcmVudCxyYW5kU2VlZD1NYXRoLmZsb29yKDFlNipNYXRoLnJhbmRvbSgpKTtyZXR1cm4gZXhlY3V0ZUV4cHJlc3Npb259dmFyIG9iPXt9LE1hdGg9Qk1NYXRoLHdpbmRvdz1udWxsLGRvY3VtZW50PW51bGwsYWRkPXN1bSxyYWRpYW5zX3RvX2RlZ3JlZXM9cmFkaWFuc1RvRGVncmVlcyxkZWdyZWVzX3RvX3JhZGlhbnM9cmFkaWFuc1RvRGVncmVlcyxoZWxwZXJMZW5ndGhBcnJheT1bMCwwLDAsMCwwLDBdO3JldHVybiBvYi5pbml0aWF0ZUV4cHJlc3Npb249aW5pdGlhdGVFeHByZXNzaW9uLG9ifSgpLFNoYXBlRXhwcmVzc2lvbkludGVyZmFjZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLHIpe3JldHVybiBkKHQsZSxyKX1mdW5jdGlvbiBlKHQsZSxyKXtyZXR1cm4geSh0LGUscil9ZnVuY3Rpb24gcih0LGUscil7cmV0dXJuIGcodCxlLHIpfWZ1bmN0aW9uIHModCxlLHIpe3JldHVybiB2KHQsZSxyKX1mdW5jdGlvbiBpKHQsZSxyKXtyZXR1cm4gYih0LGUscil9ZnVuY3Rpb24gYSh0LGUscil7cmV0dXJuIEUodCxlLHIpfWZ1bmN0aW9uIG4odCxlLHIpe3JldHVybiBQKHQsZSxyKX1mdW5jdGlvbiBvKHQsZSxyKXtyZXR1cm4geCh0LGUscil9ZnVuY3Rpb24gaCh0LGUscil7cmV0dXJuIFModCxlLHIpfWZ1bmN0aW9uIGwodCxlLHIpe3JldHVybiBDKHQsZSxyKX1mdW5jdGlvbiBwKHQsZSxyKXtyZXR1cm4gayh0LGUscil9ZnVuY3Rpb24gbSh0LGUscil7cmV0dXJuIEEodCxlLHIpfWZ1bmN0aW9uIGYodCxlLHIpe3ZhciBzLGk9W10sYT10P3QubGVuZ3RoOjA7Zm9yKHM9MDthPnM7cys9MSlcImdyXCI9PXRbc10udHk/aS5wdXNoKFNoYXBlRXhwcmVzc2lvbkludGVyZmFjZS5jcmVhdGVHcm91cEludGVyZmFjZSh0W3NdLGVbc10scikpOlwiZmxcIj09dFtzXS50eT9pLnB1c2goU2hhcGVFeHByZXNzaW9uSW50ZXJmYWNlLmNyZWF0ZUZpbGxJbnRlcmZhY2UodFtzXSxlW3NdLHIpKTpcInN0XCI9PXRbc10udHk/aS5wdXNoKFNoYXBlRXhwcmVzc2lvbkludGVyZmFjZS5jcmVhdGVTdHJva2VJbnRlcmZhY2UodFtzXSxlW3NdLHIpKTpcInRtXCI9PXRbc10udHk/aS5wdXNoKFNoYXBlRXhwcmVzc2lvbkludGVyZmFjZS5jcmVhdGVUcmltSW50ZXJmYWNlKHRbc10sZVtzXSxyKSk6XCJ0clwiPT10W3NdLnR5fHwoXCJlbFwiPT10W3NdLnR5P2kucHVzaChTaGFwZUV4cHJlc3Npb25JbnRlcmZhY2UuY3JlYXRlRWxsaXBzZUludGVyZmFjZSh0W3NdLGVbc10scikpOlwic3JcIj09dFtzXS50eT9pLnB1c2goU2hhcGVFeHByZXNzaW9uSW50ZXJmYWNlLmNyZWF0ZVN0YXJJbnRlcmZhY2UodFtzXSxlW3NdLHIpKTpcInNoXCI9PXRbc10udHk/aS5wdXNoKFNoYXBlRXhwcmVzc2lvbkludGVyZmFjZS5jcmVhdGVQYXRoSW50ZXJmYWNlKHRbc10sZVtzXSxyKSk6XCJyY1wiPT10W3NdLnR5P2kucHVzaChTaGFwZUV4cHJlc3Npb25JbnRlcmZhY2UuY3JlYXRlUmVjdEludGVyZmFjZSh0W3NdLGVbc10scikpOlwicmRcIj09dFtzXS50eT9pLnB1c2goU2hhcGVFeHByZXNzaW9uSW50ZXJmYWNlLmNyZWF0ZVJvdW5kZWRJbnRlcmZhY2UodFtzXSxlW3NdLHIpKTpcInJwXCI9PXRbc10udHkmJmkucHVzaChTaGFwZUV4cHJlc3Npb25JbnRlcmZhY2UuY3JlYXRlUmVwYXRlYXJJbnRlcmZhY2UodFtzXSxlW3NdLHIpKSk7cmV0dXJuIGl9dmFyIGM9e2NyZWF0ZVNoYXBlSW50ZXJmYWNlOnQsY3JlYXRlR3JvdXBJbnRlcmZhY2U6ZSxjcmVhdGVUcmltSW50ZXJmYWNlOmksY3JlYXRlU3Ryb2tlSW50ZXJmYWNlOnMsY3JlYXRlVHJhbnNmb3JtSW50ZXJmYWNlOmEsY3JlYXRlRWxsaXBzZUludGVyZmFjZTpuLGNyZWF0ZVN0YXJJbnRlcmZhY2U6byxjcmVhdGVSZWN0SW50ZXJmYWNlOmgsY3JlYXRlUm91bmRlZEludGVyZmFjZTpsLGNyZWF0ZVJlcGF0ZWFySW50ZXJmYWNlOnAsY3JlYXRlUGF0aEludGVyZmFjZTptLGNyZWF0ZUZpbGxJbnRlcmZhY2U6cn0sZD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUscil7ZnVuY3Rpb24gcyh0KXtpZihcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm4gaVt0LTFdO2Zvcih2YXIgZT0wLHI9aS5sZW5ndGg7cj5lOyl7aWYoaVtlXS5fbmFtZT09PXQpcmV0dXJuIGlbZV07ZSs9MX19dmFyIGk7cmV0dXJuIHMucHJvcGVydHlHcm91cD1yLGk9Zih0LGUscyksc319KCksdT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUscil7dmFyIHMsaT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPXMubGVuZ3RoO3I+ZTspe2lmKHNbZV0uX25hbWU9PT10fHxzW2VdLm1uPT09dHx8c1tlXS5wcm9wZXJ0eUluZGV4PT09dHx8c1tlXS5peD09PXR8fHNbZV0uaW5kPT09dClyZXR1cm4gc1tlXTtlKz0xfXJldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0P3NbdC0xXTp2b2lkIDB9O3JldHVybiBpLnByb3BlcnR5R3JvdXA9ZnVuY3Rpb24odCl7cmV0dXJuIDE9PT10P2k6cih0LTEpfSxzPWYodC5pdCxlLml0LGkucHJvcGVydHlHcm91cCksaS5udW1Qcm9wZXJ0aWVzPXMubGVuZ3RoLGkucHJvcGVydHlJbmRleD10LmNpeCxpfX0oKSx5PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxyKXt2YXIgcz1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZVwiQURCRSBWZWN0b3JzIEdyb3VwXCI6Y2FzZVwiQ29udGVudHNcIjpjYXNlIDI6cmV0dXJuIHMuY29udGVudDtjYXNlXCJBREJFIFZlY3RvciBUcmFuc2Zvcm0gR3JvdXBcIjpjYXNlIDM6ZGVmYXVsdDpyZXR1cm4gcy50cmFuc2Zvcm19fTtzLnByb3BlcnR5R3JvdXA9ZnVuY3Rpb24odCl7cmV0dXJuIDE9PT10P3M6cih0LTEpfTt2YXIgaT11KHQsZSxzLnByb3BlcnR5R3JvdXApLGE9U2hhcGVFeHByZXNzaW9uSW50ZXJmYWNlLmNyZWF0ZVRyYW5zZm9ybUludGVyZmFjZSh0Lml0W3QuaXQubGVuZ3RoLTFdLGUuaXRbZS5pdC5sZW5ndGgtMV0scy5wcm9wZXJ0eUdyb3VwKTtyZXR1cm4gcy5jb250ZW50PWkscy50cmFuc2Zvcm09YSxPYmplY3QuZGVmaW5lUHJvcGVydHkocyxcIl9uYW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0Lm5tfX0pLHMubnVtUHJvcGVydGllcz10Lm5wLHMucHJvcGVydHlJbmRleD10Lml4LHMubm09dC5ubSxzLm1uPXQubW4sc319KCksZz1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUscil7ZnVuY3Rpb24gcyh0KXtyZXR1cm5cIkNvbG9yXCI9PT10fHxcImNvbG9yXCI9PT10P3MuY29sb3I6XCJPcGFjaXR5XCI9PT10fHxcIm9wYWNpdHlcIj09PXQ/cy5vcGFjaXR5OnZvaWQgMH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHMsXCJjb2xvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKGUuYywxL2UuYy5tdWx0LFwiY29sb3JcIil9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHMsXCJvcGFjaXR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFeHByZXNzaW9uVmFsdWUoZS5vLDEwMCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHMsXCJfbmFtZVwiLHt2YWx1ZTp0Lm5tfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHMsXCJtblwiLHt2YWx1ZTp0Lm1ufSksZS5jLnNldEdyb3VwUHJvcGVydHkociksZS5vLnNldEdyb3VwUHJvcGVydHkociksc319KCksdj1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUscil7ZnVuY3Rpb24gcyh0KXtyZXR1cm4gMT09PXQ/YzpyKHQtMSl9ZnVuY3Rpb24gaSh0KXtyZXR1cm4gMT09PXQ/bDpzKHQtMSl9ZnVuY3Rpb24gYShyKXtPYmplY3QuZGVmaW5lUHJvcGVydHkobCx0LmRbcl0ubm0se2dldDpmdW5jdGlvbigpe3JldHVybiBFeHByZXNzaW9uVmFsdWUoZS5kLmRhdGFQcm9wc1tyXS5wKX19KX1mdW5jdGlvbiBuKHQpe3JldHVyblwiQ29sb3JcIj09PXR8fFwiY29sb3JcIj09PXQ/bi5jb2xvcjpcIk9wYWNpdHlcIj09PXR8fFwib3BhY2l0eVwiPT09dD9uLm9wYWNpdHk6XCJTdHJva2UgV2lkdGhcIj09PXR8fFwic3Ryb2tlIHdpZHRoXCI9PT10P24uc3Ryb2tlV2lkdGg6dm9pZCAwfXZhciBvLGg9dC5kP3QuZC5sZW5ndGg6MCxsPXt9O2ZvcihvPTA7aD5vO28rPTEpYShvKSxlLmQuZGF0YVByb3BzW29dLnAuc2V0R3JvdXBQcm9wZXJ0eShpKTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJjb2xvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKGUuYywxL2UuYy5tdWx0LFwiY29sb3JcIil9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJvcGFjaXR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFeHByZXNzaW9uVmFsdWUoZS5vLDEwMCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJzdHJva2VXaWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKGUudyl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJkYXNoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBsfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX25hbWVcIix7dmFsdWU6dC5ubX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwibW5cIix7dmFsdWU6dC5tbn0pLGUuYy5zZXRHcm91cFByb3BlcnR5KHMpLGUuby5zZXRHcm91cFByb3BlcnR5KHMpLGUudy5zZXRHcm91cFByb3BlcnR5KHMpLG59fSgpLGI9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlLHIpe2Z1bmN0aW9uIHModCl7cmV0dXJuIDE9PXQ/aTpyKC0tdCl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZT09PXQuZS5peHx8XCJFbmRcIj09PWV8fFwiZW5kXCI9PT1lP2kuZW5kOmU9PT10LnMuaXg/aS5zdGFydDplPT09dC5vLml4P2kub2Zmc2V0OnZvaWQgMH1yZXR1cm4gaS5wcm9wZXJ0eUluZGV4PXQuaXgsZS5zLnNldEdyb3VwUHJvcGVydHkocyksZS5lLnNldEdyb3VwUHJvcGVydHkocyksZS5vLnNldEdyb3VwUHJvcGVydHkocyksaS5wcm9wZXJ0eUluZGV4PXQuaXgsT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJzdGFydFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKGUucywxL2Uucy5tdWx0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcImVuZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKGUuZSwxL2UuZS5tdWx0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIm9mZnNldFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKGUubyl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJfbmFtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5ubX19KSxpLm1uPXQubW4saX19KCksRT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUscil7ZnVuY3Rpb24gcyh0KXtyZXR1cm4gMT09dD9pOnIoLS10KX1mdW5jdGlvbiBpKGUpe3JldHVybiB0LmEuaXg9PT1lP2kuYW5jaG9yUG9pbnQ6dC5vLml4PT09ZT9pLm9wYWNpdHk6dC5wLml4PT09ZT9pLnBvc2l0aW9uOnQuci5peD09PWU/aS5yb3RhdGlvbjp0LnMuaXg9PT1lP2kuc2NhbGU6dC5zayYmdC5zay5peD09PWU/aS5za2V3OnQuc2EmJnQuc2EuaXg9PT1lP2kuc2tld0F4aXM6XCJPcGFjaXR5XCI9PT1lP2kub3BhY2l0eTpcIlBvc2l0aW9uXCI9PT1lP2kucG9zaXRpb246XCJBbmNob3IgUG9pbnRcIj09PWU/aS5hbmNob3JQb2ludDpcIlNjYWxlXCI9PT1lP2kuc2NhbGU6XCJSb3RhdGlvblwiPT09ZXx8XCJBREJFIFZlY3RvciBSb3RhdGlvblwiPT09ZT9pLnJvdGF0aW9uOlwiU2tld1wiPT09ZT9pLnNrZXc6XCJTa2V3IEF4aXNcIj09PWU/aS5za2V3QXhpczp2b2lkIDB9ZS50cmFuc2Zvcm0ubVByb3BzLm8uc2V0R3JvdXBQcm9wZXJ0eShzKSxlLnRyYW5zZm9ybS5tUHJvcHMucC5zZXRHcm91cFByb3BlcnR5KHMpLGUudHJhbnNmb3JtLm1Qcm9wcy5hLnNldEdyb3VwUHJvcGVydHkocyksZS50cmFuc2Zvcm0ubVByb3BzLnMuc2V0R3JvdXBQcm9wZXJ0eShzKSxlLnRyYW5zZm9ybS5tUHJvcHMuci5zZXRHcm91cFByb3BlcnR5KHMpLGUudHJhbnNmb3JtLm1Qcm9wcy5zayYmKGUudHJhbnNmb3JtLm1Qcm9wcy5zay5zZXRHcm91cFByb3BlcnR5KHMpLGUudHJhbnNmb3JtLm1Qcm9wcy5zYS5zZXRHcm91cFByb3BlcnR5KHMpKSxlLnRyYW5zZm9ybS5vcC5zZXRHcm91cFByb3BlcnR5KHMpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwib3BhY2l0eVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKGUudHJhbnNmb3JtLm1Qcm9wcy5vLDEvZS50cmFuc2Zvcm0ubVByb3BzLm8ubXVsdCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJwb3NpdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKGUudHJhbnNmb3JtLm1Qcm9wcy5wKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcImFuY2hvclBvaW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFeHByZXNzaW9uVmFsdWUoZS50cmFuc2Zvcm0ubVByb3BzLmEpfX0pO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcInNjYWxlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFeHByZXNzaW9uVmFsdWUoZS50cmFuc2Zvcm0ubVByb3BzLnMsMS9lLnRyYW5zZm9ybS5tUHJvcHMucy5tdWx0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcInJvdGF0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFeHByZXNzaW9uVmFsdWUoZS50cmFuc2Zvcm0ubVByb3BzLnIsMS9lLnRyYW5zZm9ybS5tUHJvcHMuci5tdWx0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcInNrZXdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZShlLnRyYW5zZm9ybS5tUHJvcHMuc2spfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwic2tld0F4aXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZShlLnRyYW5zZm9ybS5tUHJvcHMuc2EpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiX25hbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQubm19fSksaS50eT1cInRyXCIsaS5tbj10Lm1uLGl9fSgpLFA9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlLHIpe2Z1bmN0aW9uIHModCl7cmV0dXJuIDE9PXQ/aTpyKC0tdCl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gdC5wLml4PT09ZT9pLnBvc2l0aW9uOnQucy5peD09PWU/aS5zaXplOnZvaWQgMH1pLnByb3BlcnR5SW5kZXg9dC5peDt2YXIgYT1cInRtXCI9PT1lLnNoLnR5P2Uuc2gucHJvcDplLnNoO3JldHVybiBhLnMuc2V0R3JvdXBQcm9wZXJ0eShzKSxhLnAuc2V0R3JvdXBQcm9wZXJ0eShzKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZShhLnMpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwicG9zaXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZShhLnApfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiX25hbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQubm19fSksaS5tbj10Lm1uLGl9fSgpLHg9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlLHIpe2Z1bmN0aW9uIHModCl7cmV0dXJuIDE9PXQ/aTpyKC0tdCl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gdC5wLml4PT09ZT9pLnBvc2l0aW9uOnQuci5peD09PWU/aS5yb3RhdGlvbjp0LnB0Lml4PT09ZT9pLnBvaW50czp0Lm9yLml4PT09ZXx8XCJBREJFIFZlY3RvciBTdGFyIE91dGVyIFJhZGl1c1wiPT09ZT9pLm91dGVyUmFkaXVzOnQub3MuaXg9PT1lP2kub3V0ZXJSb3VuZG5lc3M6IXQuaXJ8fHQuaXIuaXghPT1lJiZcIkFEQkUgVmVjdG9yIFN0YXIgSW5uZXIgUmFkaXVzXCIhPT1lP3QuaXMmJnQuaXMuaXg9PT1lP2kuaW5uZXJSb3VuZG5lc3M6dm9pZCAwOmkuaW5uZXJSYWRpdXN9dmFyIGE9XCJ0bVwiPT09ZS5zaC50eT9lLnNoLnByb3A6ZS5zaDtyZXR1cm4gaS5wcm9wZXJ0eUluZGV4PXQuaXgsYS5vci5zZXRHcm91cFByb3BlcnR5KHMpLGEub3Muc2V0R3JvdXBQcm9wZXJ0eShzKSxhLnB0LnNldEdyb3VwUHJvcGVydHkocyksYS5wLnNldEdyb3VwUHJvcGVydHkocyksYS5yLnNldEdyb3VwUHJvcGVydHkocyksdC5pciYmKGEuaXIuc2V0R3JvdXBQcm9wZXJ0eShzKSxhLmlzLnNldEdyb3VwUHJvcGVydHkocykpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwicG9zaXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZShhLnApfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwicm90YXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZShhLnIsMS9hLnIubXVsdCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJwb2ludHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZShhLnB0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIm91dGVyUmFkaXVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFeHByZXNzaW9uVmFsdWUoYS5vcil9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJvdXRlclJvdW5kbmVzc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKGEub3MpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiaW5uZXJSYWRpdXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuaXI/RXhwcmVzc2lvblZhbHVlKGEuaXIpOjB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJpbm5lclJvdW5kbmVzc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5pcz9FeHByZXNzaW9uVmFsdWUoYS5pcywxL2EuaXMubXVsdCk6MH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIl9uYW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0Lm5tfX0pLGkubW49dC5tbixpfX0oKSxTPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxyKXtmdW5jdGlvbiBzKHQpe3JldHVybiAxPT10P2k6cigtLXQpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIHQucC5peD09PWU/aS5wb3NpdGlvbjp0LnIuaXg9PT1lP2kucm91bmRuZXNzOnQucy5peD09PWV8fFwiU2l6ZVwiPT09ZT9pLnNpemU6dm9pZCAwfXZhciBhPVwidG1cIj09PWUuc2gudHk/ZS5zaC5wcm9wOmUuc2g7cmV0dXJuIGkucHJvcGVydHlJbmRleD10Lml4LGEucC5zZXRHcm91cFByb3BlcnR5KHMpLGEucy5zZXRHcm91cFByb3BlcnR5KHMpLGEuci5zZXRHcm91cFByb3BlcnR5KHMpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwicG9zaXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZShhLnApfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwicm91bmRuZXNzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFeHByZXNzaW9uVmFsdWUoYS5yKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEV4cHJlc3Npb25WYWx1ZShhLnMpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiX25hbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQubm19fSksaS5tbj10Lm1uLGl9fSgpLEM9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlLHIpe2Z1bmN0aW9uIHModCl7cmV0dXJuIDE9PXQ/aTpyKC0tdCl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gdC5yLml4PT09ZXx8XCJSb3VuZCBDb3JuZXJzIDFcIj09PWU/aS5yYWRpdXM6dm9pZCAwfXZhciBhPWU7cmV0dXJuIGkucHJvcGVydHlJbmRleD10Lml4LGEucmQuc2V0R3JvdXBQcm9wZXJ0eShzKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcInJhZGl1c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKGEucmQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiX25hbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQubm19fSksaS5tbj10Lm1uLGl9fSgpLGs9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlLHIpe2Z1bmN0aW9uIHModCl7cmV0dXJuIDE9PXQ/aTpyKC0tdCl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gdC5jLml4PT09ZXx8XCJDb3BpZXNcIj09PWU/aS5jb3BpZXM6dC5vLml4PT09ZXx8XCJPZmZzZXRcIj09PWU/aS5vZmZzZXQ6dm9pZCAwfXZhciBhPWU7cmV0dXJuIGkucHJvcGVydHlJbmRleD10Lml4LGEuYy5zZXRHcm91cFByb3BlcnR5KHMpLGEuby5zZXRHcm91cFByb3BlcnR5KHMpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiY29waWVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFeHByZXNzaW9uVmFsdWUoYS5jKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIm9mZnNldFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRXhwcmVzc2lvblZhbHVlKGEubyl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJfbmFtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5ubX19KSxpLm1uPXQubW4saX19KCksQT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUscil7ZnVuY3Rpb24gcyh0KXtyZXR1cm4gMT09dD9pOnIoLS10KX1mdW5jdGlvbiBpKHQpe3JldHVyblwiU2hhcGVcIj09PXR8fFwic2hhcGVcIj09PXR8fFwiUGF0aFwiPT09dHx8XCJwYXRoXCI9PT10fHxcIkFEQkUgVmVjdG9yIFNoYXBlXCI9PT10fHwyPT09dD9pLnBhdGg6dm9pZCAwfXZhciBhPWUuc2g7cmV0dXJuIGEuc2V0R3JvdXBQcm9wZXJ0eShzKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcInBhdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuayYmYS5nZXRWYWx1ZSgpLGF9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJzaGFwZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5rJiZhLmdldFZhbHVlKCksYX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIl9uYW1lXCIse3ZhbHVlOnQubm19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIml4XCIse3ZhbHVlOnQuaXh9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIm1uXCIse3ZhbHVlOnQubW59KSxpfX0oKTtyZXR1cm4gY30oKSxUZXh0RXhwcmVzc2lvbkludGVyZmFjZT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7fXZhciByLHM7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwic291cmNlVGV4dFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10LnRleHRQcm9wZXJ0eS5jdXJyZW50RGF0YS50O3JldHVybiB0LnRleHRQcm9wZXJ0eS5jdXJyZW50RGF0YS50IT09ciYmKHQudGV4dFByb3BlcnR5LmN1cnJlbnREYXRhLnQ9cixzPW5ldyBTdHJpbmcoZSkscy52YWx1ZT1lP2U6bmV3IFN0cmluZyhlKSksc319KSxlfX0oKSxMYXllckV4cHJlc3Npb25JbnRlcmZhY2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIHI9bmV3IE1hdHJpeDtyLnJlc2V0KCk7dmFyIHM7aWYocz1lP3RoaXMuX2VsZW0uZmluYWxUcmFuc2Zvcm0ubVByb3A6dGhpcy5fZWxlbS5maW5hbFRyYW5zZm9ybS5tUHJvcCxzLmFwcGx5VG9NYXRyaXgociksdGhpcy5fZWxlbS5oaWVyYXJjaHkmJnRoaXMuX2VsZW0uaGllcmFyY2h5Lmxlbmd0aCl7dmFyIGksYT10aGlzLl9lbGVtLmhpZXJhcmNoeS5sZW5ndGg7Zm9yKGk9MDthPmk7aSs9MSl0aGlzLl9lbGVtLmhpZXJhcmNoeVtpXS5maW5hbFRyYW5zZm9ybS5tUHJvcC5hcHBseVRvTWF0cml4KHIpO3JldHVybiByLmFwcGx5VG9Qb2ludEFycmF5KHRbMF0sdFsxXSx0WzJdfHwwKX1yZXR1cm4gci5hcHBseVRvUG9pbnRBcnJheSh0WzBdLHRbMV0sdFsyXXx8MCl9ZnVuY3Rpb24gZSh0LGUpe3ZhciByPW5ldyBNYXRyaXg7ci5yZXNldCgpO3ZhciBzO2lmKHM9ZT90aGlzLl9lbGVtLmZpbmFsVHJhbnNmb3JtLm1Qcm9wOnRoaXMuX2VsZW0uZmluYWxUcmFuc2Zvcm0ubVByb3Ascy5hcHBseVRvTWF0cml4KHIpLHRoaXMuX2VsZW0uaGllcmFyY2h5JiZ0aGlzLl9lbGVtLmhpZXJhcmNoeS5sZW5ndGgpe3ZhciBpLGE9dGhpcy5fZWxlbS5oaWVyYXJjaHkubGVuZ3RoO2ZvcihpPTA7YT5pO2krPTEpdGhpcy5fZWxlbS5oaWVyYXJjaHlbaV0uZmluYWxUcmFuc2Zvcm0ubVByb3AuYXBwbHlUb01hdHJpeChyKTtyZXR1cm4gci5pbnZlcnNlUG9pbnQodCl9cmV0dXJuIHIuaW52ZXJzZVBvaW50KHQpfWZ1bmN0aW9uIHIodCl7dmFyIGU9bmV3IE1hdHJpeDtpZihlLnJlc2V0KCksdGhpcy5fZWxlbS5maW5hbFRyYW5zZm9ybS5tUHJvcC5hcHBseVRvTWF0cml4KGUpLHRoaXMuX2VsZW0uaGllcmFyY2h5JiZ0aGlzLl9lbGVtLmhpZXJhcmNoeS5sZW5ndGgpe3ZhciByLHM9dGhpcy5fZWxlbS5oaWVyYXJjaHkubGVuZ3RoO2ZvcihyPTA7cz5yO3IrPTEpdGhpcy5fZWxlbS5oaWVyYXJjaHlbcl0uZmluYWxUcmFuc2Zvcm0ubVByb3AuYXBwbHlUb01hdHJpeChlKTtyZXR1cm4gZS5pbnZlcnNlUG9pbnQodCl9cmV0dXJuIGUuaW52ZXJzZVBvaW50KHQpfXJldHVybiBmdW5jdGlvbihzKXtmdW5jdGlvbiBpKHQpe24ubWFzaz1uZXcgTWFza01hbmFnZXJJbnRlcmZhY2UodCxzKX1mdW5jdGlvbiBhKHQpe24uZWZmZWN0PXR9ZnVuY3Rpb24gbih0KXtzd2l0Y2godCl7Y2FzZVwiQURCRSBSb290IFZlY3RvcnMgR3JvdXBcIjpjYXNlXCJDb250ZW50c1wiOmNhc2UgMjpyZXR1cm4gbi5zaGFwZUludGVyZmFjZTtjYXNlIDE6Y2FzZSA2OmNhc2VcIlRyYW5zZm9ybVwiOmNhc2VcInRyYW5zZm9ybVwiOmNhc2VcIkFEQkUgVHJhbnNmb3JtIEdyb3VwXCI6cmV0dXJuIG87Y2FzZSA0OmNhc2VcIkFEQkUgRWZmZWN0IFBhcmFkZVwiOnJldHVybiBuLmVmZmVjdH19dmFyIG89VHJhbnNmb3JtRXhwcmVzc2lvbkludGVyZmFjZShzLnRyYW5zZm9ybSk7cmV0dXJuIG4udG9Xb3JsZD10LG4uZnJvbVdvcmxkPWUsbi50b0NvbXA9dCxuLmZyb21Db21wPXIsbi5zb3VyY2VSZWN0QXRUaW1lPXMuc291cmNlUmVjdEF0VGltZS5iaW5kKHMpLG4uX2VsZW09cyxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcImhhc1BhcmVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXMuaGllcmFyY2h5fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwicGFyZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBzLmhpZXJhcmNoeVswXS5sYXllckludGVyZmFjZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcInJvdGF0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBvLnJvdGF0aW9ufX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwic2NhbGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uc2NhbGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJwb3NpdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5wb3NpdGlvbn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcImFuY2hvclBvaW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBvLmFuY2hvclBvaW50fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwidHJhbnNmb3JtXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwid2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1zLmRhdGEudHk/cy5kYXRhLnc6MTAwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiaGVpZ2h0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiAwPT09cy5kYXRhLnR5P3MuZGF0YS5oOjEwMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcInNvdXJjZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5kYXRhLnJlZklkfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiaW5kZXhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuZGF0YS5pbmR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfbmFtZVwiLHt2YWx1ZTpzLmRhdGEubm19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcImNvbnRlbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uc2hhcGVJbnRlcmZhY2V9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJhY3RpdmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuaXNWaXNpYmxlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwidGV4dFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi50ZXh0SW50ZXJmYWNlfX0pLG4ucmVnaXN0ZXJNYXNrSW50ZXJmYWNlPWksbi5yZWdpc3RlckVmZmVjdHNJbnRlcmZhY2U9YSxufX0oKSxDb21wRXhwcmVzc2lvbkludGVyZmFjZT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe2Zvcih2YXIgcj0wLHM9dC5sYXllcnMubGVuZ3RoO3M+cjspe2lmKHQubGF5ZXJzW3JdLm5tPT09ZXx8dC5sYXllcnNbcl0uaW5kPT09ZSlyZXR1cm4gdC5lbGVtZW50c1tyXS5sYXllckludGVyZmFjZTtyKz0xfXJldHVybnthY3RpdmU6ITF9fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9uYW1lXCIse3ZhbHVlOnQuZGF0YS5ubX0pLGUubGF5ZXI9ZSxlLnBpeGVsQXNwZWN0PTEsZS5oZWlnaHQ9dC5nbG9iYWxEYXRhLmNvbXBTaXplLmgsZS53aWR0aD10Lmdsb2JhbERhdGEuY29tcFNpemUudyxlLnBpeGVsQXNwZWN0PTEsZS5mcmFtZUR1cmF0aW9uPTEvdC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSxlfX0oKSxUcmFuc2Zvcm1FeHByZXNzaW9uSW50ZXJmYWNlPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7c3dpdGNoKHIpe2Nhc2VcInNjYWxlXCI6Y2FzZVwiU2NhbGVcIjpjYXNlXCJBREJFIFNjYWxlXCI6Y2FzZSA2OnJldHVybiBlLnNjYWxlO2Nhc2VcInJvdGF0aW9uXCI6Y2FzZVwiUm90YXRpb25cIjpjYXNlXCJBREJFIFJvdGF0aW9uXCI6Y2FzZVwiQURCRSBSb3RhdGUgWlwiOmNhc2UgMTA6cmV0dXJuIGUucm90YXRpb247Y2FzZVwicG9zaXRpb25cIjpjYXNlXCJQb3NpdGlvblwiOmNhc2VcIkFEQkUgUG9zaXRpb25cIjpjYXNlIDI6cmV0dXJuIHQucG9zaXRpb247Y2FzZVwiYW5jaG9yUG9pbnRcIjpjYXNlXCJBbmNob3JQb2ludFwiOmNhc2VcIkFuY2hvciBQb2ludFwiOmNhc2VcIkFEQkUgQW5jaG9yUG9pbnRcIjpjYXNlIDE6cmV0dXJuIGUuYW5jaG9yUG9pbnQ7Y2FzZVwib3BhY2l0eVwiOmNhc2VcIk9wYWNpdHlcIjpjYXNlIDExOnJldHVybiBlLm9wYWNpdHl9fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInJvdGF0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LnJvdGF0aW9ufX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwic2NhbGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuc2NhbGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwb3NpdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5wb3NpdGlvbn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInhQb3NpdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC54UG9zaXRpb259fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJ5UG9zaXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQueVBvc2l0aW9ufX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiYW5jaG9yUG9pbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuYW5jaG9yUG9pbnR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJvcGFjaXR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0Lm9wYWNpdHl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJza2V3XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LnNrZXd9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJza2V3QXhpc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5za2V3QXhpc319KSxlfX0oKSxQcm9qZWN0SW50ZXJmYWNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmNvbXBvc2l0aW9ucy5wdXNoKHQpfXJldHVybiBmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7Zm9yKHZhciBlPTAscj10aGlzLmNvbXBvc2l0aW9ucy5sZW5ndGg7cj5lOyl7aWYodGhpcy5jb21wb3NpdGlvbnNbZV0uZGF0YSYmdGhpcy5jb21wb3NpdGlvbnNbZV0uZGF0YS5ubT09PXQpcmV0dXJuIHRoaXMuY29tcG9zaXRpb25zW2VdLnByZXBhcmVGcmFtZSYmdGhpcy5jb21wb3NpdGlvbnNbZV0ucHJlcGFyZUZyYW1lKHRoaXMuY3VycmVudEZyYW1lKSx0aGlzLmNvbXBvc2l0aW9uc1tlXS5jb21wSW50ZXJmYWNlO2UrPTF9fXJldHVybiBlLmNvbXBvc2l0aW9ucz1bXSxlLmN1cnJlbnRGcmFtZT0wLGUucmVnaXN0ZXJDb21wb3NpdGlvbj10LGV9fSgpLEVmZmVjdHNFeHByZXNzaW9uSW50ZXJmYWNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LHIpe2lmKHQuZWZmZWN0cyl7dmFyIHMsaT1bXSxhPXQuZGF0YS5lZixuPXQuZWZmZWN0cy5lZmZlY3RFbGVtZW50cy5sZW5ndGg7Zm9yKHM9MDtuPnM7cys9MSlpLnB1c2goZShhW3NdLHQuZWZmZWN0cy5lZmZlY3RFbGVtZW50c1tzXSxyLHQpKTtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciByPXQuZGF0YS5lZixzPTAsYT1yLmxlbmd0aDthPnM7KXtpZihlPT09cltzXS5ubXx8ZT09PXJbc10ubW58fGU9PT1yW3NdLml4KXJldHVybiBpW3NdO3MrPTF9fX19ZnVuY3Rpb24gZSh0LHMsaSxhKXtmdW5jdGlvbiBuKHQpe3JldHVybiAxPT09dD9wOmkodC0xKX12YXIgbyxoPVtdLGw9dC5lZi5sZW5ndGg7Zm9yKG89MDtsPm87bys9MSloLnB1c2goNT09PXQuZWZbb10udHk/ZSh0LmVmW29dLHMuZWZmZWN0RWxlbWVudHNbb10scy5lZmZlY3RFbGVtZW50c1tvXS5wcm9wZXJ0eUdyb3VwLGEpOnIocy5lZmZlY3RFbGVtZW50c1tvXSx0LmVmW29dLnR5LGEsbikpO3ZhciBwPWZ1bmN0aW9uKGUpe2Zvcih2YXIgcj10LmVmLHM9MCxpPXIubGVuZ3RoO2k+czspe2lmKGU9PT1yW3NdLm5tfHxlPT09cltzXS5tbnx8ZT09PXJbc10uaXgpcmV0dXJuIDU9PT1yW3NdLnR5P2hbc106aFtzXSgpO3MrPTF9cmV0dXJuIGhbMF0oKX07cmV0dXJuIHAucHJvcGVydHlHcm91cD1uLFwiQURCRSBDb2xvciBDb250cm9sXCI9PT10Lm1uJiZPYmplY3QuZGVmaW5lUHJvcGVydHkocCxcImNvbG9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBoWzBdKCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHAsXCJudW1Qcm9wZXJ0aWVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0Lm5wfX0pLHAuYWN0aXZlPTAhPT10LmVuLHB9ZnVuY3Rpb24gcih0LGUscixzKXtmdW5jdGlvbiBpKCl7cmV0dXJuIDEwPT09ZT9yLmNvbXAuY29tcEludGVyZmFjZSh0LnAudik6RXhwcmVzc2lvblZhbHVlKHQucCl9cmV0dXJuIHQucC5zZXRHcm91cFByb3BlcnR5JiZ0LnAuc2V0R3JvdXBQcm9wZXJ0eShzKSxpfXZhciBzPXtjcmVhdGVFZmZlY3RzSW50ZXJmYWNlOnR9O3JldHVybiBzfSgpLE1hc2tNYW5hZ2VySW50ZXJmYWNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX21hc2s9dCx0aGlzLl9kYXRhPWV9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibWFza1BhdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hc2sucHJvcC5rJiZ0aGlzLl9tYXNrLnByb3AuZ2V0VmFsdWUoKSx0aGlzLl9tYXNrLnByb3B9fSk7dmFyIGU9ZnVuY3Rpb24oZSxyKXt2YXIgcyxpPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDplLnZpZXdEYXRhLmxlbmd0aH0pLGE9ZS52aWV3RGF0YS5sZW5ndGg7Zm9yKHM9MDthPnM7cys9MSlpW3NdPW5ldyB0KGUudmlld0RhdGFbc10sZS5tYXNrc1Byb3BlcnRpZXNbc10pO3ZhciBuPWZ1bmN0aW9uKHQpe2ZvcihzPTA7YT5zOyl7aWYoZS5tYXNrc1Byb3BlcnRpZXNbc10ubm09PT10KXJldHVybiBpW3NdO3MrPTF9fTtyZXR1cm4gbn07cmV0dXJuIGV9KCksRXhwcmVzc2lvblZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxyKXt2YXIgczt0LmsmJnQuZ2V0VmFsdWUoKTt2YXIgaSxhLG47aWYocil7aWYoXCJjb2xvclwiPT09cil7Zm9yKGE9NCxzPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDphfSksbj1BcnJheS5hcHBseShudWxsLHtsZW5ndGg6YX0pLGk9MDthPmk7aSs9MSlzW2ldPW5baV09ZSYmMz5pP3QudltpXSplOjE7cy52YWx1ZT1ufX1lbHNlIGlmKFwibnVtYmVyXCI9PXR5cGVvZiB0LnZ8fHQudiBpbnN0YW5jZW9mIE51bWJlcilzPW5ldyBOdW1iZXIoZT90LnYqZTp0LnYpLHMudmFsdWU9ZT90LnYqZTp0LnY7ZWxzZXtmb3IoYT10LnYubGVuZ3RoLHM9QXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOmF9KSxuPUFycmF5LmFwcGx5KG51bGwse2xlbmd0aDphfSksaT0wO2E+aTtpKz0xKXNbaV09bltpXT1lP3QudltpXSplOnQudltpXTtzLnZhbHVlPW59cmV0dXJuIHMubnVtS2V5cz10LmtleWZyYW1lcz90LmtleWZyYW1lcy5sZW5ndGg6MCxzLmtleT1mdW5jdGlvbihlKXtyZXR1cm4gcy5udW1LZXlzP3Qua2V5ZnJhbWVzW2UtMV0udDowfSxzLnZhbHVlQXRUaW1lPXQuZ2V0VmFsdWVBdFRpbWUscy5wcm9wZXJ0eUdyb3VwPXQucHJvcGVydHlHcm91cCxzfX0oKTtHcm91cEVmZmVjdC5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oKXt0aGlzLm1kZj0hMTt2YXIgdCxlPXRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoO2Zvcih0PTA7ZT50O3QrPTEpdGhpcy5keW5hbWljUHJvcGVydGllc1t0XS5nZXRWYWx1ZSgpLHRoaXMubWRmPXRoaXMuZHluYW1pY1Byb3BlcnRpZXNbdF0ubWRmPyEwOnRoaXMubWRmfSxHcm91cEVmZmVjdC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUscil7dGhpcy5kYXRhPXQsdGhpcy5tZGY9ITEsdGhpcy5lZmZlY3RFbGVtZW50cz1bXTt2YXIgcyxpLGE9dGhpcy5kYXRhLmVmLmxlbmd0aCxuPXRoaXMuZGF0YS5lZjtmb3Iocz0wO2E+cztzKz0xKXN3aXRjaChuW3NdLnR5KXtjYXNlIDA6aT1uZXcgU2xpZGVyRWZmZWN0KG5bc10sZSxyKSx0aGlzLmVmZmVjdEVsZW1lbnRzLnB1c2goaSk7YnJlYWs7Y2FzZSAxOmk9bmV3IEFuZ2xlRWZmZWN0KG5bc10sZSxyKSx0aGlzLmVmZmVjdEVsZW1lbnRzLnB1c2goaSk7YnJlYWs7Y2FzZSAyOmk9bmV3IENvbG9yRWZmZWN0KG5bc10sZSxyKSx0aGlzLmVmZmVjdEVsZW1lbnRzLnB1c2goaSk7YnJlYWs7Y2FzZSAzOmk9bmV3IFBvaW50RWZmZWN0KG5bc10sZSxyKSx0aGlzLmVmZmVjdEVsZW1lbnRzLnB1c2goaSk7YnJlYWs7Y2FzZSA0OmNhc2UgNzppPW5ldyBDaGVja2JveEVmZmVjdChuW3NdLGUsciksdGhpcy5lZmZlY3RFbGVtZW50cy5wdXNoKGkpO2JyZWFrO2Nhc2UgMTA6aT1uZXcgTGF5ZXJJbmRleEVmZmVjdChuW3NdLGUsciksdGhpcy5lZmZlY3RFbGVtZW50cy5wdXNoKGkpO2JyZWFrO2Nhc2UgMTE6aT1uZXcgTWFza0luZGV4RWZmZWN0KG5bc10sZSxyKSx0aGlzLmVmZmVjdEVsZW1lbnRzLnB1c2goaSk7YnJlYWs7Y2FzZSA1Omk9bmV3IEVmZmVjdHNNYW5hZ2VyKG5bc10sZSxyKSx0aGlzLmVmZmVjdEVsZW1lbnRzLnB1c2goaSk7YnJlYWs7Y2FzZSA2Omk9bmV3IE5vVmFsdWVFZmZlY3QobltzXSxlLHIpLHRoaXMuZWZmZWN0RWxlbWVudHMucHVzaChpKX19O3ZhciBsb3R0aWVqcz17fTtsb3R0aWVqcy5wbGF5PXBsYXksbG90dGllanMucGF1c2U9cGF1c2UsbG90dGllanMuc2V0TG9jYXRpb25IcmVmPXNldExvY2F0aW9uSHJlZixsb3R0aWVqcy50b2dnbGVQYXVzZT10b2dnbGVQYXVzZSxsb3R0aWVqcy5zZXRTcGVlZD1zZXRTcGVlZCxsb3R0aWVqcy5zZXREaXJlY3Rpb249c2V0RGlyZWN0aW9uLGxvdHRpZWpzLnN0b3A9c3RvcCxsb3R0aWVqcy5tb3ZlRnJhbWU9bW92ZUZyYW1lLGxvdHRpZWpzLnNlYXJjaEFuaW1hdGlvbnM9c2VhcmNoQW5pbWF0aW9ucyxsb3R0aWVqcy5yZWdpc3RlckFuaW1hdGlvbj1yZWdpc3RlckFuaW1hdGlvbixsb3R0aWVqcy5sb2FkQW5pbWF0aW9uPWxvYWRBbmltYXRpb24sbG90dGllanMuc2V0U3ViZnJhbWVSZW5kZXJpbmc9c2V0U3ViZnJhbWVSZW5kZXJpbmcsbG90dGllanMucmVzaXplPXJlc2l6ZSxsb3R0aWVqcy5zdGFydD1zdGFydCxsb3R0aWVqcy5nb1RvQW5kU3RvcD1nb1RvQW5kU3RvcCxsb3R0aWVqcy5kZXN0cm95PWRlc3Ryb3ksbG90dGllanMuc2V0UXVhbGl0eT1zZXRRdWFsaXR5LGxvdHRpZWpzLmluQnJvd3Nlcj1pbkJyb3dzZXIsbG90dGllanMuaW5zdGFsbFBsdWdpbj1pbnN0YWxsUGx1Z2luLGxvdHRpZWpzLl9fZ2V0RmFjdG9yeT1nZXRGYWN0b3J5LGxvdHRpZWpzLnZlcnNpb249XCI1LjAuMFwiO3ZhciBzdGFuZGFsb25lPVwiX19bU1RBTkRBTE9ORV1fX1wiLGFuaW1hdGlvbkRhdGE9XCJfX1tBTklNQVRJT05EQVRBXV9fXCIscmVuZGVyZXI9XCJcIjtpZihzdGFuZGFsb25lKXt2YXIgc2NyaXB0cz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKSxpbmRleD1zY3JpcHRzLmxlbmd0aC0xLG15U2NyaXB0PXNjcmlwdHNbaW5kZXhdfHx7c3JjOlwiXCJ9LHF1ZXJ5U3RyaW5nPW15U2NyaXB0LnNyYy5yZXBsYWNlKC9eW15cXD9dK1xcPz8vLFwiXCIpO3JlbmRlcmVyPWdldFF1ZXJ5VmFyaWFibGUoXCJyZW5kZXJlclwiKX12YXIgcmVhZHlTdGF0ZUNoZWNrSW50ZXJ2YWw9c2V0SW50ZXJ2YWwoY2hlY2tSZWFkeSwxMDApO3JldHVybiBsb3R0aWVqc30pOyIsIiMjI1xuTG90dGllTGF5ZXJcbi1cbkltcGxlbWVudGF0aW9uIG9mIEhlcm5hbiBUb3JyaXNpICYgQWlyQm5iIFwiTG90dGllLVdlYlwiLCBmb3IgRnJhbWVyLlxuYnkgQDcybWVuYVxuIyMjXG5cbiMgSU5DTFVERSBMSUJSQVJZIOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlFxuaW5zZXJ0U2NyaXB0ID0gKGxvY2FsU2NyaXB0LCB3ZWJTY3JpcHQsIG5hbWUgPSAnSmF2YVNjcmlwdCBMaWJyYXJ5JykgLT5cblx0dHJ5XG5cdFx0bGliID0gVXRpbHMuZG9tTG9hZERhdGFTeW5jIGxvY2FsU2NyaXB0XG5cdFx0Y29uc29sZS5sb2cgXCIlYyN7bmFtZX0gU3VjY2Vzc2Z1bGx5IEluY2x1ZGVkIExvY2FsbHlcIiwgXCJiYWNrZ3JvdW5kOiAjRERGRkUzOyBjb2xvcjogIzAwNzgxNFwiXG5cdGNhdGNoIGVcblx0XHR0cnlcblx0XHRcdGxpYiA9IFV0aWxzLmRvbUxvYWREYXRhU3luYyB3ZWJTY3JpcHRcblx0XHRcdGNvbnNvbGUubG9nIFwiJWMje25hbWV9IFN1Y2Nlc3NmdWxseSBJbmNsdWRlZCBmcm9tIFdlYlwiLCBcImJhY2tncm91bmQ6ICNEREZGRTM7IGNvbG9yOiAjMDA3ODE0XCJcblx0XHRjYXRjaCBlXG5cdFx0XHR0aHJvdyBFcnJvcihcIlNvcnJ5LCBJIGNvdWxkbid0IGxvYWQgI3tuYW1lfVwiKVxuXG5cblx0c2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBcInNjcmlwdFwiXG5cdHNjcmlwdC50eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIlxuXHRzY3JpcHQuaW5uZXJIVE1MID0gbGliXG5cblx0aGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXVxuXHRoZWFkLmFwcGVuZENoaWxkIHNjcmlwdFxuXG5cdHNjcmlwdFxuXG5pbnNlcnRTY3JpcHQoXCJtb2R1bGVzL2xvdHRpZS5taW4uanNcIiwgXCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vYWlyYm5iL2xvdHRpZS13ZWIvbWFzdGVyL2J1aWxkL3BsYXllci9sb3R0aWUubWluLmpzXCIsIFwibG90dGllLXdlYlwiKVxuXG5cbiMgTE9UVElFIExBWUVSIOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlFxuY2xhc3MgZXhwb3J0cy5Mb3R0aWVMYXllciBleHRlbmRzIExheWVyXG5cblx0QGRlZmluZSBcInNwZWVkXCIsXG5cdFx0Z2V0OiAtPiBAX3Byb3BlcnRpZXNbXCJzcGVlZFwiXVxuXHRcdHNldDogKHZhbHVlKSAtPlxuXHRcdFx0QF9wcm9wZXJ0aWVzW1wic3BlZWRcIl0gPSB2YWx1ZVxuXHRcdFx0QHNldFNwZWVkKHZhbHVlKSBpZiBAYnVpbHRcblx0XHRcdEBlbWl0IFwiY2hhbmdlOnNwZWVkXCJcblxuXHRAZGVmaW5lIFwiZGlyZWN0aW9uXCIsXG5cdFx0Z2V0OiAtPiBAX3Byb3BlcnRpZXNbXCJkaXJlY3Rpb25cIl1cblx0XHRzZXQ6ICh2YWx1ZSkgLT5cblx0XHRcdEBfcHJvcGVydGllc1tcImRpcmVjdGlvblwiXSA9IHZhbHVlXG5cdFx0XHRAc2V0RGlyZWN0aW9uKHZhbHVlKSBpZiBAYnVpbHRcblx0XHRcdEBlbWl0IFwiY2hhbmdlOmRpcmVjdGlvblwiXG5cblx0QGRlZmluZSBcInBhdGhcIixcblx0XHRnZXQ6IC0+IEBfcHJvcGVydGllc1tcInBhdGhcIl1cblx0XHRzZXQ6ICh2YWx1ZSkgLT5cblx0XHRcdEBfcHJvcGVydGllc1tcInBhdGhcIl0gPSB2YWx1ZVxuXHRcdFx0QHNldFNldHRpbmdzKCkgaWYgQGJ1aWx0XG5cdFx0XHRAZW1pdCBcImNoYW5nZTpwYXRoXCJcblxuXG5cdGNvbnN0cnVjdG9yOiAoQG9wdGlvbnM9e30pIC0+XG5cdFx0IyBEZWZhdWx0c1xuXHRcdEBvcHRpb25zLmJhY2tncm91bmRDb2xvciA/PSBudWxsXG5cdFx0QG9wdGlvbnMucGF0aCA/PSBudWxsXG5cdFx0QG9wdGlvbnMuYXV0b3BsYXkgPz0gdHJ1ZVxuXHRcdEBvcHRpb25zLmxvb3AgPz0gdHJ1ZVxuXHRcdEBvcHRpb25zLnNwZWVkID89IDFcblx0XHRAb3B0aW9ucy5kaXJlY3Rpb24gPz0gMVxuXHRcdEBvcHRpb25zLnJlbmRlcmVyID89IFwic3ZnXCJcblxuXHRcdHN1cGVyIEBvcHRpb25zXG5cblx0XHRpZiBAb3B0aW9ucy5wYXRoIGlzIG51bGxcblx0XHRcdHByaW50IFwiRnJvbSBMb3R0aWVMYXllcjogU2V0dGluZyBhIHBhdGggdG8geW91ciBqc29uIGZpbGUgaXMgcmVxdWlyZWQuXCJcblx0XHRpZiBAbmFtZSBpcyBcIlwiXG5cdFx0XHRwcmludCBcIkZyb20gTG90dGllTGF5ZXI6IFRoZSAnbmFtZScgYXR0cmlidXRlIGlzIHJlcXVpcmVkLlwiXG5cblx0XHQjU2hvcnRjdXRzXG5cdFx0QGF1dG9wbGF5ID0gQG9wdGlvbnMuYXV0b3BsYXlcblx0XHRAbG9vcCA9IEBvcHRpb25zLmxvb3Bcblx0XHRAcmVuZGVyZXIgPSBAb3B0aW9ucy5yZW5kZXJlclxuXG5cdFx0I1ZhcnNcblx0XHRAYnVpbHQgPSBmYWxzZVxuXHRcdEBfYW5pbWF0aW9uTGF5ZXIgPSBudWxsXG5cblx0XHQjUnVuXG5cdFx0QGJ1aWxkKClcblxuXHRidWlsZDogKCkgLT5cblx0XHRAaHRtbCA9ICc8ZGl2IGlkPScrXCIje0BuYW1lfVwiKyc+PC9kaXY+J1xuXHRcdEBzZXRTZXR0aW5ncygpXG5cdFx0QGJ1aWx0ID0gdHJ1ZVxuXG5cdHNldFNldHRpbmdzOiAoKSAtPlxuXHRcdF9jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChAbmFtZSlcblx0XHRfY29udGFpbmVyLmlubmVySFRNTCA9IFwiXCJcblxuXHRcdGxvdHRpZVNldHRpbmdzID1cblx0XHRcdGNvbnRhaW5lcjogX2NvbnRhaW5lcixcblx0XHRcdHBhdGg6IEBwYXRoLFxuXHRcdFx0cmVuZGVyZXI6IEByZW5kZXJlcixcblx0XHRcdGF1dG9wbGF5OiBAYXV0b3BsYXksXG5cdFx0XHRsb29wOiBAbG9vcFxuXG5cdFx0QF9hbmltYXRpb25MYXllciA9IGxvdHRpZS5sb2FkQW5pbWF0aW9uKGxvdHRpZVNldHRpbmdzKTtcblx0XHRAc2V0U3BlZWQoKVxuXHRcdEBzZXREaXJlY3Rpb24oKVxuXG5cdHBsYXk6ICgpIC0+XG5cdFx0QF9hbmltYXRpb25MYXllci5wbGF5KClcblx0c3RvcDogKCkgLT5cblx0XHRAX2FuaW1hdGlvbkxheWVyLnN0b3AoKVxuXHRwYXVzZTogKCkgLT5cblx0XHRAX2FuaW1hdGlvbkxheWVyLnBhdXNlKClcblx0Z29Ub0FuZFBsYXk6ICh2YWx1ZSwgaXNGcmFtZSkgLT5cblx0XHRpc0ZyYW1lID89IHRydWVcblx0XHRAX2FuaW1hdGlvbkxheWVyLmdvVG9BbmRQbGF5KHZhbHVlLCBpc0ZyYW1lKVxuXHRnb1RvQW5kU3RvcDogKHZhbHVlLCBpc0ZyYW1lKSAtPlxuXHRcdGlzRnJhbWUgPz0gdHJ1ZVxuXHRcdEBfYW5pbWF0aW9uTGF5ZXIuZ29Ub0FuZFN0b3AodmFsdWUsIGlzRnJhbWUpXG5cdHBsYXlTZWdtZW50czogKHNlZ21lbnRzLCBmb3JjZUZsYWcpIC0+XG5cdFx0Zm9yY2VGbGFnID89IHRydWVcblx0XHRAX2FuaW1hdGlvbkxheWVyLnBsYXlTZWdtZW50cyhzZWdtZW50cywgZm9yY2VGbGFnKVxuXHRzZXRTcGVlZDogKHNwZWVkKSAtPlxuXHRcdHNwZWVkID89IEBzcGVlZFxuXHRcdEBfYW5pbWF0aW9uTGF5ZXIuc2V0U3BlZWQoc3BlZWQpXG5cdHNldERpcmVjdGlvbjogKGRpcmVjdGlvbikgLT5cblx0XHRkaXJlY3Rpb24gPz0gQGRpcmVjdGlvblxuXHRcdEBfYW5pbWF0aW9uTGF5ZXIuc2V0RGlyZWN0aW9uKGRpcmVjdGlvbilcblx0b25Db21wbGV0ZTogKGNhbGxiYWNrKSAtPlxuXHRcdGlmIEBsb29wXG5cdFx0XHRAX2FuaW1hdGlvbkxheWVyLmFkZEV2ZW50TGlzdGVuZXIgXCJsb29wQ29tcGxldGVcIiwgY2FsbGJhY2tcblx0XHRlbHNlXG5cdFx0XHRAX2FuaW1hdGlvbkxheWVyLmFkZEV2ZW50TGlzdGVuZXIgXCJjb21wbGV0ZVwiLCBjYWxsYmFja1xuIiwiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFHQUE7O0FEQUE7Ozs7OztBQUFBLElBQUEsWUFBQTtFQUFBOzs7QUFRQSxZQUFBLEdBQWUsU0FBQyxXQUFELEVBQWMsU0FBZCxFQUF5QixJQUF6QjtBQUNkLE1BQUE7O0lBRHVDLE9BQU87O0FBQzlDO0lBQ0MsR0FBQSxHQUFNLEtBQUssQ0FBQyxlQUFOLENBQXNCLFdBQXRCO0lBQ04sT0FBTyxDQUFDLEdBQVIsQ0FBWSxJQUFBLEdBQUssSUFBTCxHQUFVLGdDQUF0QixFQUF1RCxxQ0FBdkQsRUFGRDtHQUFBLGFBQUE7SUFHTTtBQUNMO01BQ0MsR0FBQSxHQUFNLEtBQUssQ0FBQyxlQUFOLENBQXNCLFNBQXRCO01BQ04sT0FBTyxDQUFDLEdBQVIsQ0FBWSxJQUFBLEdBQUssSUFBTCxHQUFVLGlDQUF0QixFQUF3RCxxQ0FBeEQsRUFGRDtLQUFBLGFBQUE7TUFHTTtBQUNMLFlBQU0sS0FBQSxDQUFNLHlCQUFBLEdBQTBCLElBQWhDLEVBSlA7S0FKRDs7RUFXQSxNQUFBLEdBQVMsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsUUFBdkI7RUFDVCxNQUFNLENBQUMsSUFBUCxHQUFjO0VBQ2QsTUFBTSxDQUFDLFNBQVAsR0FBbUI7RUFFbkIsSUFBQSxHQUFPLFFBQVEsQ0FBQyxvQkFBVCxDQUE4QixNQUE5QixDQUFzQyxDQUFBLENBQUE7RUFDN0MsSUFBSSxDQUFDLFdBQUwsQ0FBaUIsTUFBakI7U0FFQTtBQW5CYzs7QUFxQmYsWUFBQSxDQUFhLHVCQUFiLEVBQXNDLHVGQUF0QyxFQUErSCxZQUEvSDs7QUFJTSxPQUFPLENBQUM7OztFQUViLFdBQUMsQ0FBQSxNQUFELENBQVEsT0FBUixFQUNDO0lBQUEsR0FBQSxFQUFLLFNBQUE7YUFBRyxJQUFDLENBQUEsV0FBWSxDQUFBLE9BQUE7SUFBaEIsQ0FBTDtJQUNBLEdBQUEsRUFBSyxTQUFDLEtBQUQ7TUFDSixJQUFDLENBQUEsV0FBWSxDQUFBLE9BQUEsQ0FBYixHQUF3QjtNQUN4QixJQUFvQixJQUFDLENBQUEsS0FBckI7UUFBQSxJQUFDLENBQUEsUUFBRCxDQUFVLEtBQVYsRUFBQTs7YUFDQSxJQUFDLENBQUEsSUFBRCxDQUFNLGNBQU47SUFISSxDQURMO0dBREQ7O0VBT0EsV0FBQyxDQUFBLE1BQUQsQ0FBUSxXQUFSLEVBQ0M7SUFBQSxHQUFBLEVBQUssU0FBQTthQUFHLElBQUMsQ0FBQSxXQUFZLENBQUEsV0FBQTtJQUFoQixDQUFMO0lBQ0EsR0FBQSxFQUFLLFNBQUMsS0FBRDtNQUNKLElBQUMsQ0FBQSxXQUFZLENBQUEsV0FBQSxDQUFiLEdBQTRCO01BQzVCLElBQXdCLElBQUMsQ0FBQSxLQUF6QjtRQUFBLElBQUMsQ0FBQSxZQUFELENBQWMsS0FBZCxFQUFBOzthQUNBLElBQUMsQ0FBQSxJQUFELENBQU0sa0JBQU47SUFISSxDQURMO0dBREQ7O0VBT0EsV0FBQyxDQUFBLE1BQUQsQ0FBUSxNQUFSLEVBQ0M7SUFBQSxHQUFBLEVBQUssU0FBQTthQUFHLElBQUMsQ0FBQSxXQUFZLENBQUEsTUFBQTtJQUFoQixDQUFMO0lBQ0EsR0FBQSxFQUFLLFNBQUMsS0FBRDtNQUNKLElBQUMsQ0FBQSxXQUFZLENBQUEsTUFBQSxDQUFiLEdBQXVCO01BQ3ZCLElBQWtCLElBQUMsQ0FBQSxLQUFuQjtRQUFBLElBQUMsQ0FBQSxXQUFELENBQUEsRUFBQTs7YUFDQSxJQUFDLENBQUEsSUFBRCxDQUFNLGFBQU47SUFISSxDQURMO0dBREQ7O0VBUWEscUJBQUMsT0FBRDtBQUVaLFFBQUE7SUFGYSxJQUFDLENBQUEsNEJBQUQsVUFBUzs7VUFFZCxDQUFDLGtCQUFtQjs7O1dBQ3BCLENBQUMsT0FBUTs7O1dBQ1QsQ0FBQyxXQUFZOzs7V0FDYixDQUFDLE9BQVE7OztXQUNULENBQUMsUUFBUzs7O1dBQ1YsQ0FBQyxZQUFhOzs7V0FDZCxDQUFDLFdBQVk7O0lBRXJCLDZDQUFNLElBQUMsQ0FBQSxPQUFQO0lBRUEsSUFBRyxJQUFDLENBQUEsT0FBTyxDQUFDLElBQVQsS0FBaUIsSUFBcEI7TUFDQyxLQUFBLENBQU0saUVBQU4sRUFERDs7SUFFQSxJQUFHLElBQUMsQ0FBQSxJQUFELEtBQVMsRUFBWjtNQUNDLEtBQUEsQ0FBTSxxREFBTixFQUREOztJQUlBLElBQUMsQ0FBQSxRQUFELEdBQVksSUFBQyxDQUFBLE9BQU8sQ0FBQztJQUNyQixJQUFDLENBQUEsSUFBRCxHQUFRLElBQUMsQ0FBQSxPQUFPLENBQUM7SUFDakIsSUFBQyxDQUFBLFFBQUQsR0FBWSxJQUFDLENBQUEsT0FBTyxDQUFDO0lBR3JCLElBQUMsQ0FBQSxLQUFELEdBQVM7SUFDVCxJQUFDLENBQUEsZUFBRCxHQUFtQjtJQUduQixJQUFDLENBQUEsS0FBRCxDQUFBO0VBM0JZOzt3QkE2QmIsS0FBQSxHQUFPLFNBQUE7SUFDTixJQUFDLENBQUEsSUFBRCxHQUFRLFVBQUEsR0FBVyxDQUFBLEVBQUEsR0FBRyxJQUFDLENBQUEsSUFBSixDQUFYLEdBQXNCO0lBQzlCLElBQUMsQ0FBQSxXQUFELENBQUE7V0FDQSxJQUFDLENBQUEsS0FBRCxHQUFTO0VBSEg7O3dCQUtQLFdBQUEsR0FBYSxTQUFBO0FBQ1osUUFBQTtJQUFBLFVBQUEsR0FBYSxRQUFRLENBQUMsY0FBVCxDQUF3QixJQUFDLENBQUEsSUFBekI7SUFDYixVQUFVLENBQUMsU0FBWCxHQUF1QjtJQUV2QixjQUFBLEdBQ0M7TUFBQSxTQUFBLEVBQVcsVUFBWDtNQUNBLElBQUEsRUFBTSxJQUFDLENBQUEsSUFEUDtNQUVBLFFBQUEsRUFBVSxJQUFDLENBQUEsUUFGWDtNQUdBLFFBQUEsRUFBVSxJQUFDLENBQUEsUUFIWDtNQUlBLElBQUEsRUFBTSxJQUFDLENBQUEsSUFKUDs7SUFNRCxJQUFDLENBQUEsZUFBRCxHQUFtQixNQUFNLENBQUMsYUFBUCxDQUFxQixjQUFyQjtJQUNuQixJQUFDLENBQUEsUUFBRCxDQUFBO1dBQ0EsSUFBQyxDQUFBLFlBQUQsQ0FBQTtFQWJZOzt3QkFlYixJQUFBLEdBQU0sU0FBQTtXQUNMLElBQUMsQ0FBQSxlQUFlLENBQUMsSUFBakIsQ0FBQTtFQURLOzt3QkFFTixJQUFBLEdBQU0sU0FBQTtXQUNMLElBQUMsQ0FBQSxlQUFlLENBQUMsSUFBakIsQ0FBQTtFQURLOzt3QkFFTixLQUFBLEdBQU8sU0FBQTtXQUNOLElBQUMsQ0FBQSxlQUFlLENBQUMsS0FBakIsQ0FBQTtFQURNOzt3QkFFUCxXQUFBLEdBQWEsU0FBQyxLQUFELEVBQVEsT0FBUjs7TUFDWixVQUFXOztXQUNYLElBQUMsQ0FBQSxlQUFlLENBQUMsV0FBakIsQ0FBNkIsS0FBN0IsRUFBb0MsT0FBcEM7RUFGWTs7d0JBR2IsV0FBQSxHQUFhLFNBQUMsS0FBRCxFQUFRLE9BQVI7O01BQ1osVUFBVzs7V0FDWCxJQUFDLENBQUEsZUFBZSxDQUFDLFdBQWpCLENBQTZCLEtBQTdCLEVBQW9DLE9BQXBDO0VBRlk7O3dCQUdiLFlBQUEsR0FBYyxTQUFDLFFBQUQsRUFBVyxTQUFYOztNQUNiLFlBQWE7O1dBQ2IsSUFBQyxDQUFBLGVBQWUsQ0FBQyxZQUFqQixDQUE4QixRQUE5QixFQUF3QyxTQUF4QztFQUZhOzt3QkFHZCxRQUFBLEdBQVUsU0FBQyxLQUFEOztNQUNULFFBQVMsSUFBQyxDQUFBOztXQUNWLElBQUMsQ0FBQSxlQUFlLENBQUMsUUFBakIsQ0FBMEIsS0FBMUI7RUFGUzs7d0JBR1YsWUFBQSxHQUFjLFNBQUMsU0FBRDs7TUFDYixZQUFhLElBQUMsQ0FBQTs7V0FDZCxJQUFDLENBQUEsZUFBZSxDQUFDLFlBQWpCLENBQThCLFNBQTlCO0VBRmE7O3dCQUdkLFVBQUEsR0FBWSxTQUFDLFFBQUQ7SUFDWCxJQUFHLElBQUMsQ0FBQSxJQUFKO2FBQ0MsSUFBQyxDQUFBLGVBQWUsQ0FBQyxnQkFBakIsQ0FBa0MsY0FBbEMsRUFBa0QsUUFBbEQsRUFERDtLQUFBLE1BQUE7YUFHQyxJQUFDLENBQUEsZUFBZSxDQUFDLGdCQUFqQixDQUFrQyxVQUFsQyxFQUE4QyxRQUE5QyxFQUhEOztFQURXOzs7O0dBOUZxQjs7OztBRGpDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBREpBLE9BQU8sQ0FBQyxLQUFSLEdBQWdCOztBQUVoQixPQUFPLENBQUMsVUFBUixHQUFxQixTQUFBO1NBQ3BCLEtBQUEsQ0FBTSx1QkFBTjtBQURvQjs7QUFHckIsT0FBTyxDQUFDLE9BQVIsR0FBa0IsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAifQ==
